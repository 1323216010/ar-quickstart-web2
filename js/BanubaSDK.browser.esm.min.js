/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/@banuba/webar@1.6.0/dist/BanubaSDK.browser.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Ts=Object.defineProperty,ks=(e,t,l)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,K=(e,t,l)=>(ks(e,"symbol"!=typeof t?t+"":t,l),l);let Us=0;const si=()=>Us++,mi="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCh7ZGF0YTp0fSk9Pntjb25zdCBzPXtpZDp0LmlkfTtzZXRUaW1lb3V0KHBvc3RNZXNzYWdlLHQudGltZW91dCxzKX0pfSkoKTsK",On=typeof window<"u"&&window.Blob&&new Blob([atob(mi)],{type:"text/javascript;charset=utf-8"});function Hs(){const e=On&&(window.URL||window.webkitURL).createObjectURL(On);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+mi)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}let Ot;const fl=new Map,ui=(e,t)=>{const l=si(),n={id:l,timeout:t};return fl.set(n.id,e),Ot||(Ot=new Hs,Ot.onmessage=({data:e})=>{const t=fl.get(e.id);fl.delete(e.id),t()}),Ot.postMessage(n),l},Cs=60,_n=1e3/60,_t=[];let An=0;const oi=e=>{const t=si();if(0===_t.length){const e=performance.now();ui((()=>{const e=An=performance.now(),t=[..._t];_t.length=0,t.forEach((t=>t(e)))}),_n-(e-An)%_n)}return _t.push(e),t},Ms=Object.freeze(Object.defineProperty({__proto__:null,setTimeout:ui,requestAnimationFrame:oi},Symbol.toStringTag,{value:"Module"})),ws=(...e)=>window.setTimeout(...e),el=new Map,zs=e=>{const t=window.requestAnimationFrame(((...l)=>{el.delete(t),e(...l)}));return el.set(t,e),t};typeof document<"u"&&document.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&el.forEach(((e,t)=>{el.delete(t),cancelAnimationFrame(t),oi(e)}))}));const Es=Object.freeze(Object.defineProperty({__proto__:null,setTimeout:ws,requestAnimationFrame:zs},Symbol.toStringTag,{value:"Module"})),js=typeof document<"u"?document:{visibilityState:"hidden"},bi=()=>"visible"===js.visibilityState?Es:Ms,Ae=e=>bi().requestAnimationFrame(e),Zi=(e,t)=>bi().setTimeout(e,t),qn=e=>Promise.resolve().then(e),Ps={requestAnimationFrame:Ae,setTimeout:Zi},Bs=()=>new Promise((e=>Ae(e))),pi=(e=-1)=>function(t,l,n){const i=n,c=i.value;return{...i,value:async function*(...t){const l=c.apply(this,t);let n=0,i=0;for(;;){const t=1e3/e,c=.1*t;for(;(i=performance.now())-n<t-c;)await new Promise((e=>Ae(e)));n=i;const{done:d,value:a}=await l.next();if(d)return a;const r=yield a;typeof r<"u"&&(e=r)}}}},Hl=async(e,t={})=>new Promise((l=>{const n=document.createElement("video");if(n.muted=!0,n.controls=!1,n.playsInline=!0,Object.assign(n,t),e instanceof globalThis.MediaStream)n.srcObject=e,n.addEventListener("ended",(()=>n.srcObject=null),{once:!0}),e.addEventListener("inactive",(()=>n.dispatchEvent(new CustomEvent("ended"))),{once:!0});else{if("string"!=typeof e){const t=e=URL.createObjectURL(e);n.addEventListener("emptied",(()=>URL.revokeObjectURL(t)),{once:!0})}n.crossOrigin="anonymous",n.src=e,n.addEventListener("ended",(()=>n.src=""),{once:!0})}n.style.position="fixed",n.style.zIndex="-9999999",n.style.opacity="0.0000000001",document.body.appendChild(n),n.addEventListener("emptied",(()=>n.remove()),{once:!0});const i=setInterval((()=>n.readyState),300);n.addEventListener("play",(()=>clearInterval(i)),{once:!0}),n.addEventListener("play",(()=>l(n)),{once:!0}),n.addEventListener("loadedmetadata",(()=>n.play()),{once:!0})})),Qs=e=>new Promise(((t,l)=>{const n=document.createElement("img");n.onload=()=>t(n),n.onerror=l,n.crossOrigin="anonymous",n.src="string"==typeof e?e:URL.createObjectURL(e)})),Wi=(e=300,t=150)=>{let l;return typeof OffscreenCanvas>"u"?(l=document.createElement("canvas"),l.width=e,l.height=t):l=new OffscreenCanvas(e,t),l},Ds=(e,t={})=>{const l=e||Wi(),n=l.getContext("2d",t);return{get width(){return l.width},get height(){return l.height},get format(){return"RGBA"},drawImage:async(e,t,i,c,d)=>{var a,r;l.width=null!=(a=e.videoWidth)?a:e.width,l.height=null!=(r=e.videoHeight)?r:e.height,n.save(),n.translate(t,i),n.scale(Math.sign(c),Math.sign(d)),e instanceof ImageData?n.putImageData(e,t,i):n.drawImage(e,0,0,Math.abs(c),Math.abs(d)),n.restore()},getImageData:async(e,t,l,i,c)=>{const{width:d,height:a,data:r}=n.getImageData(e,t,l,i);return c.set(r),{width:d,height:a,data:c,format:"RGBA"}},createImageBitmap:async()=>createImageBitmap(l),dispose:()=>{}}},Os="#version 300 es\n#define GLSLIFY 1\n\nuniform vec2 u_scale;\nout vec2 v_tex_uv;\n\n// https://rauwendaal.net/2014/06/14/rendering-a-screen-covering-triangle-in-opengl/\nvoid main() {\n  float x = -1.0 + float((gl_VertexID & 1) << 2);\n  float y = -1.0 + float((gl_VertexID & 2) << 1);\n\n  v_tex_uv.x = (x + 1.0) * 0.5;\n  v_tex_uv.y = (y + 1.0) * 0.5;\n\n  gl_Position = vec4(x, y, 0, 1);\n  gl_Position.xy *= u_scale;\n}\n",_s="#version 300 es\n\nprecision mediump float;\n#define GLSLIFY 1\n\nin vec2 v_tex_uv;\nuniform sampler2D u_texture;\n\nlayout(location = 0) out vec4 fragColor0;\nlayout(location = 1) out vec4 fragColor1;\n\nvoid main () {\n  fragColor0 = texture(u_texture, vec2(v_tex_uv.x, 1. - v_tex_uv.y)); // flip Y for screen render\n  fragColor1 = texture(u_texture, v_tex_uv);  // keep upside down for read pixels\n}\n  ",hi=(e,t,l)=>{const n=e.createProgram();return e.attachShader(n,t),e.attachShader(n,l),e.linkProgram(n),e.useProgram(n),n},tl=(e,t,l)=>{const n=e.createShader(t);return e.shaderSource(n,l),e.compileShader(n),n},Xi=e=>{const t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t},$n=e=>{const t=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,t),e.renderbufferStorage(e.RENDERBUFFER,e.RGB8,1,1),e.bindRenderbuffer(e.RENDERBUFFER,null),t},As=(e,t)=>{const l=e.clientWaitSync(t,0,0);if(l===e.WAIT_FAILED)throw new Error("GPU operations complete wait failed");return l===e.CONDITION_SATISFIED||l===e.ALREADY_SIGNALED},qs=async e=>{const t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),await new Promise((l=>function n(){As(e,t)?l():Zi(n,2)}())),e.deleteSync(t)},$s={alpha:!0,antialias:!1,depth:!1,desynchronized:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1},em=(e,t={})=>{const l=e||Wi(),n=l.getContext("webgl2",{...$s,...t});if(null==n)return null;const i=tl(n,n.VERTEX_SHADER,Os),c=tl(n,n.FRAGMENT_SHADER,_s),d=hi(n,i,c),a=Xi(n),r=$n(n),m=$n(n),s=n.createFramebuffer();n.bindTexture(n.TEXTURE_2D,a),n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT1,n.RENDERBUFFER,m),n.drawBuffers([n.COLOR_ATTACHMENT0,n.COLOR_ATTACHMENT1]);const u=n.createBuffer();n.bindBuffer(n.PIXEL_PACK_BUFFER,u),n.bufferData(n.PIXEL_PACK_BUFFER,0,n.STREAM_READ);const o=n.getUniformLocation(d,"u_scale");n.deleteProgram(d),n.deleteShader(c),n.deleteShader(i);const b=n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT),Z=n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE),p=b===n.RGB?"RGB":"RGBA",W=p.length;let h;return"RGB"===p&&n.pixelStorei(n.PACK_ALIGNMENT,1),{get width(){return n.drawingBufferWidth},get height(){return n.drawingBufferHeight},get format(){return p},async drawImage(e,t,i,c,d){n.texImage2D(n.TEXTURE_2D,0,b,b,Z,e);const a=Math.sign(c),u=Math.sign(d);(o.x!==a||o.y!==u)&&n.uniform2fv(o,new Float32Array([o.x=a,o.y=u])),c<0&&(c=Math.abs(c)),d<0&&(d=Math.abs(d)),(l.width!==c||l.height!==d)&&(l.width=c,l.height=d,n.bindRenderbuffer(n.RENDERBUFFER,r),n.renderbufferStorage(n.RENDERBUFFER,n.RGB8,l.width,l.height),n.bindRenderbuffer(n.RENDERBUFFER,m),n.renderbufferStorage(n.RENDERBUFFER,n.RGB8,l.width,l.height),n.bindRenderbuffer(n.RENDERBUFFER,null),n.viewport(0,0,l.width,l.height)),n.drawArrays(n.TRIANGLES,0,3),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.blitFramebuffer(0,0,c,d,0,0,c,d,n.COLOR_BUFFER_BIT,n.NEAREST),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,s)},getImageData:async(e,t,l,i,c)=>(h!==l*i*W&&n.bufferData(n.PIXEL_PACK_BUFFER,h=l*i*W,n.STREAM_READ),n.readBuffer(n.COLOR_ATTACHMENT1),n.readPixels(e,t,l,i,b,Z,0),n.readBuffer(n.COLOR_ATTACHMENT0),await qs(n),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,new DataView(c.buffer),c.byteOffset,h),{width:l,height:i,data:c,format:p}),createImageBitmap:async()=>await createImageBitmap(l),dispose(){n.deleteBuffer(u),n.deleteFramebuffer(s),n.deleteRenderbuffer(m),n.deleteRenderbuffer(r),n.deleteTexture(a)}}},Cl=(e,t)=>{let l=em(e,t);return null==l&&(l=Ds(e,t)),l},tm={horizontalFlip:!1,resize:(e,t)=>[e,t],crop:(e,t)=>[0,0,e,t]},yi=(e={})=>{const{resize:t,crop:l,horizontalFlip:n}={...tm,...e};return{dxywh(e){var l,i;const c=null!=(l=e.videoWidth)?l:e.width,d=null!=(i=e.videoHeight)?i:e.height;let[a,r]=[0,0],[m,s]=t(c,d);return n&&([a,m]=[m,-m]),[a,r,m,s]},sxywh(e){var t,n;const i=null!=(t=e.videoWidth)?t:e.width,c=null!=(n=e.videoHeight)?n:e.height,[d,a,r,m]=l(i,c);return[d,a,r,m]}}};var Vi,lm=Object.defineProperty,nm=Object.getOwnPropertyDescriptor,im=(e,t,l,n)=>{for(var i,c=n>1?void 0:n?nm(t,l):t,d=e.length-1;d>=0;d--)(i=e[d])&&(c=(n?i(t,l,c):i(c))||c);return n&&c&&lm(t,l,c),c};class cm{constructor(e){K(this,"_img",null),K(this,"_src"),this._src=e}async*[Vi=Symbol.asyncIterator](e){var t;const l=await(null!=(t=this._img)?t:this._img=(c=this._src,new Promise(((e,t)=>{const l=document.createElement("img");l.onload=()=>e(l),l.onerror=t,l.crossOrigin="anonymous",l.src="string"==typeof c?c:URL.createObjectURL(c)})))),n=Cl(),i=yi(e);var c;n.drawImage(l,...i.dxywh(l));const d=i.sxywh(n),a=e&&e.allocate;if(a){const e=a(d[2]*d[3]*n.format.length);yield{...await n.getImageData(...d,e),input:"static"}}else{const e=await n.createImageBitmap();yield{width:e.width,height:e.height,data:e,rect:d,input:"static"}}}}im([pi(30)],cm.prototype,Vi,1);var Gi,dm=Object.defineProperty,am=Object.getOwnPropertyDescriptor,rm=(e,t,l,n)=>{for(var i,c=n>1?void 0:n?am(t,l):t,d=e.length-1;d>=0;d--)(i=e[d])&&(c=(n?i(t,l,c):i(c))||c);return n&&c&&dm(t,l,c),c};const sm={loop:!1};class Yi{constructor(e,t){K(this,"_video",null),K(this,"_src"),K(this,"_options"),this._src=e,this._options={...sm,...t}}async*[Gi=Symbol.asyncIterator](e){var t;const l=await(null!=(t=this._video)?t:this._video=Hl(this._src,this._options)),n=Cl(),i=yi(e);l.addEventListener("ended",(()=>this.stop()),{once:!0}),l.addEventListener("emptied",(()=>this.stop()),{once:!0});const c=e&&e.allocate;for(;this._video;){n.drawImage(l,...i.dxywh(l));const e=i.sxywh(n);if(c){const t=c(e[2]*e[3]*n.format.length);yield{...await n.getImageData(...e,t),input:"live"}}else{const t=await n.createImageBitmap();yield{width:t.width,height:t.height,data:t,rect:e,input:"live"}}}}stop(){this._video&&this._video.then((e=>{e.srcObject=null,e.src=""})),this._video=null}}rm([pi(30)],Yi.prototype,Gi,1);const qe=class{constructor(e){if(K(this,"_video",null),K(this,"_stream",null),qe.cache.has(e))return qe.cache.get(e);qe.cache.set(e,this),this._stream=e}async*[Symbol.asyncIterator](e){var t;const l=null!=(t=this._video)?t:this._video=new Yi(this._stream),n=e?l[Symbol.asyncIterator](e):l[Symbol.asyncIterator]();let i;for(;;){const{done:e,value:t}=await n.next(i);if(e)break;i=yield t}this.stop()}stop(){var e,t,l;const n=null!=(l=null==(t=null==(e=this._stream)?void 0:e.getVideoTracks)?void 0:t.call(e))?l:[];for(const e of n)e.stop();this._stream&&qe.cache.delete(this._stream),this._stream=null,this._video=null}};let $e=qe;K($e,"cache",new WeakMap);const mm="#define GLSLIFY 1\nattribute vec2 a_position;\nvarying vec2 v_tex_uv;\n\nvoid main() {\n  v_tex_uv.x = (a_position.x + 1.) * .5;\n  v_tex_uv.y = 1. - (a_position.y + 1.) * .5;\n  gl_Position = vec4(a_position, 0., 1.);\n}\n",um="precision highp float;\n#define GLSLIFY 1\n\nvarying vec2 v_tex_uv;\n\nuniform sampler2D u_texture;\nuniform vec2 u_viewsize;\n\n/**\n * u_filters.x - denoising algorithm to use\n *   1 - FSR\n *   2 - Bilateral\n *   any other value - none\n * u_filters.y - light correction coefficient in [0, 2]\n *   1 - no light correction\n */\nuniform vec2 u_filters;\n\n// https://github.com/glslify/glslify#importing-a-glsl-module\n// https://github.com/glslify/glslify#passing-references-between-modules\n// Copyright (c) 2021 Advanced Micro Devices, Inc. All rights reserved.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n// FidelityFX FSR v1.0.2 by AMD\n// ported to mpv by agyild - https://gist.github.com/agyild/82219c545228d70c5604f865ce0b0ce5\n// ported to WebGL by goingdigital - https://www.shadertoy.com/view/stXSWB\n// using colorspace functions from tobspr - https://github.com/tobspr/GLSL-Color-Spaces/blob/master/ColorSpaces.inc.glsl\n\n#define SHARPENING 2.0 // Sharpening intensity: Adjusts sharpening intensity by averaging the original pixels to the sharpened result. 1.0 is the unmodified default. 0.0 to 1.0.\n#define CONTRAST 2.0 // Adjusts the range the shader adapts to high contrast (0 is not all the way off). Higher values = more high contrast sharpening. 0.0 to 1.0.\n#define PERFORMANCE 1 // Whether to use optimizations for performance with loss of quality\n\n// Used to convert from linear RGB to XYZ space\nconst mat3 RGB_2_XYZ_2717090884 = (mat3(\n  0.4124564, 0.2126729, 0.0193339,\n  0.3575761, 0.7151522, 0.1191920,\n  0.1804375, 0.0721750, 0.9503041\n));\n\n// Used to convert from XYZ to linear RGB space\nconst mat3 XYZ_2_RGB_2717090884 = (mat3(\n   3.2404542,-0.9692660, 0.0556434,\n  -1.5371385, 1.8760108,-0.2040259,\n  -0.4985314, 0.0415560, 1.0572252\n));\n// Converts a color from linear RGB to XYZ space\nvec3 rgb_to_xyz_2717090884(vec3 rgb) {\n  return RGB_2_XYZ_2717090884 * rgb;\n}\n\n// Converts a color from XYZ to linear RGB space\nvec3 xyz_to_rgb_2717090884(vec3 xyz) {\n  return XYZ_2_RGB_2717090884 * xyz;\n}\n\n/* EASU stage\n*\n* This takes a reduced resolution source, and scales it up while preserving detail.\n*\n* Updates:\n*   stretch definition fixed. Thanks nehon for the bug report!\n*/\n\nvec3 FsrEasuCF(vec2 p) {\n  vec2 uv = (p + .5) / u_viewsize;\n  vec4 color = texture2D(u_texture, uv);\n    return rgb_to_xyz_2717090884(color.rgb);\n}\n\n/**** EASU ****/\nvoid FsrEasuCon(\n  out vec4 con0,\n  out vec4 con1,\n  out vec4 con2,\n  out vec4 con3,\n  // This the rendered image resolution being upscaled\n  vec2 inputViewportInPixels,\n  // This is the resolution of the resource containing the input image (useful for dynamic resolution)\n  vec2 inputSizeInPixels,\n  // This is the display resolution which the input image gets upscaled to\n  vec2 outputSizeInPixels\n)\n{\n  // Output integer position to a pixel position in viewport.\n  con0 = vec4(\n    inputViewportInPixels.x/outputSizeInPixels.x,\n    inputViewportInPixels.y/outputSizeInPixels.y,\n    .5*inputViewportInPixels.x/outputSizeInPixels.x-.5,\n    .5*inputViewportInPixels.y/outputSizeInPixels.y-.5\n  );\n  // Viewport pixel position to normalized image space.\n  // This is used to get upper-left of 'F' tap.\n  con1 = vec4(1.,1.,1.,-1.)/inputSizeInPixels.xyxy;\n  // Centers of gather4, first offset from upper-left of 'F'.\n  //      +---+---+\n  //      |   |   |\n  //      +--(0)--+\n  //      | b | c |\n  //  +---F---+---+---+\n  //  | e | f | g | h |\n  //  +--(1)--+--(2)--+\n  //  | i | j | k | l |\n  //  +---+---+---+---+\n  //      | n | o |\n  //      +--(3)--+\n  //      |   |   |\n  //      +---+---+\n  // These are from (0) instead of 'F'.\n  con2 = vec4(-1.,2.,1.,2.)/inputSizeInPixels.xyxy;\n  con3 = vec4(0.,4.,0.,0.)/inputSizeInPixels.xyxy;\n}\n\n// Filtering for a given tap for the scalar.\nvoid FsrEasuTapF(\n  inout vec3 aC, // Accumulated color, with negative lobe.\n  inout float aW, // Accumulated weight.\n  vec2 off_0, // Pixel offset from resolve position to tap.\n  vec2 dir_0, // Gradient direction.\n  vec2 len_0, // Length.\n  float lob_0, // Negative lobe strength.\n  float clp_0, // Clipping point.\n  vec3 c_0\n)\n{\n  // Tap color.\n  // Rotate offset by direction.\n  vec2 v = vec2(dot(off_0, dir_0), dot(off_0,vec2(-dir_0.y,dir_0.x)));\n  // Anisotropy.\n  v *= len_0;\n  // Compute distance^2.\n  float d2 = min(dot(v,v),clp_0);\n  // Limit to the window as at corner, 2 taps can easily be outside.\n  // Approximation of lancos2 without sin() or rcp(), or sqrt() to get x.\n  //  (25/16 * (2/5 * x^2 - 1)^2 - (25/16 - 1)) * (1/4 * x^2 - 1)^2\n  //  |_______________________________________|   |_______________|\n  //                   base                             window\n  // The general form of the 'base' is,\n  //  (a*(b*x^2-1)^2-(a-1))\n  // Where 'a=1/(2*b-b^2)' and 'b' moves around the negative lobe.\n  float wB = .4 * d2 - 1.;\n  float wA = lob_0 * d2 -1.;\n  wB *= wB;\n  wA *= wA;\n  wB = 1.5625*wB-.5625;\n  float w=  wB * wA;\n  // Do weighted average.\n  aC += c_0*w;\n  aW += w;\n}\n\n//------------------------------------------------------------------------------------------------------------------------------\n// Accumulate direction and length.\nvoid FsrEasuSetF(\n    inout vec2 dir,\n    inout float len,\n    float w,\n    float lA,float lB,float lC,float lD,float lE\n)\n{\n  // Direction is the '+' diff.\n  //    a\n  //  b c d\n  //    e\n  // Then takes magnitude from abs average of both sides of 'c'.\n  // Length converts gradient reversal to 0, smoothly to non-reversal at 1, shaped, then adding horz and vert terms.\n  float lenX = max(abs(lD - lC), abs(lC - lB));\n  float dirX = lD - lB;\n  dir.x += dirX * w;\n  lenX = clamp(abs(dirX)/lenX,0.,1.);\n  lenX *= lenX;\n  len += lenX * w;\n  // Repeat for the y axis.\n  float lenY = max(abs(lE - lC), abs(lC - lA));\n  float dirY = lE - lA;\n  dir.y += dirY * w;\n  lenY = clamp(abs(dirY) / lenY,0.,1.);\n  lenY *= lenY;\n  len += lenY * w;\n}\n\n//------------------------------------------------------------------------------------------------------------------------------\nvoid FsrEasuF(\n  out vec3 pix,\n  vec2 ip, // Integer pixel position in output.\n  // Constants generated by FsrEasuCon().\n  vec4 con0, // xy = output to input scale, zw = first pixel offset correction\n  vec4 con1_0,\n  vec4 con2_0,\n  vec4 con3_0\n)\n{\n  //------------------------------------------------------------------------------------------------------------------------------\n  // Get position of 'f'.\n  vec2 pp = ip * con0.xy + con0.zw; // Corresponding input pixel/subpixel\n  vec2 fp = floor(pp);// fp = source nearest pixel\n  pp -= fp; // pp = source subpixel\n\n  //------------------------------------------------------------------------------------------------------------------------------\n  // 12-tap kernel.\n  //    b c\n  //  e f g h\n  //  i j k l\n  //    n o\n  // Gather 4 ordering.\n  //  a b\n  //  r g\n  vec2 p0 = fp * con1_0.xy + con1_0.zw;\n  \n  // These are from p0 to avoid pulling two constants on pre-Navi hardware.\n  vec2 p1 = p0 + con2_0.xy;\n  vec2 p2 = p0 + con2_0.zw;\n  vec2 p3 = p0 + con3_0.xy;\n\n  // TextureGather is not available on WebGL2\n  vec4 off = vec4(-.5,.5,-.5,.5)*con1_0.xxyy;\n  // textureGather to texture offsets\n  // x=west y=east z=north w=south\n  vec3 bC = FsrEasuCF(p0 + off.xw); float bL = bC.g + 0.5 *(bC.r + bC.b);\n  vec3 cC = FsrEasuCF(p0 + off.yw); float cL = cC.g + 0.5 *(cC.r + cC.b);\n  vec3 iC = FsrEasuCF(p1 + off.xw); float iL = iC.g + 0.5 *(iC.r + iC.b);\n  vec3 jC = FsrEasuCF(p1 + off.yw); float jL = jC.g + 0.5 *(jC.r + jC.b);\n  vec3 fC = FsrEasuCF(p1 + off.yz); float fL = fC.g + 0.5 *(fC.r + fC.b);\n  vec3 eC = FsrEasuCF(p1 + off.xz); float eL = eC.g + 0.5 *(eC.r + eC.b);\n  vec3 kC = FsrEasuCF(p2 + off.xw); float kL = kC.g + 0.5 *(kC.r + kC.b);\n  vec3 lC = FsrEasuCF(p2 + off.yw); float lL = lC.g + 0.5 *(lC.r + lC.b);\n  vec3 hC = FsrEasuCF(p2 + off.yz); float hL = hC.g + 0.5 *(hC.r + hC.b);\n  vec3 gC = FsrEasuCF(p2 + off.xz); float gL = gC.g + 0.5 *(gC.r + gC.b);\n  vec3 oC = FsrEasuCF(p3 + off.yz); float oL = oC.g + 0.5 *(oC.r + oC.b);\n  vec3 nC = FsrEasuCF(p3 + off.xz); float nL = nC.g + 0.5 *(nC.r + nC.b);\n \n  //------------------------------------------------------------------------------------------------------------------------------\n  // Simplest multi-channel approximate luma possible (luma times 2, in 2 FMA/MAD).\n  // Accumulate for bilinear interpolation.\n  vec2 dir = vec2(0.);\n  float len = 0.;\n\n  FsrEasuSetF(dir, len, (1.-pp.x)*(1.-pp.y), bL, eL, fL, gL, jL);\n  FsrEasuSetF(dir, len,    pp.x  *(1.-pp.y), cL, fL, gL, hL, kL);\n  FsrEasuSetF(dir, len, (1.-pp.x)*  pp.y  , fL, iL, jL, kL, nL);\n  FsrEasuSetF(dir, len,    pp.x  *  pp.y  , gL, jL, kL, lL, oL);\n\n  //------------------------------------------------------------------------------------------------------------------------------\n  // Normalize with approximation, and cleanup close to zero.\n  vec2 dir2 = dir * dir;\n  float dirR = dir2.x + dir2.y;\n  bool zro = dirR < (1.0/32768.0);\n  dirR = inversesqrt(dirR);\n#if (PERFORMANCE == 1)\n  if (zro) {\n    vec4 w = vec4(0.0);\n    w.x = (1.0 - pp.x) * (1.0 - pp.y);\n    w.y =        pp.x  * (1.0 - pp.y);\n    w.z = (1.0 - pp.x) *        pp.y;\n    w.w =        pp.x  *        pp.y;\n    pix.r = clamp(dot(w, vec4(fL, gL, jL, kL)), 0.0, 1.0);\n    return;\n  }\n#elif (PERFORMANCE == 0)\n  dirR = zro ? 1.0 : dirR;\n  dir.x = zro ? 1.0 : dir.x;\n#endif\n  dir *= vec2(dirR);\n  // Transform from {0 to 2} to {0 to 1} range, and shape with square.\n  len = len * 0.5;\n  len *= len;\n  // Stretch kernel {1.0 vert|horz, to sqrt(2.0) on diagonal}.\n  float stretch = dot(dir,dir) / (max(abs(dir.x), abs(dir.y)));\n  // Anisotropic length after rotation,\n  //  x := 1.0 lerp to 'stretch' on edges\n  //  y := 1.0 lerp to 2x on edges\n  vec2 len2 = vec2(1. +(stretch-1.0)*len, 1. -.5 * len);\n  // Based on the amount of 'edge',\n  // the window shifts from +/-{sqrt(2.0) to slightly beyond 2.0}.\n  float lob = .5 - .29 * len;\n  // Set distance^2 clipping point to the end of the adjustable window.\n  float clp = 1./lob;\n\n  //------------------------------------------------------------------------------------------------------------------------------\n  // Accumulation mixed with min/max of 4 nearest.\n  //    b c\n  //  e f g h\n  //  i j k l\n  //    n o\n  // Accumulation.\n  vec3 aC = vec3(0);\n  float aW = 0.;\n  FsrEasuTapF(aC, aW, vec2( 0.,-1.)-pp, dir, len2, lob, clp, bC);\n  FsrEasuTapF(aC, aW, vec2( 1.,-1.)-pp, dir, len2, lob, clp, cC);\n  FsrEasuTapF(aC, aW, vec2(-1., 1.)-pp, dir, len2, lob, clp, iC);\n  FsrEasuTapF(aC, aW, vec2( 0., 1.)-pp, dir, len2, lob, clp, jC);\n  FsrEasuTapF(aC, aW, vec2( 0., 0.)-pp, dir, len2, lob, clp, fC);\n  FsrEasuTapF(aC, aW, vec2(-1., 0.)-pp, dir, len2, lob, clp, eC);\n  FsrEasuTapF(aC, aW, vec2( 1., 1.)-pp, dir, len2, lob, clp, kC);\n  FsrEasuTapF(aC, aW, vec2( 2., 1.)-pp, dir, len2, lob, clp, lC);\n  FsrEasuTapF(aC, aW, vec2( 2., 0.)-pp, dir, len2, lob, clp, hC);\n  FsrEasuTapF(aC, aW, vec2( 1., 0.)-pp, dir, len2, lob, clp, gC);\n  FsrEasuTapF(aC, aW, vec2( 1., 2.)-pp, dir, len2, lob, clp, oC);\n  FsrEasuTapF(aC, aW, vec2( 0., 2.)-pp, dir, len2, lob, clp, nC);\n  //------------------------------------------------------------------------------------------------------------------------------\n  // Normalize and dering.\n#if (PERFORMANCE == 1)\npix = aC/aW;\n#elif (PERFORMANCE == 0)\n  vec3 min4 = min(min(fC,gC),min(jC,kC));\n  vec3 max4 = max(max(fC,gC),max(jC,kC));\n  pix=min(max4,max(min4,aC/aW));\n#endif\n}\n\nvoid EASU( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec3 c;\n  vec4 con0,con1,con2,con3;\n  \n  // \"rendersize\" refers to size of source image before upscaling.\n  vec2 rendersize = u_viewsize;\n  FsrEasuCon(\n    con0, con1, con2, con3, rendersize, rendersize, rendersize\n  );\n  FsrEasuF(c, fragCoord, con0, con1, con2, con3);\n  \n  fragColor = vec4(xyz_to_rgb_2717090884(c.xyz), 1);\n}\n\nvec4 getPixel(vec2 pos) {\n  vec2 coord = (pos + .5) / u_viewsize;\n  coord.y = 1.0 - coord.y;\n  return texture2D(u_texture, coord);\n}\n\nvec4 fsr_easu_2717090884(vec2 uv) {\n  vec4 e = getPixel(gl_FragCoord.xy);\n\n    \n  vec4 e_xyz = vec4(rgb_to_xyz_2717090884(e.rgb), 1);\n  EASU(e_xyz, (gl_FragCoord.xy + 0.5) / u_viewsize);  \n  \n  // fetch a 3x3 neighborhood around the pixel 'e',\n  //  a b c\n  //  d(e)f\n  //  g h i \n  vec3 a = getPixel(gl_FragCoord.xy + vec2(-1.0,-1.0)).rgb;\n  vec3 b = getPixel(gl_FragCoord.xy + vec2( 0.0,-1.0)).rgb;\n  vec3 c = getPixel(gl_FragCoord.xy + vec2( 1.0,-1.0)).rgb;\n  vec3 f = getPixel(gl_FragCoord.xy + vec2( 1.0, 0.0)).rgb;\n  vec3 g = getPixel(gl_FragCoord.xy + vec2(-1.0, 1.0)).rgb;\n  vec3 h = getPixel(gl_FragCoord.xy + vec2( 0.0, 1.0)).rgb;\n  vec3 d = getPixel(gl_FragCoord.xy + vec2(-1.0, 0.0)).rgb;\n  vec3 i = getPixel(gl_FragCoord.xy + vec2( 1.0, 1.0)).rgb;;\n  // Soft min and max.\n  //  a b c     b\n  //  d e f * 0.5 + d e f * 0.5\n  //  g h i     h\n  // These are 2.0x bigger (factored out the extra multiply).\n\n  vec3 mnRGB = min(min(min(d, e.rgb), min(f, b)), h);\n  vec3 mnRGB2 = min(mnRGB, min(min(a, c), min(g, i)));\n  mnRGB += mnRGB2;\n\n  vec3 mxRGB = max(max(max(d, e.rgb), max(f, b)), h);\n  vec3 mxRGB2 = max(mxRGB, max(max(a, c), max(g, i)));\n  mxRGB += mxRGB2;\n\n  // Smooth minimum distance to signal limit divided by smooth max.\n  vec3 rcpMRGB = 1.0 / mxRGB;\n  vec3 ampRGB = clamp(min(mnRGB, 2.0 - mxRGB) * rcpMRGB, 0.0, 1.0);\n\n  // Shaping amount of sharpening.\n  ampRGB = inversesqrt(ampRGB);\n\n  float peak = -3.0 * clamp(CONTRAST, 0.0, 1.0) + 8.0;\n  vec3 wRGB = -(1.0 / (ampRGB * peak));\n\n  vec3 rcpWeightRGB = 1.0 / (4.0 * wRGB + 1.0);\n\n  //          0 w 0\n  //  Filter shape: w 1 w\n  //          0 w 0\n  vec3 window = (b + d) + (f + h);\n  vec3 outColor = clamp((window * wRGB + e.rgb) * rcpWeightRGB, 0.0, 1.0);\n\n  return vec4(mix(e.rgb, outColor, SHARPENING), e.a);\n}\n\n// https://github.com/glslify/glslify#exporting-a-glsl-module\n\n#define DIFF 1.0\n#define RADIUS 4.0\n\nvoid bilateral_iter_3977570374(vec2 random_dir, vec2 radius, float diff, vec4 pixel, vec2 uv, inout vec3 result, inout float totalWeight)\n{\n  vec2 dir = random_dir * radius;\n  vec3 randomPixel = texture2D(u_texture, uv + dir).xyz;\n  vec3 delta = randomPixel - pixel.rgb;\n  float weight = exp(-dot(delta, delta) / diff);\n  result += randomPixel * weight;\n  totalWeight += weight;\n}\n\nvec4 bilateral(vec2 uv)\n{\n  vec2 radius = (RADIUS / u_viewsize);\n  float diff = DIFF / 255.0;\n  vec4 pixel = texture2D(u_texture, uv);\n  vec3 result = vec3(0.0, 0.0, 0.0);\n  float totalWeight = 0.0;\n\n  // uroll loop and substitute precalculated random vectors for GLSL 1.0 ES:\n\n  bilateral_iter_3977570374(vec2(-0.886051297,0.447155535), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(0.270759493,0.537728608), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.896959424,0.440607518), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.804274619,0.125076547), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(0.373693645,0.240383312), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.850325704,-0.192106694), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.453608066,0.889671504), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.280496657,0.206442386), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(0.840040743,-0.36367026), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.151598319,-0.884027064), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.221440807,0.593896627), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.797481239,-0.243254974), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(0.48824361,0.225083455), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.0387817062,0.838459492), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(0.92897892,-0.133588716), radius, diff, pixel, uv, result, totalWeight);\n  bilateral_iter_3977570374(vec2(-0.693672359,-0.706737161), radius, diff, pixel, uv, result, totalWeight);\n  \n  result = result / totalWeight;    \n  return vec4(result, pixel.a);\n}\n\n// https://github.com/glslify/glslify#exporting-a-glsl-module\n\nvec3 rgb2hsv(vec3 c)\n{\n  vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n  vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n  vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n  float d = q.x - min(q.w, q.y);\n  float e = 1.0e-10;\n  return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec4 light_correction_1117569599(vec4 c, float s)\n{\n  vec3 hsv = rgb2hsv(c.rgb);\n  hsv.y = pow(hsv.y, pow(s, -0.5));\n  hsv.z = pow(hsv.z, s);\n  vec3 rgb = hsv2rgb(hsv);\n  return vec4(rgb, c.a);\n}\n\n// https://github.com/glslify/glslify#exporting-a-glsl-module\n\nvoid main() {\n  vec4 c;\n\n  if (u_filters.x == 1.)\n    c = fsr_easu_2717090884(v_tex_uv);\n  else if (u_filters.x == 2.)\n    c = bilateral(v_tex_uv);\n  else\n    c = texture2D(u_texture, v_tex_uv);\n\n  if (u_filters.y != 1.)\n    c = light_correction_1117569599(c, u_filters.y);\n\n  gl_FragColor = c;\n}",ei=(e,t)=>{let l=0,n=1;const i=document.createElement("canvas"),c=i.captureStream(30),d=i.getContext("webgl"),a=tl(d,d.VERTEX_SHADER,mm),r=tl(d,d.FRAGMENT_SHADER,um),m=hi(d,a,r),s=Xi(d);d.bindTexture(d.TEXTURE_2D,s);const u=d.getAttribLocation(m,"a_position"),o=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,o),d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),d.STATIC_DRAW),d.enableVertexAttribArray(u),d.vertexAttribPointer(u,2,d.FLOAT,!1,0,0);const b=d.getUniformLocation(m,"u_viewsize"),Z=d.getUniformLocation(m,"u_filters");d.uniform2fv(Z,new Float32Array([l,n])),Hl(e).then((e=>{var t;const l=(null==(t=e.requestVideoFrameCallback)?void 0:t.bind(e))||Ps.requestAnimationFrame;!function t(){e.ended||!c.active||(l(t),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,e),(i.width!==e.videoWidth||i.height!==e.videoHeight)&&(d.viewport(0,0,i.width=e.videoWidth,i.height=e.videoHeight),d.uniform2fv(b,new Float32Array([i.width,i.height]))),d.drawArrays(d.TRIANGLES,0,6))}()})),d.deleteProgram(m),d.deleteShader(r),d.deleteShader(a);const p={stream:c,denoise(e){d.uniform2fv(Z,new Float32Array([l=e,n]))},exposureCompensation(e){d.uniform2fv(Z,new Float32Array([l,n=e]))}};if(t)for(const[e,l]of Object.entries(t))p[e](l);return p},om=typeof screen<"u"&&screen.height>screen.width,Jl={facingMode:"user",width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},resizeMode:{ideal:"crop-and-scale"}};om&&(delete Jl.width,delete Jl.height);class Wu{constructor(e){K(this,"_stream",null),K(this,"_constraints"),K(this,"_preferences",{}),K(this,"_enhancer",null),this._constraints={...Jl,...e}}get active(){return!!this._stream}denoise(e){var t;this._preferences.denoise=Number(e),null==(t=this._enhancer)||t.denoise(this._preferences.denoise)}setExposureCompensation(e){var t;this._preferences.exposureCompensation=e,null==(t=this._enhancer)||t.exposureCompensation(this._preferences.exposureCompensation)}async start(){var e;return await(null!=(e=this._stream)?e:this._stream=ti(this._constraints)),this}async*[Symbol.asyncIterator](e){var t;const l=await(null!=(t=this._stream)?t:this._stream=ti(this._constraints)),n=this._enhancer=Fl(this._preferences)?ei(l,this._preferences):null,i=new $e(n?n.stream:l);let c,d=e?i[Symbol.asyncIterator]({horizontalFlip:!0,...e}):i[Symbol.asyncIterator]();for(;;){if(!this._enhancer&&Fl(this._preferences)){const t=this._enhancer=ei(l,this._preferences),n=new $e(t.stream);d=e?n[Symbol.asyncIterator]({horizontalFlip:!0,...e}):n[Symbol.asyncIterator]()}if(this._enhancer&&!Fl(this._preferences)){this._enhancer.stream.getTracks().forEach((e=>e.stop())),this._enhancer=null;const t=new $e(l);d=e?t[Symbol.asyncIterator]({horizontalFlip:!0,...e}):t[Symbol.asyncIterator]()}const{done:t,value:n}=await d.next(c);if(t)break;c=yield n}this.stop()}stop(){this._stream&&this._stream.then((e=>e.getTracks().forEach((e=>e.stop())))),this._enhancer&&this._enhancer.stream.getTracks().forEach((e=>e.stop())),this._stream=null,this._enhancer=null}}const ti=async e=>{if(typeof navigator.mediaDevices>"u")throw new Error("SecureContext is required to access webcam\nIt's likely you need to set up HTTPS/TLS for your website\nSee https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Encryption_based_security for details ");return await navigator.mediaDevices.getUserMedia({video:e})},Fl=e=>"number"==typeof e.exposureCompensation&&1!==e.exposureCompensation||1===e.denoise||2===e.denoise,bm={createRenderingContext:Cl,createVideoElement:Hl};let Zm="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ri=(e=21)=>{let t="",l=e;for(;l--;)t+=Zm[64*Math.random()|0];return t};const pm=(e,t,l)=>fetch(e,t).then((e=>{if(!e.body)return e;let t=0;const n=Number(e.headers.get("content-length")||0),i=e.body.getReader();return new Response(new ReadableStream({async start(e){for(var c;;){const{done:d,value:a}=await i.read();if(d?t=n:t+=a.byteLength,null==(c=null==l?void 0:l.onProgress)||c.call(l,{total:n,transferred:t}),d)break;e.enqueue(a)}e.close()}}),e)})),Ii="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBjPVVpbnQ4QXJyYXkseD1VaW50MTZBcnJheSxEPVVpbnQzMkFycmF5LEg9bmV3IGMoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLEk9bmV3IGMoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTMsMCwwXSksbDE9bmV3IGMoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxKPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBhPW5ldyB4KDMxKSxuPTA7bjwzMTsrK24pYVtuXT10Kz0xPDxyW24tMV07Zm9yKHZhciB2PW5ldyBEKGFbMzBdKSxuPTE7bjwzMDsrK24pZm9yKHZhciBpPWFbbl07aTxhW24rMV07KytpKXZbaV09aS1hW25dPDw1fG47cmV0dXJuW2Esdl19LEs9SihILDIpLFE9S1swXSxzMT1LWzFdO1FbMjhdPTI1OCxzMVsyNThdPTI4O2Zvcih2YXIgYzE9SihJLDApLGQxPWMxWzBdLFU9bmV3IHgoMzI3NjgpLHU9MDt1PDMyNzY4OysrdSl7dmFyIFM9KHUmNDM2OTApPj4+MXwodSYyMTg0NSk8PDE7Uz0oUyY1MjQyOCk+Pj4yfChTJjEzMTA3KTw8MixTPShTJjYxNjgwKT4+PjR8KFMmMzg1NSk8PDQsVVt1XT0oKFMmNjUyODApPj4+OHwoUyYyNTUpPDw4KT4+PjF9Zm9yKHZhciBrPWZ1bmN0aW9uKHQsYSxuKXtmb3IodmFyIHY9dC5sZW5ndGgsaT0wLHM9bmV3IHgoYSk7aTx2OysraSl0W2ldJiYrK3NbdFtpXS0xXTt2YXIgZj1uZXcgeChhKTtmb3IoaT0wO2k8YTsrK2kpZltpXT1mW2ktMV0rc1tpLTFdPDwxO3ZhciBvO2lmKG4pe289bmV3IHgoMTw8YSk7dmFyIGU9MTUtYTtmb3IoaT0wO2k8djsrK2kpaWYodFtpXSlmb3IodmFyIGw9aTw8NHx0W2ldLGI9YS10W2ldLGQ9Zlt0W2ldLTFdKys8PGIseT1kfCgxPDxiKS0xO2Q8PXk7KytkKW9bVVtkXT4+PmVdPWx9ZWxzZSBmb3Iobz1uZXcgeCh2KSxpPTA7aTx2OysraSl0W2ldJiYob1tpXT1VW2ZbdFtpXS0xXSsrXT4+PjE1LXRbaV0pO3JldHVybiBvfSxCPW5ldyBjKDI4OCksdT0wO3U8MTQ0OysrdSlCW3VdPTg7Zm9yKHZhciB1PTE0NDt1PDI1NjsrK3UpQlt1XT05O2Zvcih2YXIgdT0yNTY7dTwyODA7Kyt1KUJbdV09Nztmb3IodmFyIHU9MjgwO3U8Mjg4OysrdSlCW3VdPTg7Zm9yKHZhciBWPW5ldyBjKDMyKSx1PTA7dTwzMjsrK3UpVlt1XT01O3ZhciBoMT1rKEIsOSwxKSxnMT1rKFYsNSwxKSxXPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD1yWzBdLGE9MTthPHIubGVuZ3RoOysrYSlyW2FdPnQmJih0PXJbYV0pO3JldHVybiB0fSx3PWZ1bmN0aW9uKHIsdCxhKXt2YXIgbj10Lzh8MDtyZXR1cm4ocltuXXxyW24rMV08PDgpPj4odCY3KSZhfSxYPWZ1bmN0aW9uKHIsdCl7dmFyIGE9dC84fDA7cmV0dXJuKHJbYV18clthKzFdPDw4fHJbYSsyXTw8MTYpPj4odCY3KX0sdzE9ZnVuY3Rpb24ocil7cmV0dXJuKHIrNykvOHwwfSxqPWZ1bmN0aW9uKHIsdCxhKXsodD09bnVsbHx8dDwwKSYmKHQ9MCksKGE9PW51bGx8fGE+ci5sZW5ndGgpJiYoYT1yLmxlbmd0aCk7dmFyIG49bmV3KHIuQllURVNfUEVSX0VMRU1FTlQ9PTI/eDpyLkJZVEVTX1BFUl9FTEVNRU5UPT00P0Q6YykoYS10KTtyZXR1cm4gbi5zZXQoci5zdWJhcnJheSh0LGEpKSxufSxtMT1bInVuZXhwZWN0ZWQgRU9GIiwiaW52YWxpZCBibG9jayB0eXBlIiwiaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCIsImludmFsaWQgZGlzdGFuY2UiLCJzdHJlYW0gZmluaXNoZWQiLCJubyBzdHJlYW0gaGFuZGxlciIsLCJubyBjYWxsYmFjayIsImludmFsaWQgVVRGLTggZGF0YSIsImV4dHJhIGZpZWxkIHRvbyBsb25nIiwiZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IiwiZmlsZW5hbWUgdG9vIGxvbmciLCJzdHJlYW0gZmluaXNoaW5nIiwiaW52YWxpZCB6aXAgZGF0YSJdLGg9ZnVuY3Rpb24ocix0LGEpe3ZhciBuPW5ldyBFcnJvcih0fHxtMVtyXSk7aWYobi5jb2RlPXIsRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKG4saCksIWEpdGhyb3cgbjtyZXR1cm4gbn0sYjE9ZnVuY3Rpb24ocix0LGEpe3ZhciBuPXIubGVuZ3RoO2lmKCFufHxhJiZhLmYmJiFhLmwpcmV0dXJuIHR8fG5ldyBjKDApO3ZhciB2PSF0fHxhLGk9IWF8fGEuaTthfHwoYT17fSksdHx8KHQ9bmV3IGMobiozKSk7dmFyIHM9ZnVuY3Rpb24odTEpe3ZhciB2MT10Lmxlbmd0aDtpZih1MT52MSl7dmFyIGYxPW5ldyBjKE1hdGgubWF4KHYxKjIsdTEpKTtmMS5zZXQodCksdD1mMX19LGY9YS5mfHwwLG89YS5wfHwwLGU9YS5ifHwwLGw9YS5sLGI9YS5kLGQ9YS5tLHk9YS5uLFI9bio4O2Rve2lmKCFsKXtmPXcocixvLDEpO3ZhciBZPXcocixvKzEsMyk7aWYobys9MyxZKWlmKFk9PTEpbD1oMSxiPWcxLGQ9OSx5PTU7ZWxzZSBpZihZPT0yKXt2YXIgQz13KHIsbywzMSkrMjU3LHIxPXcocixvKzEwLDE1KSs0LHQxPUMrdyhyLG8rNSwzMSkrMTtvKz0xNDtmb3IodmFyIEY9bmV3IGModDEpLEc9bmV3IGMoMTkpLGc9MDtnPHIxOysrZylHW2wxW2ddXT13KHIsbytnKjMsNyk7bys9cjEqMztmb3IodmFyIGExPVcoRyksQjE9KDE8PGExKS0xLFIxPWsoRyxhMSwxKSxnPTA7Zzx0MTspe3ZhciBuMT1SMVt3KHIsbyxCMSldO28rPW4xJjE1O3ZhciBwPW4xPj4+NDtpZihwPDE2KUZbZysrXT1wO2Vsc2V7dmFyIHo9MCxOPTA7Zm9yKHA9PTE2PyhOPTMrdyhyLG8sMyksbys9Mix6PUZbZy0xXSk6cD09MTc/KE49Myt3KHIsbyw3KSxvKz0zKTpwPT0xOCYmKE49MTErdyhyLG8sMTI3KSxvKz03KTtOLS07KUZbZysrXT16fX12YXIgaTE9Ri5zdWJhcnJheSgwLEMpLF89Ri5zdWJhcnJheShDKTtkPVcoaTEpLHk9VyhfKSxsPWsoaTEsZCwxKSxiPWsoXyx5LDEpfWVsc2UgaCgxKTtlbHNle3ZhciBwPXcxKG8pKzQsTD1yW3AtNF18cltwLTNdPDw4LFo9cCtMO2lmKFo+bil7aSYmaCgwKTticmVha312JiZzKGUrTCksdC5zZXQoci5zdWJhcnJheShwLFopLGUpLGEuYj1lKz1MLGEucD1vPVoqOCxhLmY9Zjtjb250aW51ZX1pZihvPlIpe2kmJmgoMCk7YnJlYWt9fXYmJnMoZSsxMzEwNzIpO2Zvcih2YXIgWTE9KDE8PGQpLTEsRjE9KDE8PHkpLTEsJD1vOzskPW8pe3ZhciB6PWxbWChyLG8pJlkxXSxUPXo+Pj40O2lmKG8rPXomMTUsbz5SKXtpJiZoKDApO2JyZWFrfWlmKHp8fGgoMiksVDwyNTYpdFtlKytdPVQ7ZWxzZSBpZihUPT0yNTYpeyQ9byxsPW51bGw7YnJlYWt9ZWxzZXt2YXIgbzE9VC0yNTQ7aWYoVD4yNjQpe3ZhciBnPVQtMjU3LE09SFtnXTtvMT13KHIsbywoMTw8TSktMSkrUVtnXSxvKz1NfXZhciBQPWJbWChyLG8pJkYxXSxPPVA+Pj40O1B8fGgoMyksbys9UCYxNTt2YXIgXz1kMVtPXTtpZihPPjMpe3ZhciBNPUlbT107Xys9WChyLG8pJigxPDxNKS0xLG8rPU19aWYobz5SKXtpJiZoKDApO2JyZWFrfXYmJnMoZSsxMzEwNzIpO2Zvcih2YXIgZTE9ZStvMTtlPGUxO2UrPTQpdFtlXT10W2UtX10sdFtlKzFdPXRbZSsxLV9dLHRbZSsyXT10W2UrMi1fXSx0W2UrM109dFtlKzMtX107ZT1lMX19YS5sPWwsYS5wPSQsYS5iPWUsYS5mPWYsbCYmKGY9MSxhLm09ZCxhLmQ9YixhLm49eSl9d2hpbGUoIWYpO3JldHVybiBlPT10Lmxlbmd0aD90OmoodCwwLGUpfSx5MT1uZXcgYygwKSxFPWZ1bmN0aW9uKHIsdCl7cmV0dXJuIHJbdF18clt0KzFdPDw4fSxtPWZ1bmN0aW9uKHIsdCl7cmV0dXJuKHJbdF18clt0KzFdPDw4fHJbdCsyXTw8MTZ8clt0KzNdPDwyNCk+Pj4wfSxxPWZ1bmN0aW9uKHIsdCl7cmV0dXJuIG0ocix0KSttKHIsdCs0KSo0Mjk0OTY3Mjk2fTtmdW5jdGlvbiBFMShyLHQpe3JldHVybiBiMShyLHQpfXZhciBBPXR5cGVvZiBUZXh0RGVjb2RlcjwidSImJm5ldyBUZXh0RGVjb2RlcixwMT0wO3RyeXtBLmRlY29kZSh5MSx7c3RyZWFtOiEwfSkscDE9MX1jYXRjaHt9dmFyIFMxPWZ1bmN0aW9uKHIpe2Zvcih2YXIgdD0iIixhPTA7Oyl7dmFyIG49clthKytdLHY9KG4+MTI3KSsobj4yMjMpKyhuPjIzOSk7aWYoYSt2PnIubGVuZ3RoKXJldHVyblt0LGoocixhLTEpXTt2P3Y9PTM/KG49KChuJjE1KTw8MTh8KHJbYSsrXSY2Myk8PDEyfChyW2ErK10mNjMpPDw2fHJbYSsrXSY2MyktNjU1MzYsdCs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxuPj4xMCw1NjMyMHxuJjEwMjMpKTp2JjE/dCs9U3RyaW5nLmZyb21DaGFyQ29kZSgobiYzMSk8PDZ8clthKytdJjYzKTp0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKChuJjE1KTw8MTJ8KHJbYSsrXSY2Myk8PDZ8clthKytdJjYzKTp0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pfX07ZnVuY3Rpb24gQzEocix0KXtpZih0KXtmb3IodmFyIGE9IiIsbj0wO248ci5sZW5ndGg7bis9MTYzODQpYSs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHIuc3ViYXJyYXkobixuKzE2Mzg0KSk7cmV0dXJuIGF9ZWxzZXtpZihBKXJldHVybiBBLmRlY29kZShyKTt2YXIgdj1TMShyKSxpPXZbMF0scz12WzFdO3JldHVybiBzLmxlbmd0aCYmaCg4KSxpfX12YXIgXzE9ZnVuY3Rpb24ocix0KXtyZXR1cm4gdCszMCtFKHIsdCsyNikrRShyLHQrMjgpfSx4MT1mdW5jdGlvbihyLHQsYSl7dmFyIG49RShyLHQrMjgpLHY9QzEoci5zdWJhcnJheSh0KzQ2LHQrNDYrbiksIShFKHIsdCs4KSYyMDQ4KSksaT10KzQ2K24scz1tKHIsdCsyMCksZj1hJiZzPT00Mjk0OTY3Mjk1P3oxKHIsaSk6W3MsbShyLHQrMjQpLG0ocix0KzQyKV0sbz1mWzBdLGU9ZlsxXSxsPWZbMl07cmV0dXJuW0Uocix0KzEwKSxvLGUsdixpK0Uocix0KzMwKStFKHIsdCszMiksbF19LHoxPWZ1bmN0aW9uKHIsdCl7Zm9yKDtFKHIsdCkhPTE7dCs9NCtFKHIsdCsyKSk7cmV0dXJuW3Eocix0KzEyKSxxKHIsdCs0KSxxKHIsdCsyMCldfTtmdW5jdGlvbiBUMShyLHQpe2Zvcih2YXIgYT17fSxuPXIubGVuZ3RoLTIyO20ocixuKSE9MTAxMDEwMjU2Oy0tbikoIW58fHIubGVuZ3RoLW4+NjU1NTgpJiZoKDEzKTt2YXIgdj1FKHIsbis4KTtpZighdilyZXR1cm57fTt2YXIgaT1tKHIsbisxNikscz1pPT00Mjk0OTY3Mjk1O3MmJihuPW0ocixuLTEyKSxtKHIsbikhPTEwMTA3NTc5MiYmaCgxMyksdj1tKHIsbiszMiksaT1tKHIsbis0OCkpO2Zvcih2YXIgZj10JiZ0LmZpbHRlcixvPTA7bzx2Oysrbyl7dmFyIGU9eDEocixpLHMpLGw9ZVswXSxiPWVbMV0sZD1lWzJdLHk9ZVszXSxSPWVbNF0sWT1lWzVdLEM9XzEocixZKTtpPVIsKCFmfHxmKHtuYW1lOnksc2l6ZTpiLG9yaWdpbmFsU2l6ZTpkLGNvbXByZXNzaW9uOmx9KSkmJihsP2w9PTg/YVt5XT1FMShyLnN1YmFycmF5KEMsQytiKSxuZXcgYyhkKSk6aCgxNCwidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrbCk6YVt5XT1qKHIsQyxDK2IpKX1yZXR1cm4gYX1jb25zdCBrMT1yPT5UMShyLHtmaWx0ZXI6KHtuYW1lOnQsc2l6ZTphfSk9PiEoYT09PTB8fHQuc3RhcnRzV2l0aCgiX19NQUNPU1gvIikpfSk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKHtkYXRhOnJ9KT0+e2xldCB0O3RyeXt0PXtpZDpyLmlkLGRhdGE6azEoci5kYXRhKX19Y2F0Y2goYSl7dD17aWQ6ci5pZCxlcnJvcjphLm1lc3NhZ2V9fXBvc3RNZXNzYWdlKHQpfSl9KSgpOwo=",li=typeof window<"u"&&window.Blob&&new Blob([atob(Ii)],{type:"text/javascript;charset=utf-8"});function Wm(){const e=li&&(window.URL||window.webkitURL).createObjectURL(li);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+Ii)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}let ot;const hm=async e=>new Promise(((t,l)=>{const n={id:Ri(),data:new Uint8Array(e)};ot||(ot=new Wm);const i=({data:e})=>{e.id===n.id&&(ot.removeEventListener("message",i),"error"in e&&l(new Error(e.error)),"data"in e&&t(e.data))};ot.addEventListener("message",i),ot.postMessage(n,[e])})),xl="/";class Li{constructor(e){K(this,"_source",null),K(this,"_fs",null),K(this,"_mountpoint",xl),K(this,"_data",{}),this._source=e}static async preload(e,t){if(Array.isArray(e)){const l=null==t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=l?{onProgress:(...e)=>l(t,...e)}:{};return this.preload(e,n)})))}const l=new this(e);return await l.load(t),l}async _fetch(e,t){return await pm(e,{},t).then((t=>{if(t.ok)return t.blob();throw new Error(`Failed to fetch ${e.url} ${t.status} (${t.statusText})`)})).then((e=>{if(e.size>0)return e;throw new Error(`The source must not be empty. Received ${e.size} bytes size source.`)}))}async _unzip(e){if(!e.type.includes("zip"))throw new TypeError(`The source type must be "application/zip"-like. Received: "${e.type}".`);return await ni(e).then(hm).then((e=>Object.entries(e))).then((e=>Object.fromEntries(e)))}async load(e){let t=this._source;return"string"==typeof t&&(t=new Request(t)),t instanceof Request&&(t=await this._fetch(t,e)),t instanceof Blob&&(t=await this._unzip(t)),t instanceof Object&&t.constructor===Object&&await Promise.all(Object.entries(t).map((([e,t])=>this.writeFile(e,t)))),this._source=null,this._data}_fsWriteFile(e,t){!this._fs||(e=`${this._mountpoint}${e.startsWith("/")?e.substring(1):e}`,this._fs.writeFile(e,t))}async writeFile(e,t){const l=new Uint8Array(t instanceof Blob?await ni(t):t);this._data[e]=l,this._fsWriteFile(e,this._data[e])}mount(e,t=xl){this._fs=e,this._mountpoint=t.endsWith("/")?t:`${t}/`,Object.entries(this._data).forEach((([e,t])=>this._fsWriteFile(e,t)))}unmount(){this._fs=null,this._mountpoint=xl}}function ni(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((t=>{const l=new FileReader;l.onload=()=>t(l.result),l.readAsArrayBuffer(e)}))}const Si=(e,t=(e=>console.warn(e)))=>function(l,n,i){const c=i.value;if("function"!=typeof c)throw new TypeError("Only functions can be marked as deprecated");return{...i,value:function(...i){return t.call(this,`DEPRECATION: ${l.constructor.name}.${n}() is deprecated. ${e}`),c.call(this,...i)}}};var Xm=Object.defineProperty,ym=Object.getOwnPropertyDescriptor,Vm=(e,t,l,n)=>{for(var i,c=n>1?void 0:n?ym(t,l):t,d=e.length-1;d>=0;d--)(i=e[d])&&(c=(n?i(t,l,c):i(c))||c);return n&&c&&Xm(t,l,c),c};class Gm{constructor(e){K(this,"name",`effects/${Ri()}`),K(this,"_player",null),K(this,"_resource"),this._resource=new Ym(e)}static async preload(e,t){if(Array.isArray(e)){const l=null==t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=l?{onProgress:(...e)=>l(t,...e)}:{};return this.preload(e,n)})))}const l=new this(e);return await l._load(t),l}async _load(e){await this._resource.load(e)}async _bind(e){await this._resource.load(),this._player=e,this._resource.mount(this._player.FS,this.name)}_unbind(){this._resource.unmount(),this._player=null}async writeFile(e,t){return this._resource.writeFile(e,t)}callJsMethod(e,t=""){if(this._player)return this._player.callJsMethod(e,t);console.warn("The method won't evaluate: the effect is not applied to a player.")}async evalJs(e){if(this._player)return await this._player.evalJs(e);console.warn("The script won't evaluate: the effect is not applied to a player.")}}Vm([Si("Please, use Effect.evalJs() instead.")],Gm.prototype,"callJsMethod",1);class Ym extends Li{async _unzip(e){let t=await super._unzip(e);const l=Object.keys(t).map((e=>e.split("/").find(Boolean))),n=l[0];return l.every((e=>e===n))&&(t=Object.fromEntries(Object.entries(t).map((([e,t])=>[e.replace(`${n}/`,""),t])))),t}}class hu{constructor(e){K(this,"_resource"),this._resource=new Li(e)}static async preload(e,t){if(Array.isArray(e)){const l=null==t?void 0:t.onProgress;return await Promise.all(e.map(((e,t)=>{const n=l?{onProgress:(...e)=>l(t,...e)}:{};return this.preload(e,n)})))}const l=new this(e);return await l._load(t),l}async _load(e){await this._resource.load(e)}async _bind(e){await this._resource.load(),this._resource.mount(e.FS)}}var Rm=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t){var l,n;(t=typeof(t=t||{})<"u"?t:{}).ready=new Promise((function(e,t){l=e,n=t})),t.expectedDataFileDownloads||(t.expectedDataFileDownloads=0),t.expectedDataFileDownloads++,function(){if(!t.ENVIRONMENT_IS_PTHREAD){!function(e){"object"==typeof window?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):typeof process>"u"&&typeof location<"u"&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var l="BanubaSDK.data";"function"==typeof t.locateFilePackage&&!t.locateFile&&(t.locateFile=t.locateFilePackage,u("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var n=t.locateFile?t.locateFile(l,""):l,i=e.remote_package_size;var c,d,a,r,m=null,s=t.getPreloadedPackage?t.getPreloadedPackage(n,i):null;function o(){function l(e,t){if(!e)throw t+(new Error).stack}function n(e,t,l){this.start=e,this.end=t,this.audio=l}t.FS_createPath("/","bnb_js",!0,!0),t.FS_createPath("/","bnb_shaders",!0,!0),t.FS_createPath("/bnb_shaders","bnb",!0,!0),t.FS_createPath("/bnb_shaders/bnb","lib",!0,!0),t.FS_createPath("/","frx",!0,!0),n.prototype={requests:{},open:function(e,l){this.name=l,this.requests[l]=this,t.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){t.FS_createDataFile(this.name,null,e,!0,!0,!0),t.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var i=e.files,c=0;c<i.length;++c)new n(i[c].start,i[c].end,i[c].audio||0).open("GET",i[c].filename);function d(i){l(i,"Loading data file failed."),l(i.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var c=new Uint8Array(i);n.prototype.byteArray=c;for(var d=e.files,a=0;a<d.length;++a)n.prototype.requests[d[a].filename].onload();t.removeRunDependency("datafile_BanubaSDK.data")}t.addRunDependency("datafile_BanubaSDK.data"),t.preloadResults||(t.preloadResults={}),t.preloadResults["BanubaSDK.data"]={fromCache:!1},s?(d(s),s=null):m=d}s||(c=n,d=i,a=function(e){m?(m(e),m=null):s=e},(r=new XMLHttpRequest).open("GET",c,!0),r.responseType="arraybuffer",r.onprogress=function(e){var l=c,n=d;if(e.total&&(n=e.total),e.loaded){r.addedTotal?t.dataFileDownloads[l].loaded=e.loaded:(r.addedTotal=!0,t.dataFileDownloads||(t.dataFileDownloads={}),t.dataFileDownloads[l]={loaded:e.loaded,total:n});var i=0,a=0,m=0;for(var s in t.dataFileDownloads){var u=t.dataFileDownloads[s];i+=u.total,a+=u.loaded,m++}i=Math.ceil(i*t.expectedDataFileDownloads/m),t.setStatus&&t.setStatus("Downloading data... ("+a+"/"+i+")")}else t.dataFileDownloads||t.setStatus&&t.setStatus("Downloading data...")},r.onerror=function(e){throw new Error("NetworkError for: "+c)},r.onload=function(e){if(!(200==r.status||304==r.status||206==r.status||0==r.status&&r.response))throw new Error(r.statusText+" : "+r.responseURL);var t=r.response;a(t)},r.send(null)),t.calledRun?o():(t.preRun||(t.preRun=[]),t.preRun.push(o))}({files:[{filename:"/bnb_js/.empty",start:0,end:20},{filename:"/bnb_js/background.js",start:20,end:3353},{filename:"/bnb_js/console.js",start:3353,end:3913},{filename:"/bnb_js/global.js",start:3913,end:4294},{filename:"/bnb_js/legacy.js",start:4294,end:8571},{filename:"/bnb_js/light_streaks.js",start:8571,end:18278},{filename:"/bnb_js/timers.js",start:18278,end:21597},{filename:"/bnb_shaders/.empty",start:21597,end:21616},{filename:"/bnb_shaders/bnb/anim_transform.glsl",start:21616,end:21779},{filename:"/bnb_shaders/bnb/color_spaces.glsl",start:21779,end:26078},{filename:"/bnb_shaders/bnb/decode_int1010102.glsl",start:26078,end:26767},{filename:"/bnb_shaders/bnb/get_bone.glsl",start:26767,end:27189},{filename:"/bnb_shaders/bnb/get_transform.glsl",start:27189,end:27828},{filename:"/bnb_shaders/bnb/glsl.frag",start:27828,end:28390},{filename:"/bnb_shaders/bnb/glsl.vert",start:28390,end:29171},{filename:"/bnb_shaders/bnb/lib/apply_light_streaks.frag",start:29171,end:29483},{filename:"/bnb_shaders/bnb/lib/apply_light_streaks.vert",start:29483,end:29732},{filename:"/bnb_shaders/bnb/lib/auto_morph.frag",start:29732,end:29845},{filename:"/bnb_shaders/bnb/lib/auto_morph.vert",start:29845,end:30457},{filename:"/bnb_shaders/bnb/lib/auto_morph_fisheye.frag",start:30457,end:30570},{filename:"/bnb_shaders/bnb/lib/auto_morph_fisheye.vert",start:30570,end:31077},{filename:"/bnb_shaders/bnb/lib/beauty_morph.frag",start:31077,end:31191},{filename:"/bnb_shaders/bnb/lib/beauty_morph.vert",start:31191,end:32340},{filename:"/bnb_shaders/bnb/lib/bg_blur_downscale.frag",start:32340,end:33214},{filename:"/bnb_shaders/bnb/lib/bg_blur_downscale.vert",start:33214,end:33413},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale.frag",start:33413,end:34408},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale.vert",start:34408,end:34743},{filename:"/bnb_shaders/bnb/lib/bg_blur_upscale_apply.frag",start:34743,end:35948},{filename:"/bnb_shaders/bnb/lib/camera.frag",start:35948,end:36529},{filename:"/bnb_shaders/bnb/lib/camera.vert",start:36529,end:36848},{filename:"/bnb_shaders/bnb/lib/camera_bgmask.frag",start:36848,end:37607},{filename:"/bnb_shaders/bnb/lib/camera_bgmask.vert",start:37607,end:37996},{filename:"/bnb_shaders/bnb/lib/copy_pixels.frag",start:37996,end:38170},{filename:"/bnb_shaders/bnb/lib/copy_pixels.vert",start:38170,end:38419},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_0.frag",start:38419,end:39405},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_0.vert",start:39405,end:39990},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_1.frag",start:39990,end:40976},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_1.vert",start:40976,end:41561},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_2.frag",start:41561,end:42547},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_2.vert",start:42547,end:43132},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_3.frag",start:43132,end:44118},{filename:"/bnb_shaders/bnb/lib/filter_light_streaks_3.vert",start:44118,end:44703},{filename:"/bnb_shaders/bnb/lib/gltf.frag",start:44703,end:46993},{filename:"/bnb_shaders/bnb/lib/gltf.vert",start:46993,end:48242},{filename:"/bnb_shaders/bnb/lib/init_light_streaks.frag",start:48242,end:48572},{filename:"/bnb_shaders/bnb/lib/init_light_streaks.vert",start:48572,end:48821},{filename:"/bnb_shaders/bnb/lib/mesh_morph.frag",start:48821,end:48935},{filename:"/bnb_shaders/bnb/lib/mesh_morph.vert",start:48935,end:50818},{filename:"/bnb_shaders/bnb/lib/morph_apply.frag",start:50818,end:51161},{filename:"/bnb_shaders/bnb/lib/morph_apply.vert",start:51161,end:53343},{filename:"/bnb_shaders/bnb/lib/morph_blur.frag",start:53343,end:54666},{filename:"/bnb_shaders/bnb/lib/morph_blur.vert",start:54666,end:54992},{filename:"/bnb_shaders/bnb/lib/retouch.frag",start:54992,end:58697},{filename:"/bnb_shaders/bnb/lib/retouch.vert",start:58697,end:59255},{filename:"/bnb_shaders/bnb/lib/static_pos.frag",start:59255,end:59366},{filename:"/bnb_shaders/bnb/lib/static_pos.vert",start:59366,end:59632},{filename:"/bnb_shaders/bnb/lib/uv_morph.frag",start:59632,end:59745},{filename:"/bnb_shaders/bnb/lib/uv_morph.vert",start:59745,end:60252},{filename:"/bnb_shaders/bnb/lib/vbg.frag",start:60252,end:61008},{filename:"/bnb_shaders/bnb/lib/vbg.vert",start:61008,end:62048},{filename:"/bnb_shaders/bnb/lut.glsl",start:62048,end:66577},{filename:"/bnb_shaders/bnb/math.glsl",start:66577,end:66577},{filename:"/bnb_shaders/bnb/matrix_operations.glsl",start:66577,end:67061},{filename:"/bnb_shaders/bnb/morph_transform.glsl",start:67061,end:68119},{filename:"/bnb_shaders/bnb/quat_rotation.glsl",start:68119,end:69513},{filename:"/bnb_shaders/bnb/sample_camera.glsl",start:69513,end:70450},{filename:"/bnb_shaders/bnb/samplers_declaration.glsl",start:70450,end:73194},{filename:"/bnb_shaders/bnb/texture_bicubic.glsl",start:73194,end:74552},{filename:"/bnb_shaders/bnb/textures_lookup.glsl",start:74552,end:75752},{filename:"/bnb_shaders/bnb/transform_uv.glsl",start:75752,end:78189},{filename:"/bnb_shaders/bnb/version.glsl",start:78189,end:78411},{filename:"/frx/frx.js",start:78411,end:80933},{filename:"/resources-versions.txt",start:80933,end:83383},{filename:"/watermark.png",start:83383,end:85869},{filename:"/watermark_blurred.png",start:85869,end:108302}],remote_package_size:108302})}}();var i,c,d=Object.assign({},t),a="./this.program",r=(e,t)=>{throw t},m="";typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c=(e,t,l)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):l()},n.onerror=l,n.send(null)};var s=t.print||console.log.bind(console),u=t.printErr||console.warn.bind(console);Object.assign(t,d),d=null,t.thisProgram&&(a=t.thisProgram),t.quit&&(r=t.quit);var o;t.wasmBinary&&(o=t.wasmBinary);var b=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&z("no native wasm support detected");var Z,p,W=!1;function h(e,t){e||z(t)}var y,X,V,G,Y,R,I,f,L,S=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function F(e,t,l){for(var n=t+l,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&S)return S.decode(e.subarray(t,i));for(var c="";t<i;){var d=e[t++];if(128&d){var a=63&e[t++];if(192!=(224&d)){var r=63&e[t++];if((d=224==(240&d)?(15&d)<<12|a<<6|r:(7&d)<<18|a<<12|r<<6|63&e[t++])<65536)c+=String.fromCharCode(d);else{var m=d-65536;c+=String.fromCharCode(55296|m>>10,56320|1023&m)}}else c+=String.fromCharCode((31&d)<<6|a)}else c+=String.fromCharCode(d)}return c}function x(e,t){return e?F(V,e,t):""}function N(e,t,l,n){if(!(n>0))return 0;for(var i=l,c=l+n-1,d=0;d<e.length;++d){var a=e.charCodeAt(d);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++d);if(a<=127){if(l>=c)break;t[l++]=a}else if(a<=2047){if(l+1>=c)break;t[l++]=192|a>>6,t[l++]=128|63&a}else if(a<=65535){if(l+2>=c)break;t[l++]=224|a>>12,t[l++]=128|a>>6&63,t[l++]=128|63&a}else{if(l+3>=c)break;t[l++]=240|a>>18,t[l++]=128|a>>12&63,t[l++]=128|a>>6&63,t[l++]=128|63&a}}return t[l]=0,l-i}function K(e,t,l){return N(e,V,t,l)}function J(e){for(var t=0,l=0;l<e.length;++l){var n=e.charCodeAt(l);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++l):t+=3}return t}function v(e){y=e,t.HEAP8=X=new Int8Array(e),t.HEAP16=G=new Int16Array(e),t.HEAP32=R=new Int32Array(e),t.HEAPU8=V=new Uint8Array(e),t.HEAPU16=Y=new Uint16Array(e),t.HEAPU32=I=new Uint32Array(e),t.HEAPF32=f=new Float32Array(e),t.HEAPF64=L=new Float64Array(e)}var g,T=[],k=[],U=[];var H=0,C=null;function M(e){H++,t.monitorRunDependencies&&t.monitorRunDependencies(H)}function w(e){if(H--,t.monitorRunDependencies&&t.monitorRunDependencies(H),0==H&&C){var l=C;C=null,l()}}function z(e){t.onAbort&&t.onAbort(e),u(e="Aborted("+e+")"),W=!0,p=1,e+=". Build with -sASSERTIONS for more info.";var l=new WebAssembly.RuntimeError(e);throw n(l),l}var E,j,P,B;function Q(e){return e.startsWith("data:application/octet-stream;base64,")}function D(e){try{if(e==E&&o)return new Uint8Array(o);throw"both async and sync fetching of the wasm failed"}catch(e){z(e)}}function O(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function _(e){for(;e.length>0;)e.shift()(t)}function A(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){I[this.ptr+4>>2]=e},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(e){I[this.ptr+8>>2]=e},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_refcount=function(e){R[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,X[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=X[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,X[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=X[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=R[this.ptr>>2];R[this.ptr>>2]=e+1},this.release_ref=function(){var e=R[this.ptr>>2];return R[this.ptr>>2]=e-1,1===e},this.set_adjusted_ptr=function(e){I[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){if(El(this.get_type()))return I[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}Q(E="BanubaSDK.wasm")||(j=E,E=t.locateFile?t.locateFile(j,m):m+j);var q={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var l=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),l++):l&&(e.splice(n,1),l--)}if(t)for(;l;l--)e.unshift("..");return e},normalize:e=>{var t=q.isAbs(e),l="/"===e.substr(-1);return!(e=q.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))&&!t&&(e="."),e&&l&&(e+="/"),(t?"/":"")+e},dirname:e=>{var t=q.splitPath(e),l=t[0],n=t[1];return l||n?(n&&(n=n.substr(0,n.length-1)),l+n):"."},basename:e=>{if("/"===e)return"/";var t=(e=(e=q.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return q.normalize(e.join("/"))},join2:(e,t)=>q.normalize(e+"/"+t)};function $(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}return()=>z("randomDevice")}var ee={resolve:function(){for(var e="",t=!1,l=arguments.length-1;l>=-1&&!t;l--){var n=l>=0?arguments[l]:de.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=q.isAbs(n)}return(t?"/":"")+(e=q.normalizeArray(e.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,t)=>{function l(e){for(var t=0;t<e.length&&""===e[t];t++);for(var l=e.length-1;l>=0&&""===e[l];l--);return t>l?[]:e.slice(t,l-t+1)}e=ee.resolve(e).substr(1),t=ee.resolve(t).substr(1);for(var n=l(e.split("/")),i=l(t.split("/")),c=Math.min(n.length,i.length),d=c,a=0;a<c;a++)if(n[a]!==i[a]){d=a;break}var r=[];for(a=d;a<n.length;a++)r.push("..");return(r=r.concat(i.slice(d))).join("/")}};function te(e,t,l){var n=l>0?l:J(e)+1,i=new Array(n),c=N(e,i,0,i.length);return t&&(i.length=c),i}var le={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){le.ttys[e]={input:[],output:[],ops:t},de.registerDevice(e,le.stream_ops)},stream_ops:{open:function(e){var t=le.ttys[e.node.rdev];if(!t)throw new de.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,l,n,i){if(!e.tty||!e.tty.ops.get_char)throw new de.ErrnoError(60);for(var c=0,d=0;d<n;d++){var a;try{a=e.tty.ops.get_char(e.tty)}catch{throw new de.ErrnoError(29)}if(void 0===a&&0===c)throw new de.ErrnoError(6);if(null==a)break;c++,t[l+d]=a}return c&&(e.node.timestamp=Date.now()),c},write:function(e,t,l,n,i){if(!e.tty||!e.tty.ops.put_char)throw new de.ErrnoError(60);try{for(var c=0;c<n;c++)e.tty.ops.put_char(e.tty,t[l+c])}catch{throw new de.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),c}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\n")),!t)return null;e.input=te(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(s(F(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(s(F(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(u(F(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(u(F(e.output,0)),e.output=[])}}};function ne(e,t){return V.fill(0,e,e+t),e}function ie(e){e=function(e,t){return Math.ceil(e/t)*t}(e,65536);var t=wl(65536,e);return t?ne(t,e):0}var ce={ops_table:null,mount:function(e){return ce.createNode(null,"/",16895,0)},createNode:function(e,t,l,n){if(de.isBlkdev(l)||de.isFIFO(l))throw new de.ErrnoError(63);ce.ops_table||(ce.ops_table={dir:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,lookup:ce.node_ops.lookup,mknod:ce.node_ops.mknod,rename:ce.node_ops.rename,unlink:ce.node_ops.unlink,rmdir:ce.node_ops.rmdir,readdir:ce.node_ops.readdir,symlink:ce.node_ops.symlink},stream:{llseek:ce.stream_ops.llseek}},file:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:{llseek:ce.stream_ops.llseek,read:ce.stream_ops.read,write:ce.stream_ops.write,allocate:ce.stream_ops.allocate,mmap:ce.stream_ops.mmap,msync:ce.stream_ops.msync}},link:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr,readlink:ce.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ce.node_ops.getattr,setattr:ce.node_ops.setattr},stream:de.chrdev_stream_ops}});var i=de.createNode(e,t,l,n);return de.isDir(i.mode)?(i.node_ops=ce.ops_table.dir.node,i.stream_ops=ce.ops_table.dir.stream,i.contents={}):de.isFile(i.mode)?(i.node_ops=ce.ops_table.file.node,i.stream_ops=ce.ops_table.file.stream,i.usedBytes=0,i.contents=null):de.isLink(i.mode)?(i.node_ops=ce.ops_table.link.node,i.stream_ops=ce.ops_table.link.stream):de.isChrdev(i.mode)&&(i.node_ops=ce.ops_table.chrdev.node,i.stream_ops=ce.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var l=e.contents?e.contents.length:0;if(!(l>=t)){t=Math.max(t,l*(l<1048576?2:1.125)>>>0),0!=l&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var l=e.contents;e.contents=new Uint8Array(t),l&&e.contents.set(l.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=de.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,de.isDir(e.mode)?t.size=4096:de.isFile(e.mode)?t.size=e.usedBytes:de.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ce.resizeFileStorage(e,t.size)},lookup:function(e,t){throw de.genericErrors[44]},mknod:function(e,t,l,n){return ce.createNode(e,t,l,n)},rename:function(e,t,l){if(de.isDir(e.mode)){var n;try{n=de.lookupNode(t,l)}catch{}if(n)for(var i in n.contents)throw new de.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=l,t.contents[l]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var l=de.lookupNode(e,t);for(var n in l.contents)throw new de.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var l in e.contents)!e.contents.hasOwnProperty(l)||t.push(l);return t},symlink:function(e,t,l){var n=ce.createNode(e,t,41471,0);return n.link=l,n},readlink:function(e){if(!de.isLink(e.mode))throw new de.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,l,n,i){var c=e.node.contents;if(i>=e.node.usedBytes)return 0;var d=Math.min(e.node.usedBytes-i,n);if(d>8&&c.subarray)t.set(c.subarray(i,i+d),l);else for(var a=0;a<d;a++)t[l+a]=c[i+a];return d},write:function(e,t,l,n,i,c){if(t.buffer===X.buffer&&(c=!1),!n)return 0;var d=e.node;if(d.timestamp=Date.now(),t.subarray&&(!d.contents||d.contents.subarray)){if(c)return d.contents=t.subarray(l,l+n),d.usedBytes=n,n;if(0===d.usedBytes&&0===i)return d.contents=t.slice(l,l+n),d.usedBytes=n,n;if(i+n<=d.usedBytes)return d.contents.set(t.subarray(l,l+n),i),n}if(ce.expandFileStorage(d,i+n),d.contents.subarray&&t.subarray)d.contents.set(t.subarray(l,l+n),i);else for(var a=0;a<n;a++)d.contents[i+a]=t[l+a];return d.usedBytes=Math.max(d.usedBytes,i+n),n},llseek:function(e,t,l){var n=t;if(1===l?n+=e.position:2===l&&de.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new de.ErrnoError(28);return n},allocate:function(e,t,l){ce.expandFileStorage(e.node,t+l),e.node.usedBytes=Math.max(e.node.usedBytes,t+l)},mmap:function(e,t,l,n,i){if(!de.isFile(e.node.mode))throw new de.ErrnoError(43);var c,d,a=e.node.contents;if(2&i||a.buffer!==y){if((l>0||l+t<a.length)&&(a=a.subarray?a.subarray(l,l+t):Array.prototype.slice.call(a,l,l+t)),d=!0,!(c=ie(t)))throw new de.ErrnoError(48);X.set(a,c)}else d=!1,c=a.byteOffset;return{ptr:c,allocated:d}},msync:function(e,t,l,n,i){return ce.stream_ops.write(e,t,0,n,l,!1),0}}};var de={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,t={})=>{if(!(e=ee.resolve(e)))return{path:"",node:null};if((t=Object.assign({follow_mount:!0,recurse_count:0},t)).recurse_count>8)throw new de.ErrnoError(32);for(var l=e.split("/").filter((e=>!!e)),n=de.root,i="/",c=0;c<l.length;c++){var d=c===l.length-1;if(d&&t.parent)break;if(n=de.lookupNode(n,l[c]),i=q.join2(i,l[c]),de.isMountpoint(n)&&(!d||d&&t.follow_mount)&&(n=n.mounted.root),!d||t.follow)for(var a=0;de.isLink(n.mode);){var r=de.readlink(i);if(i=ee.resolve(q.dirname(i),r),n=de.lookupPath(i,{recurse_count:t.recurse_count+1}).node,a++>40)throw new de.ErrnoError(32)}}return{path:i,node:n}},getPath:e=>{for(var t;;){if(de.isRoot(e)){var l=e.mount.mountpoint;return t?"/"!==l[l.length-1]?l+"/"+t:l+t:l}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:(e,t)=>{for(var l=0,n=0;n<t.length;n++)l=(l<<5)-l+t.charCodeAt(n)|0;return(e+l>>>0)%de.nameTable.length},hashAddNode:e=>{var t=de.hashName(e.parent.id,e.name);e.name_next=de.nameTable[t],de.nameTable[t]=e},hashRemoveNode:e=>{var t=de.hashName(e.parent.id,e.name);if(de.nameTable[t]===e)de.nameTable[t]=e.name_next;else for(var l=de.nameTable[t];l;){if(l.name_next===e){l.name_next=e.name_next;break}l=l.name_next}},lookupNode:(e,t)=>{var l=de.mayLookup(e);if(l)throw new de.ErrnoError(l,e);for(var n=de.hashName(e.id,t),i=de.nameTable[n];i;i=i.name_next){var c=i.name;if(i.parent.id===e.id&&c===t)return i}return de.lookup(e,t)},createNode:(e,t,l,n)=>{var i=new de.FSNode(e,t,l,n);return de.hashAddNode(i),i},destroyNode:e=>{de.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var t=de.flagModes[e];if(typeof t>"u")throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:(e,t)=>de.ignorePermissions?0:t.includes("r")&&!(292&e.mode)||t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0,mayLookup:e=>de.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,t)=>{try{return de.lookupNode(e,t),20}catch{}return de.nodePermissions(e,"wx")},mayDelete:(e,t,l)=>{var n;try{n=de.lookupNode(e,t)}catch(e){return e.errno}var i=de.nodePermissions(e,"wx");if(i)return i;if(l){if(!de.isDir(n.mode))return 54;if(de.isRoot(n)||de.getPath(n)===de.cwd())return 10}else if(de.isDir(n.mode))return 31;return 0},mayOpen:(e,t)=>e?de.isLink(e.mode)?32:de.isDir(e.mode)&&("r"!==de.flagsToPermissionString(t)||512&t)?31:de.nodePermissions(e,de.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,t=de.MAX_OPEN_FDS)=>{for(var l=e;l<=t;l++)if(!de.streams[l])return l;throw new de.ErrnoError(33)},getStream:e=>de.streams[e],createStream:(e,t,l)=>{de.FSStream||(de.FSStream=function(){this.shared={}},de.FSStream.prototype={},Object.defineProperties(de.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new de.FSStream,e);var n=de.nextfd(t,l);return e.fd=n,de.streams[n]=e,e},closeStream:e=>{de.streams[e]=null},chrdev_stream_ops:{open:e=>{var t=de.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new de.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,t)=>e<<8|t,registerDevice:(e,t)=>{de.devices[e]={stream_ops:t}},getDevice:e=>de.devices[e],getMounts:e=>{for(var t=[],l=[e];l.length;){var n=l.pop();t.push(n),l.push.apply(l,n.mounts)}return t},syncfs:(e,t)=>{"function"==typeof e&&(t=e,e=!1),de.syncFSRequests++,de.syncFSRequests>1&&u("warning: "+de.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var l=de.getMounts(de.root.mount),n=0;function i(e){return de.syncFSRequests--,t(e)}function c(e){if(e)return c.errored?void 0:(c.errored=!0,i(e));++n>=l.length&&i(null)}l.forEach((t=>{if(!t.type.syncfs)return c(null);t.type.syncfs(t,e,c)}))},mount:(e,t,l)=>{var n,i="/"===l,c=!l;if(i&&de.root)throw new de.ErrnoError(10);if(!i&&!c){var d=de.lookupPath(l,{follow_mount:!1});if(l=d.path,n=d.node,de.isMountpoint(n))throw new de.ErrnoError(10);if(!de.isDir(n.mode))throw new de.ErrnoError(54)}var a={type:e,opts:t,mountpoint:l,mounts:[]},r=e.mount(a);return r.mount=a,a.root=r,i?de.root=r:n&&(n.mounted=a,n.mount&&n.mount.mounts.push(a)),r},unmount:e=>{var t=de.lookupPath(e,{follow_mount:!1});if(!de.isMountpoint(t.node))throw new de.ErrnoError(28);var l=t.node,n=l.mounted,i=de.getMounts(n);Object.keys(de.nameTable).forEach((e=>{for(var t=de.nameTable[e];t;){var l=t.name_next;i.includes(t.mount)&&de.destroyNode(t),t=l}})),l.mounted=null;var c=l.mount.mounts.indexOf(n);l.mount.mounts.splice(c,1)},lookup:(e,t)=>e.node_ops.lookup(e,t),mknod:(e,t,l)=>{var n=de.lookupPath(e,{parent:!0}).node,i=q.basename(e);if(!i||"."===i||".."===i)throw new de.ErrnoError(28);var c=de.mayCreate(n,i);if(c)throw new de.ErrnoError(c);if(!n.node_ops.mknod)throw new de.ErrnoError(63);return n.node_ops.mknod(n,i,t,l)},create:(e,t)=>(t=void 0!==t?t:438,t&=4095,t|=32768,de.mknod(e,t,0)),mkdir:(e,t)=>(t=void 0!==t?t:511,t&=1023,t|=16384,de.mknod(e,t,0)),mkdirTree:(e,t)=>{for(var l=e.split("/"),n="",i=0;i<l.length;++i)if(l[i]){n+="/"+l[i];try{de.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,t,l)=>(typeof l>"u"&&(l=t,t=438),t|=8192,de.mknod(e,t,l)),symlink:(e,t)=>{if(!ee.resolve(e))throw new de.ErrnoError(44);var l=de.lookupPath(t,{parent:!0}).node;if(!l)throw new de.ErrnoError(44);var n=q.basename(t),i=de.mayCreate(l,n);if(i)throw new de.ErrnoError(i);if(!l.node_ops.symlink)throw new de.ErrnoError(63);return l.node_ops.symlink(l,n,e)},rename:(e,t)=>{var l,n,i=q.dirname(e),c=q.dirname(t),d=q.basename(e),a=q.basename(t);if(l=de.lookupPath(e,{parent:!0}).node,n=de.lookupPath(t,{parent:!0}).node,!l||!n)throw new de.ErrnoError(44);if(l.mount!==n.mount)throw new de.ErrnoError(75);var r,m=de.lookupNode(l,d),s=ee.relative(e,c);if("."!==s.charAt(0))throw new de.ErrnoError(28);if("."!==(s=ee.relative(t,i)).charAt(0))throw new de.ErrnoError(55);try{r=de.lookupNode(n,a)}catch{}if(m!==r){var u=de.isDir(m.mode),o=de.mayDelete(l,d,u);if(o)throw new de.ErrnoError(o);if(o=r?de.mayDelete(n,a,u):de.mayCreate(n,a))throw new de.ErrnoError(o);if(!l.node_ops.rename)throw new de.ErrnoError(63);if(de.isMountpoint(m)||r&&de.isMountpoint(r))throw new de.ErrnoError(10);if(n!==l&&(o=de.nodePermissions(l,"w")))throw new de.ErrnoError(o);de.hashRemoveNode(m);try{l.node_ops.rename(m,n,a)}catch(e){throw e}finally{de.hashAddNode(m)}}},rmdir:e=>{var t=de.lookupPath(e,{parent:!0}).node,l=q.basename(e),n=de.lookupNode(t,l),i=de.mayDelete(t,l,!0);if(i)throw new de.ErrnoError(i);if(!t.node_ops.rmdir)throw new de.ErrnoError(63);if(de.isMountpoint(n))throw new de.ErrnoError(10);t.node_ops.rmdir(t,l),de.destroyNode(n)},readdir:e=>{var t=de.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new de.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var t=de.lookupPath(e,{parent:!0}).node;if(!t)throw new de.ErrnoError(44);var l=q.basename(e),n=de.lookupNode(t,l),i=de.mayDelete(t,l,!1);if(i)throw new de.ErrnoError(i);if(!t.node_ops.unlink)throw new de.ErrnoError(63);if(de.isMountpoint(n))throw new de.ErrnoError(10);t.node_ops.unlink(t,l),de.destroyNode(n)},readlink:e=>{var t=de.lookupPath(e).node;if(!t)throw new de.ErrnoError(44);if(!t.node_ops.readlink)throw new de.ErrnoError(28);return ee.resolve(de.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,t)=>{var l=de.lookupPath(e,{follow:!t}).node;if(!l)throw new de.ErrnoError(44);if(!l.node_ops.getattr)throw new de.ErrnoError(63);return l.node_ops.getattr(l)},lstat:e=>de.stat(e,!0),chmod:(e,t,l)=>{var n;"string"==typeof e?n=de.lookupPath(e,{follow:!l}).node:n=e;if(!n.node_ops.setattr)throw new de.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:(e,t)=>{de.chmod(e,t,!0)},fchmod:(e,t)=>{var l=de.getStream(e);if(!l)throw new de.ErrnoError(8);de.chmod(l.node,t)},chown:(e,t,l,n)=>{var i;"string"==typeof e?i=de.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new de.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:(e,t,l)=>{de.chown(e,t,l,!0)},fchown:(e,t,l)=>{var n=de.getStream(e);if(!n)throw new de.ErrnoError(8);de.chown(n.node,t,l)},truncate:(e,t)=>{if(t<0)throw new de.ErrnoError(28);var l;"string"==typeof e?l=de.lookupPath(e,{follow:!0}).node:l=e;if(!l.node_ops.setattr)throw new de.ErrnoError(63);if(de.isDir(l.mode))throw new de.ErrnoError(31);if(!de.isFile(l.mode))throw new de.ErrnoError(28);var n=de.nodePermissions(l,"w");if(n)throw new de.ErrnoError(n);l.node_ops.setattr(l,{size:t,timestamp:Date.now()})},ftruncate:(e,t)=>{var l=de.getStream(e);if(!l)throw new de.ErrnoError(8);if(0==(2097155&l.flags))throw new de.ErrnoError(28);de.truncate(l.node,t)},utime:(e,t,l)=>{var n=de.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,l)})},open:(e,l,n)=>{if(""===e)throw new de.ErrnoError(44);var i;if(n=typeof n>"u"?438:n,n=64&(l="string"==typeof l?de.modeStringToFlags(l):l)?4095&n|32768:0,"object"==typeof e)i=e;else{e=q.normalize(e);try{i=de.lookupPath(e,{follow:!(131072&l)}).node}catch{}}var c=!1;if(64&l)if(i){if(128&l)throw new de.ErrnoError(20)}else i=de.mknod(e,n,0),c=!0;if(!i)throw new de.ErrnoError(44);if(de.isChrdev(i.mode)&&(l&=-513),65536&l&&!de.isDir(i.mode))throw new de.ErrnoError(54);if(!c){var d=de.mayOpen(i,l);if(d)throw new de.ErrnoError(d)}512&l&&!c&&de.truncate(i,0),l&=-131713;var a=de.createStream({node:i,path:de.getPath(i),flags:l,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return a.stream_ops.open&&a.stream_ops.open(a),t.logReadFiles&&!(1&l)&&(de.readFiles||(de.readFiles={}),e in de.readFiles||(de.readFiles[e]=1)),a},close:e=>{if(de.isClosed(e))throw new de.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{de.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,t,l)=>{if(de.isClosed(e))throw new de.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new de.ErrnoError(70);if(0!=l&&1!=l&&2!=l)throw new de.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,l),e.ungotten=[],e.position},read:(e,t,l,n,i)=>{if(n<0||i<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(1==(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.read)throw new de.ErrnoError(28);var c=typeof i<"u";if(c){if(!e.seekable)throw new de.ErrnoError(70)}else i=e.position;var d=e.stream_ops.read(e,t,l,n,i);return c||(e.position+=d),d},write:(e,t,l,n,i,c)=>{if(n<0||i<0)throw new de.ErrnoError(28);if(de.isClosed(e))throw new de.ErrnoError(8);if(0==(2097155&e.flags))throw new de.ErrnoError(8);if(de.isDir(e.node.mode))throw new de.ErrnoError(31);if(!e.stream_ops.write)throw new de.ErrnoError(28);e.seekable&&1024&e.flags&&de.llseek(e,0,2);var d=typeof i<"u";if(d){if(!e.seekable)throw new de.ErrnoError(70)}else i=e.position;var a=e.stream_ops.write(e,t,l,n,i,c);return d||(e.position+=a),a},allocate:(e,t,l)=>{if(de.isClosed(e))throw new de.ErrnoError(8);if(t<0||l<=0)throw new de.ErrnoError(28);if(0==(2097155&e.flags))throw new de.ErrnoError(8);if(!de.isFile(e.node.mode)&&!de.isDir(e.node.mode))throw new de.ErrnoError(43);if(!e.stream_ops.allocate)throw new de.ErrnoError(138);e.stream_ops.allocate(e,t,l)},mmap:(e,t,l,n,i)=>{if(0!=(2&n)&&0==(2&i)&&2!=(2097155&e.flags))throw new de.ErrnoError(2);if(1==(2097155&e.flags))throw new de.ErrnoError(2);if(!e.stream_ops.mmap)throw new de.ErrnoError(43);return e.stream_ops.mmap(e,t,l,n,i)},msync:(e,t,l,n,i)=>e.stream_ops.msync?e.stream_ops.msync(e,t,l,n,i):0,munmap:e=>0,ioctl:(e,t,l)=>{if(!e.stream_ops.ioctl)throw new de.ErrnoError(59);return e.stream_ops.ioctl(e,t,l)},readFile:(e,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var l,n=de.open(e,t.flags),i=de.stat(e).size,c=new Uint8Array(i);return de.read(n,c,0,i,0),"utf8"===t.encoding?l=F(c,0):"binary"===t.encoding&&(l=c),de.close(n),l},writeFile:(e,t,l={})=>{l.flags=l.flags||577;var n=de.open(e,l.flags,l.mode);if("string"==typeof t){var i=new Uint8Array(J(t)+1),c=N(t,i,0,i.length);de.write(n,i,0,c,void 0,l.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");de.write(n,t,0,t.byteLength,void 0,l.canOwn)}de.close(n)},cwd:()=>de.currentPath,chdir:e=>{var t=de.lookupPath(e,{follow:!0});if(null===t.node)throw new de.ErrnoError(44);if(!de.isDir(t.node.mode))throw new de.ErrnoError(54);var l=de.nodePermissions(t.node,"x");if(l)throw new de.ErrnoError(l);de.currentPath=t.path},createDefaultDirectories:()=>{de.mkdir("/tmp"),de.mkdir("/home"),de.mkdir("/home/web_user")},createDefaultDevices:()=>{de.mkdir("/dev"),de.registerDevice(de.makedev(1,3),{read:()=>0,write:(e,t,l,n,i)=>n}),de.mkdev("/dev/null",de.makedev(1,3)),le.register(de.makedev(5,0),le.default_tty_ops),le.register(de.makedev(6,0),le.default_tty1_ops),de.mkdev("/dev/tty",de.makedev(5,0)),de.mkdev("/dev/tty1",de.makedev(6,0));var e=$();de.createDevice("/dev","random",e),de.createDevice("/dev","urandom",e),de.mkdir("/dev/shm"),de.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{de.mkdir("/proc");var e=de.mkdir("/proc/self");de.mkdir("/proc/self/fd"),de.mount({mount:()=>{var t=de.createNode(e,"fd",16895,73);return t.node_ops={lookup:(e,t)=>{var l=+t,n=de.getStream(l);if(!n)throw new de.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?de.createDevice("/dev","stdin",t.stdin):de.symlink("/dev/tty","/dev/stdin"),t.stdout?de.createDevice("/dev","stdout",null,t.stdout):de.symlink("/dev/tty","/dev/stdout"),t.stderr?de.createDevice("/dev","stderr",null,t.stderr):de.symlink("/dev/tty1","/dev/stderr"),de.open("/dev/stdin",0),de.open("/dev/stdout",1),de.open("/dev/stderr",1)},ensureErrnoError:()=>{de.ErrnoError||(de.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},de.ErrnoError.prototype=new Error,de.ErrnoError.prototype.constructor=de.ErrnoError,[44].forEach((e=>{de.genericErrors[e]=new de.ErrnoError(e),de.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{de.ensureErrnoError(),de.nameTable=new Array(4096),de.mount(ce,{},"/"),de.createDefaultDirectories(),de.createDefaultDevices(),de.createSpecialDirectories(),de.filesystems={MEMFS:ce}},init:(e,l,n)=>{de.init.initialized=!0,de.ensureErrnoError(),t.stdin=e||t.stdin,t.stdout=l||t.stdout,t.stderr=n||t.stderr,de.createStandardStreams()},quit:()=>{de.init.initialized=!1;for(var e=0;e<de.streams.length;e++){var t=de.streams[e];!t||de.close(t)}},getMode:(e,t)=>{var l=0;return e&&(l|=365),t&&(l|=146),l},findObject:(e,t)=>{var l=de.analyzePath(e,t);return l.exists?l.object:null},analyzePath:(e,t)=>{try{e=(n=de.lookupPath(e,{follow:!t})).path}catch{}var l={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=de.lookupPath(e,{parent:!0});l.parentExists=!0,l.parentPath=n.path,l.parentObject=n.node,l.name=q.basename(e),n=de.lookupPath(e,{follow:!t}),l.exists=!0,l.path=n.path,l.object=n.node,l.name=n.node.name,l.isRoot="/"===n.path}catch(e){l.error=e.errno}return l},createPath:(e,t,l,n)=>{e="string"==typeof e?e:de.getPath(e);for(var i=t.split("/").reverse();i.length;){var c=i.pop();if(c){var d=q.join2(e,c);try{de.mkdir(d)}catch{}e=d}}return d},createFile:(e,t,l,n,i)=>{var c=q.join2("string"==typeof e?e:de.getPath(e),t),d=de.getMode(n,i);return de.create(c,d)},createDataFile:(e,t,l,n,i,c)=>{var d=t;e&&(e="string"==typeof e?e:de.getPath(e),d=t?q.join2(e,t):e);var a=de.getMode(n,i),r=de.create(d,a);if(l){if("string"==typeof l){for(var m=new Array(l.length),s=0,u=l.length;s<u;++s)m[s]=l.charCodeAt(s);l=m}de.chmod(r,146|a);var o=de.open(r,577);de.write(o,l,0,l.length,0,c),de.close(o),de.chmod(r,a)}return r},createDevice:(e,t,l,n)=>{var i=q.join2("string"==typeof e?e:de.getPath(e),t),c=de.getMode(!!l,!!n);de.createDevice.major||(de.createDevice.major=64);var d=de.makedev(de.createDevice.major++,0);return de.registerDevice(d,{open:e=>{e.seekable=!1},close:e=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(e,t,n,i,c)=>{for(var d=0,a=0;a<i;a++){var r;try{r=l()}catch{throw new de.ErrnoError(29)}if(void 0===r&&0===d)throw new de.ErrnoError(6);if(null==r)break;d++,t[n+a]=r}return d&&(e.node.timestamp=Date.now()),d},write:(e,t,l,i,c)=>{for(var d=0;d<i;d++)try{n(t[l+d])}catch{throw new de.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),d}}),de.mkdev(i,c,d)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!i)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=te(i(e.url),!0),e.usedBytes=e.contents.length}catch{throw new de.ErrnoError(29)}},createLazyFile:(e,t,l,n,i)=>{function c(){this.lengthKnown=!1,this.chunks=[]}if(c.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,l=e/this.chunkSize|0;return this.getter(l)[t]}},c.prototype.setDataGetter=function(e){this.getter=e},c.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",l,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+l+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,c=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,d=1048576;i||(d=n);var a=this;a.setDataGetter((e=>{var t=e*d,i=(e+1)*d-1;if(i=Math.min(i,n-1),typeof a.chunks[e]>"u"&&(a.chunks[e]=((e,t)=>{if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",l,!1),n!==d&&i.setRequestHeader("Range","bytes="+e+"-"+t),i.responseType="arraybuffer",i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+l+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):te(i.responseText||"",!0)})(t,i)),typeof a.chunks[e]>"u")throw new Error("doXHR failed!");return a.chunks[e]})),(c||!n)&&(d=n=1,n=this.getter(0).length,d=n,s("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=d,this.lengthKnown=!0},typeof XMLHttpRequest<"u")throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var d={isDevice:!1,url:l},a=de.createFile(e,t,d,n,i);d.contents?a.contents=d.contents:d.url&&(a.contents=null,a.url=d.url),Object.defineProperties(a,{usedBytes:{get:function(){return this.contents.length}}});var r={};function m(e,t,l,n,i){var c=e.node.contents;if(i>=c.length)return 0;var d=Math.min(c.length-i,n);if(c.slice)for(var a=0;a<d;a++)t[l+a]=c[i+a];else for(a=0;a<d;a++)t[l+a]=c.get(i+a);return d}return Object.keys(a.stream_ops).forEach((e=>{var t=a.stream_ops[e];r[e]=function(){return de.forceLoadFile(a),t.apply(null,arguments)}})),r.read=(e,t,l,n,i)=>(de.forceLoadFile(a),m(e,t,l,n,i)),r.mmap=(e,t,l,n,i)=>{de.forceLoadFile(a);var c=ie(t);if(!c)throw new de.ErrnoError(48);return m(e,X,c,t,l),{ptr:c,allocated:!0}},a.stream_ops=r,a},createPreloadedFile:(e,t,l,n,i,d,a,r,m,s)=>{var u=t?ee.resolve(q.join2(e,t)):e;function o(l){function c(l){s&&s(),r||de.createDataFile(e,t,l,n,i,m),d&&d(),w()}ll.handledByPreloadPlugin(l,u,c,(()=>{a&&a(),w()}))||c(l)}M(),"string"==typeof l?function(e,t,l,n){var i=n?"":"al "+e;c(e,(l=>{h(l,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(l)),i&&w()}),(t=>{if(!l)throw'Loading data file "'+e+'" failed.';l()})),i&&M()}(l,(e=>o(e)),a):o(l)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,t,l)=>{t=t||(()=>{}),l=l||(()=>{});var n=de.indexedDB();try{var i=n.open(de.DB_NAME(),de.DB_VERSION)}catch(e){return l(e)}i.onupgradeneeded=()=>{s("creating db"),i.result.createObjectStore(de.DB_STORE_NAME)},i.onsuccess=()=>{var n=i.result.transaction([de.DB_STORE_NAME],"readwrite"),c=n.objectStore(de.DB_STORE_NAME),d=0,a=0,r=e.length;function m(){0==a?t():l()}e.forEach((e=>{var t=c.put(de.analyzePath(e).object.contents,e);t.onsuccess=()=>{++d+a==r&&m()},t.onerror=()=>{a++,d+a==r&&m()}})),n.onerror=l},i.onerror=l},loadFilesFromDB:(e,t,l)=>{t=t||(()=>{}),l=l||(()=>{});var n=de.indexedDB();try{var i=n.open(de.DB_NAME(),de.DB_VERSION)}catch(e){return l(e)}i.onupgradeneeded=l,i.onsuccess=()=>{var n=i.result;try{var c=n.transaction([de.DB_STORE_NAME],"readonly")}catch(e){return void l(e)}var d=c.objectStore(de.DB_STORE_NAME),a=0,r=0,m=e.length;function s(){0==r?t():l()}e.forEach((e=>{var t=d.get(e);t.onsuccess=()=>{de.analyzePath(e).exists&&de.unlink(e),de.createDataFile(q.dirname(e),q.basename(e),t.result,!0,!0,!0),++a+r==m&&s()},t.onerror=()=>{r++,a+r==m&&s()}})),c.onerror=l},i.onerror=l}},ae={DEFAULT_POLLMASK:5,calculateAt:function(e,t,l){if(q.isAbs(t))return t;var n;-100===e?n=de.cwd():n=ae.getStreamFromFD(e).path;if(0==t.length){if(!l)throw new de.ErrnoError(44);return n}return q.join2(n,t)},doStat:function(e,t,l){try{var n=e(t)}catch(e){if(e&&e.node&&q.normalize(t)!==q.normalize(de.getPath(e.node)))return-54;throw e}return R[l>>2]=n.dev,R[l+8>>2]=n.ino,R[l+12>>2]=n.mode,I[l+16>>2]=n.nlink,R[l+20>>2]=n.uid,R[l+24>>2]=n.gid,R[l+28>>2]=n.rdev,B=[n.size>>>0,(P=n.size,+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[l+40>>2]=B[0],R[l+44>>2]=B[1],R[l+48>>2]=4096,R[l+52>>2]=n.blocks,B=[Math.floor(n.atime.getTime()/1e3)>>>0,(P=Math.floor(n.atime.getTime()/1e3),+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[l+56>>2]=B[0],R[l+60>>2]=B[1],I[l+64>>2]=0,B=[Math.floor(n.mtime.getTime()/1e3)>>>0,(P=Math.floor(n.mtime.getTime()/1e3),+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[l+72>>2]=B[0],R[l+76>>2]=B[1],I[l+80>>2]=0,B=[Math.floor(n.ctime.getTime()/1e3)>>>0,(P=Math.floor(n.ctime.getTime()/1e3),+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[l+88>>2]=B[0],R[l+92>>2]=B[1],I[l+96>>2]=0,B=[n.ino>>>0,(P=n.ino,+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[l+104>>2]=B[0],R[l+108>>2]=B[1],0},doMsync:function(e,t,l,n,i){if(!de.isFile(t.node.mode))throw new de.ErrnoError(43);if(2&n)return 0;var c=V.slice(e,e+l);de.msync(t,c,i,l,n)},varargs:void 0,get:function(){return ae.varargs+=4,R[ae.varargs-4>>2]},getStr:function(e){return x(e)},getStreamFromFD:function(e){var t=de.getStream(e);if(!t)throw new de.ErrnoError(8);return t}};function re(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}var me="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function se(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var ue=void 0;function oe(e){for(var t="",l=e;V[l];)t+=ue[V[l++]];return t}var be={},Ze={},pe={};function We(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function he(e,t){return e=We(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function ye(e,t){var l=he(t,(function(e){this.name=t,this.message=e;var l=new Error(e).stack;void 0!==l&&(this.stack=this.toString()+"\n"+l.replace(/^Error(:[^\n]*)?\n/,""))}));return l.prototype=Object.create(e.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},l}var Xe=void 0;function Ve(e){throw new Xe(e)}var Ge=void 0;function Ye(e){throw new Ge(e)}function Re(e,t,l){function n(t){var n=l(t);n.length!==e.length&&Ye("Mismatched type converter count");for(var i=0;i<e.length;++i)Ie(e[i],n[i])}e.forEach((function(e){pe[e]=t}));var i=new Array(t.length),c=[],d=0;t.forEach(((e,t)=>{Ze.hasOwnProperty(e)?i[t]=Ze[e]:(c.push(e),be.hasOwnProperty(e)||(be[e]=[]),be[e].push((()=>{i[t]=Ze[e],++d===c.length&&n(i)})))})),0===c.length&&n(i)}function Ie(e,t,l={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||Ve('type "'+n+'" must have a positive integer typeid pointer'),Ze.hasOwnProperty(e)){if(l.ignoreDuplicateRegistrations)return;Ve("Cannot register type '"+n+"' twice")}if(Ze[e]=t,delete pe[e],be.hasOwnProperty(e)){var i=be[e];delete be[e],i.forEach((e=>e()))}}function fe(e){if(!(this instanceof De&&e instanceof De))return!1;for(var t=this.$$.ptrType.registeredClass,l=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)l=t.upcast(l),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&l===i}function Le(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Se(e){Ve(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Fe=!1;function xe(e){}function Ne(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function Ke(e,t,l){if(t===l)return e;if(void 0===l.baseClass)return null;var n=Ke(e,t,l.baseClass);return null===n?null:l.downcast(n)}var Je={};function ve(){return Object.keys(Ce).length}function ge(){var e=[];for(var t in Ce)Ce.hasOwnProperty(t)&&e.push(Ce[t]);return e}var Te=[];function ke(){for(;Te.length;){var e=Te.pop();e.$$.deleteScheduled=!1,e.delete()}}var Ue=void 0;function He(e){Ue=e,Te.length&&Ue&&Ue(ke)}var Ce={};function Me(e,t){return t=function(e,t){for(void 0===t&&Ve("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),Ce[t]}function we(e,t){return(!t.ptrType||!t.ptr)&&Ye("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&Ye("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ee(Object.create(e,{$$:{value:t}}))}function ze(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var l=Me(this.registeredClass,t);if(void 0!==l){if(0===l.$$.count.value)return l.$$.ptr=t,l.$$.smartPtr=e,l.clone();var n=l.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?we(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):we(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var c,d=this.registeredClass.getActualType(t),a=Je[d];if(!a)return i.call(this);c=this.isConst?a.constPointerType:a.pointerType;var r=Ke(t,this.registeredClass,c.registeredClass);return null===r?i.call(this):this.isSmartPointer?we(c.registeredClass.instancePrototype,{ptrType:c,ptr:r,smartPtrType:this,smartPtr:e}):we(c.registeredClass.instancePrototype,{ptrType:c,ptr:r})}function Ee(e){return typeof FinalizationRegistry>"u"?(Ee=e=>e,e):(Fe=new FinalizationRegistry((e=>{Ne(e.$$)})),xe=e=>Fe.unregister(e),(Ee=e=>{var t=e.$$;if(!!t.smartPtr){var l={$$:t};Fe.register(e,l,e)}return e})(e))}function je(){if(this.$$.ptr||Se(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Ee(Object.create(Object.getPrototypeOf(this),{$$:{value:Le(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Pe(){this.$$.ptr||Se(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ve("Object already scheduled for deletion"),xe(this),Ne(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Be(){return!this.$$.ptr}function Qe(){return this.$$.ptr||Se(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ve("Object already scheduled for deletion"),Te.push(this),1===Te.length&&Ue&&Ue(ke),this.$$.deleteScheduled=!0,this}function De(){}function Oe(e,t,l){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ve("Function '"+l+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function _e(e,l,n){t.hasOwnProperty(e)?((void 0===n||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[n])&&Ve("Cannot register public name '"+e+"' twice"),Oe(t,e,e),t.hasOwnProperty(n)&&Ve("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),t[e].overloadTable[n]=l):(t[e]=l,void 0!==n&&(t[e].numArguments=n))}function Ae(e,t,l,n,i,c,d,a){this.name=e,this.constructor=t,this.instancePrototype=l,this.rawDestructor=n,this.baseClass=i,this.getActualType=c,this.upcast=d,this.downcast=a,this.pureVirtualFunctions=[]}function qe(e,t,l){for(;t!==l;)t.upcast||Ve("Expected null or instance of "+l.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function $e(e,t){if(null===t)return this.isReference&&Ve("null is not a valid "+this.name),0;t.$$||Ve('Cannot pass "'+Ft(t)+'" as a '+this.name),t.$$.ptr||Ve("Cannot pass deleted object as a pointer of type "+this.name);var l=t.$$.ptrType.registeredClass;return qe(t.$$.ptr,l,this.registeredClass)}function et(e,t){var l;if(null===t)return this.isReference&&Ve("null is not a valid "+this.name),this.isSmartPointer?(l=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,l),l):0;t.$$||Ve('Cannot pass "'+Ft(t)+'" as a '+this.name),t.$$.ptr||Ve("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&Ve("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(l=qe(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Ve("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?l=t.$$.smartPtr:Ve("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:l=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)l=t.$$.smartPtr;else{var i=t.clone();l=this.rawShare(l,ft.toHandle((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,l)}break;default:Ve("Unsupporting sharing policy")}return l}function tt(e,t){if(null===t)return this.isReference&&Ve("null is not a valid "+this.name),0;t.$$||Ve('Cannot pass "'+Ft(t)+'" as a '+this.name),t.$$.ptr||Ve("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&Ve("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var l=t.$$.ptrType.registeredClass;return qe(t.$$.ptr,l,this.registeredClass)}function lt(e){return this.fromWireType(R[e>>2])}function nt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function it(e){this.rawDestructor&&this.rawDestructor(e)}function ct(e){null!==e&&e.delete()}function dt(e,t,l,n,i,c,d,a,r,m,s){this.name=e,this.registeredClass=t,this.isReference=l,this.isConst=n,this.isSmartPointer=i,this.pointeeType=c,this.sharingPolicy=d,this.rawGetPointee=a,this.rawConstructor=r,this.rawShare=m,this.rawDestructor=s,i||void 0!==t.baseClass?this.toWireType=et:n?(this.toWireType=$e,this.destructorFunction=null):(this.toWireType=tt,this.destructorFunction=null)}function at(e,l,n){t.hasOwnProperty(e)||Ye("Replacing nonexistant public symbol"),void 0!==t[e].overloadTable&&void 0!==n?t[e].overloadTable[n]=l:(t[e]=l,t[e].argCount=n)}var rt=[];function mt(e){var t=rt[e];return t||(e>=rt.length&&(rt.length=e+1),rt[e]=t=g.get(e)),t}function st(e,l,n){return e.includes("j")?function(e,l,n){var i=t["dynCall_"+e];return n&&n.length?i.apply(null,[l].concat(n)):i.call(null,l)}(e,l,n):mt(l).apply(null,n)}function ut(e,t){var l=(e=oe(e)).includes("j")?function(e,t){var l=[];return function(){return l.length=0,Object.assign(l,arguments),st(e,t,l)}}(e,t):mt(t);return"function"!=typeof l&&Ve("unknown function pointer with signature "+e+": "+t),l}var ot=void 0;function bt(e){var t=Ul(e),l=oe(t);return kl(t),l}function Zt(e,t){var l=[],n={};throw t.forEach((function e(t){if(!n[t]&&!Ze[t]){if(pe[t])return void pe[t].forEach(e);l.push(t),n[t]=!0}})),new ot(e+": "+l.map(bt).join([", "]))}function pt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var l=he(e.name||"unknownFunctionName",(function(){}));l.prototype=e.prototype;var n=new l,i=e.apply(n,t);return i instanceof Object?i:n}function Wt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ht(e,t,l,n,i){var c=t.length;c<2&&Ve("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var d=null!==t[1]&&null!==l,a=!1,r=1;r<t.length;++r)if(null!==t[r]&&void 0===t[r].destructorFunction){a=!0;break}var m="void"!==t[0].name,s="",u="";for(r=0;r<c-2;++r)s+=(0!==r?", ":"")+"arg"+r,u+=(0!==r?", ":"")+"arg"+r+"Wired";var o="return function "+We(e)+"("+s+") {\nif (arguments.length !== "+(c-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(c-2)+" args!');\n}\n";a&&(o+="var destructors = [];\n");var b=a?"destructors":"null",Z=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[Ve,n,i,Wt,t[0],t[1]];d&&(o+="var thisWired = classParam.toWireType("+b+", this);\n");for(r=0;r<c-2;++r)o+="var arg"+r+"Wired = argType"+r+".toWireType("+b+", arg"+r+"); // "+t[r+2].name+"\n",Z.push("argType"+r),p.push(t[r+2]);if(d&&(u="thisWired"+(u.length>0?", ":"")+u),o+=(m?"var rv = ":"")+"invoker(fn"+(u.length>0?", ":"")+u+");\n",a)o+="runDestructors(destructors);\n";else for(r=d?1:2;r<t.length;++r){var W=1===r?"thisWired":"arg"+(r-2)+"Wired";null!==t[r].destructorFunction&&(o+=W+"_dtor("+W+"); // "+t[r].name+"\n",Z.push(W+"_dtor"),p.push(t[r].destructorFunction))}return m&&(o+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),o+="}\n",Z.push(o),pt(Function,Z).apply(null,p)}function yt(e,t){for(var l=[],n=0;n<e;n++)l.push(I[t+4*n>>2]);return l}function Xt(e,t,l){return e instanceof Object||Ve(l+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||Ve(l+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||Ve("cannot call emscripten binding method "+l+" on deleted object"),qe(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}var Vt=[],Gt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Yt(e){e>4&&0==--Gt[e].refcount&&(Gt[e]=void 0,Vt.push(e))}function Rt(){for(var e=0,t=5;t<Gt.length;++t)void 0!==Gt[t]&&++e;return e}function It(){for(var e=5;e<Gt.length;++e)if(void 0!==Gt[e])return Gt[e];return null}var ft={toValue:e=>(e||Ve("Cannot use deleted val. handle = "+e),Gt[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Vt.length?Vt.pop():Gt.length;return Gt[t]={refcount:1,value:e},t}}};function Lt(e,t,l){switch(t){case 0:return function(e){var t=l?X:V;return this.fromWireType(t[e])};case 1:return function(e){var t=l?G:Y;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=l?R:I;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function St(e,t){var l=Ze[e];return void 0===l&&Ve(t+" has unknown type "+bt(e)),l}function Ft(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function xt(e,t){switch(t){case 2:return function(e){return this.fromWireType(f[e>>2])};case 3:return function(e){return this.fromWireType(L[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Nt(e,t,l){switch(t){case 0:return l?function(e){return X[e]}:function(e){return V[e]};case 1:return l?function(e){return G[e>>1]}:function(e){return Y[e>>1]};case 2:return l?function(e){return R[e>>2]}:function(e){return I[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var Kt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Jt(e,t){for(var l=e,n=l>>1,i=n+t/2;!(n>=i)&&Y[n];)++n;if((l=n<<1)-e>32&&Kt)return Kt.decode(V.subarray(e,l));for(var c="",d=0;!(d>=t/2);++d){var a=G[e+2*d>>1];if(0==a)break;c+=String.fromCharCode(a)}return c}function vt(e,t,l){if(void 0===l&&(l=2147483647),l<2)return 0;for(var n=t,i=(l-=2)<2*e.length?l/2:e.length,c=0;c<i;++c){var d=e.charCodeAt(c);G[t>>1]=d,t+=2}return G[t>>1]=0,t-n}function gt(e){return 2*e.length}function Tt(e,t){for(var l=0,n="";!(l>=t/4);){var i=R[e+4*l>>2];if(0==i)break;if(++l,i>=65536){var c=i-65536;n+=String.fromCharCode(55296|c>>10,56320|1023&c)}else n+=String.fromCharCode(i)}return n}function kt(e,t,l){if(void 0===l&&(l=2147483647),l<4)return 0;for(var n=t,i=n+l-4,c=0;c<e.length;++c){var d=e.charCodeAt(c);if(d>=55296&&d<=57343)d=65536+((1023&d)<<10)|1023&e.charCodeAt(++c);if(R[t>>2]=d,(t+=4)+4>i)break}return R[t>>2]=0,t-n}function Ut(e){for(var t=0,l=0;l<e.length;++l){var n=e.charCodeAt(l);n>=55296&&n<=57343&&++l,t+=4}return t}function Ht(e,t){for(var l=new Array(e),n=0;n<e;++n)l[n]=St(I[t+4*n>>2],"parameter "+n);return l}var Ct={};function Mt(e){var t=Ct[e];return void 0===t?oe(e):t}var wt=[];var zt=[];function Et(e){return I[e>>2]+4294967296*R[e+4>>2]}function jt(e){return e%4==0&&(e%100!=0||e%400==0)}var Pt,Bt=[0,31,60,91,121,152,182,213,244,274,305,335],Qt=[0,31,59,90,120,151,181,212,243,273,304,334];function Dt(e){return(jt(e.getFullYear())?Bt:Qt)[e.getMonth()]+e.getDate()-1}function Ot(e){var t=J(e)+1,l=gl(t);return l&&N(e,X,l,t),l}function _t(e,t){if(ll.mainLoop.timingMode=e,ll.mainLoop.timingValue=t,!ll.mainLoop.func)return 1;if(ll.mainLoop.running||(ll.mainLoop.running=!0),0==e)ll.mainLoop.scheduler=function(){var e=0|Math.max(0,ll.mainLoop.tickStartTime+t-Pt());setTimeout(ll.mainLoop.runner,e)},ll.mainLoop.method="timeout";else if(1==e)ll.mainLoop.scheduler=function(){ll.requestAnimationFrame(ll.mainLoop.runner)},ll.mainLoop.method="rAF";else if(2==e){if(typeof setImmediate>"u"){var l=[],n="setimmediate";addEventListener("message",(e=>{(e.data===n||e.data.target===n)&&(e.stopPropagation(),l.shift()())}),!0),setImmediate=function(e){l.push(e),postMessage(n,"*")}}ll.mainLoop.scheduler=function(){setImmediate(ll.mainLoop.runner)},ll.mainLoop.method="immediate"}return 0}function At(e){p=e,b||(t.onExit&&t.onExit(e),W=!0),r(e,new O(e))}Pt=()=>performance.now();var qt=function(e,t){p=e,At(e)};function $t(e){if(!W)try{e()}catch(e){!function(e){if(e instanceof O||"unwind"==e)return p;r(1,e)}(e)}}function el(e,t){return setTimeout((function(){$t(e)}),t)}function tl(e){tl.shown||(tl.shown={}),tl.shown[e]||(tl.shown[e]=1,u(e))}var ll={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){ll.mainLoop.scheduler=null,ll.mainLoop.currentlyRunningMainloop++},resume:function(){ll.mainLoop.currentlyRunningMainloop++;var e=ll.mainLoop.timingMode,t=ll.mainLoop.timingValue,l=ll.mainLoop.func;ll.mainLoop.func=null,function(e,t,l,n,i){h(!ll.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),ll.mainLoop.func=e,ll.mainLoop.arg=n;var c=ll.mainLoop.currentlyRunningMainloop;function d(){return!(c<ll.mainLoop.currentlyRunningMainloop)}if(ll.mainLoop.running=!1,ll.mainLoop.runner=function(){if(!W){if(ll.mainLoop.queue.length>0){var t=Date.now(),l=ll.mainLoop.queue.shift();if(l.func(l.arg),ll.mainLoop.remainingBlockers){var n=ll.mainLoop.remainingBlockers,i=n%1==0?n-1:Math.floor(n);l.counted?ll.mainLoop.remainingBlockers=i:(i+=.5,ll.mainLoop.remainingBlockers=(8*n+i)/9)}if(s('main loop blocker "'+l.name+'" took '+(Date.now()-t)+" ms"),ll.mainLoop.updateStatus(),!d())return;return void setTimeout(ll.mainLoop.runner,0)}if(d()){if(ll.mainLoop.currentFrameNumber=ll.mainLoop.currentFrameNumber+1|0,1==ll.mainLoop.timingMode&&ll.mainLoop.timingValue>1&&ll.mainLoop.currentFrameNumber%ll.mainLoop.timingValue!=0)return void ll.mainLoop.scheduler();0==ll.mainLoop.timingMode&&(ll.mainLoop.tickStartTime=Pt()),ll.mainLoop.runIter(e),d()&&("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),ll.mainLoop.scheduler())}}},i||(t&&t>0?_t(0,1e3/t):_t(1,1),ll.mainLoop.scheduler()),l)throw"unwind"}(l,0,!1,ll.mainLoop.arg,!0),_t(e,t),ll.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var e=t.statusMessage||"Please wait...",l=ll.mainLoop.remainingBlockers,n=ll.mainLoop.expectedBlockers;l?l<n?t.setStatus(e+" ("+(n-l)+"/"+n+")"):t.setStatus(e):t.setStatus("")}},runIter:function(e){if(!W){if(t.preMainLoop)if(!1===t.preMainLoop())return;$t(e),t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),!ll.initted){ll.initted=!0;try{new Blob,ll.hasBlobConstructor=!0}catch{ll.hasBlobConstructor=!1,u("warning: no blob constructor, cannot create blobs with mimetypes")}ll.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:ll.hasBlobConstructor?null:u("warning: no BlobBuilder"),ll.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!t.noImageDecoding&&typeof ll.URLObject>"u"&&(u("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var e={canHandle:function(e){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)}};e.handle=function(e,t,l,n){var i=null;if(ll.hasBlobConstructor)try{(i=new Blob([e],{type:ll.getMimetype(t)})).size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:ll.getMimetype(t)}))}catch(e){tl("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!i){var c=new ll.BlobBuilder;c.append(new Uint8Array(e).buffer),i=c.getBlob()}var d=ll.URLObject.createObjectURL(i),a=new Image;a.onload=()=>{h(a.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),ll.URLObject.revokeObjectURL(d),l&&l(e)},a.onerror=e=>{s("Image "+d+" could not be decoded"),n&&n()},a.src=d},t.preloadPlugins.push(e);var l={canHandle:function(e){return!t.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,l,n){var i=!1;function c(t){i||(i=!0,l&&l(e))}function d(){i||(i=!0,new Audio,n&&n())}if(!ll.hasBlobConstructor)return d();try{var a=new Blob([e],{type:ll.getMimetype(t)})}catch{return d()}var r=ll.URLObject.createObjectURL(a),m=new Audio;m.addEventListener("canplaythrough",(()=>c()),!1),m.onerror=function(l){i||(u("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),m.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="",n=0,i=0,c=0;c<e.length;c++)for(n=n<<8|e[c],i+=8;i>=6;){var d=n>>i-6&63;i-=6,l+=t[d]}return 2==i?(l+=t[(3&n)<<4],l+="=="):4==i&&(l+=t[(15&n)<<2],l+="="),l}(e),c())},m.src=r,el((function(){c()}),1e4)}};t.preloadPlugins.push(l);var n=t.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||(()=>{}),n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),t.elementPointerLock&&n.addEventListener("click",(e=>{!ll.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),e.preventDefault())}),!1))}function i(){ll.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}},handledByPreloadPlugin:function(e,l,n,i){ll.init();var c=!1;return t.preloadPlugins.forEach((function(t){c||t.canHandle(l)&&(t.handle(e,l,n,i),c=!0)})),c},createContext:function(e,l,n,i){if(l&&t.ctx&&e==t.canvas)return t.ctx;var c,d;if(l){var a={antialias:!1,alpha:!1,majorVersion:typeof WebGL2RenderingContext<"u"?2:1};if(i)for(var r in i)a[r]=i[r];typeof Zl<"u"&&((d=Zl.createContext(e,a))&&(c=Zl.getContext(d).GLctx))}else c=e.getContext("2d");return c?(n&&(l||h(typeof Nl>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=c,l&&Zl.makeContextCurrent(d),t.useWebGL=l,ll.moduleContextCreatedCallbacks.forEach((function(e){e()})),ll.init()),c):null},destroyContext:function(e,t,l){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,l){ll.lockPointer=e,ll.resizeCanvas=l,typeof ll.lockPointer>"u"&&(ll.lockPointer=!0),typeof ll.resizeCanvas>"u"&&(ll.resizeCanvas=!1);var n=t.canvas;function i(){ll.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=ll.exitFullscreen,ll.lockPointer&&n.requestPointerLock(),ll.isFullscreen=!0,ll.resizeCanvas?ll.setFullscreenCanvasSize():ll.updateCanvasDimensions(n)):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),ll.resizeCanvas?ll.setWindowedCanvasSize():ll.updateCanvasDimensions(n)),t.onFullScreen&&t.onFullScreen(ll.isFullscreen),t.onFullscreen&&t.onFullscreen(ll.isFullscreen)}ll.fullscreenHandlersInstalled||(ll.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var c=document.createElement("div");n.parentNode.insertBefore(c,n),c.appendChild(n),c.requestFullscreen=c.requestFullscreen||c.mozRequestFullScreen||c.msRequestFullscreen||(c.webkitRequestFullscreen?()=>c.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(c.webkitRequestFullScreen?()=>c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),c.requestFullscreen()},exitFullscreen:function(){return!!ll.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===ll.nextRAF)ll.nextRAF=t+1e3/60;else for(;t+2>=ll.nextRAF;)ll.nextRAF+=1e3/60;var l=Math.max(ll.nextRAF-t,0);setTimeout(e,l)},requestAnimationFrame:function(e){"function"!=typeof requestAnimationFrame?(0,ll.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeSetTimeout:function(e,t){return el(e,t)},safeRequestAnimationFrame:function(e){return ll.requestAnimationFrame((function(){$t(e)}))},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(ll.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?ll.mouseMovementX=ll.mouseMovementY=0:(ll.mouseMovementX=ll.getMovementX(e),ll.mouseMovementY=ll.getMovementY(e)),typeof SDL<"u"?(ll.mouseX=SDL.mouseX+ll.mouseMovementX,ll.mouseY=SDL.mouseY+ll.mouseMovementY):(ll.mouseX+=ll.mouseMovementX,ll.mouseY+=ll.mouseMovementY);else{var l=t.canvas.getBoundingClientRect(),n=t.canvas.width,i=t.canvas.height,c=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,d=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var r=a.pageX-(c+l.left),m=a.pageY-(d+l.top),s={x:r*=n/l.width,y:m*=i/l.height};if("touchstart"===e.type)ll.lastTouches[a.identifier]=s,ll.touches[a.identifier]=s;else if("touchend"===e.type||"touchmove"===e.type){var u=ll.touches[a.identifier];u||(u=s),ll.lastTouches[a.identifier]=u,ll.touches[a.identifier]=s}return}var o=e.pageX-(c+l.left),b=e.pageY-(d+l.top);o*=n/l.width,b*=i/l.height,ll.mouseMovementX=o-ll.mouseX,ll.mouseMovementY=b-ll.mouseY,ll.mouseX=o,ll.mouseY=b}},resizeListeners:[],updateResizeListeners:function(){var e=t.canvas;ll.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,l,n){var i=t.canvas;ll.updateCanvasDimensions(i,e,l),n||ll.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var e=I[SDL.screen>>2];e|=8388608,R[SDL.screen>>2]=e}ll.updateCanvasDimensions(t.canvas),ll.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var e=I[SDL.screen>>2];e&=-8388609,R[SDL.screen>>2]=e}ll.updateCanvasDimensions(t.canvas),ll.updateResizeListeners()},updateCanvasDimensions:function(e,l,n){l&&n?(e.widthNative=l,e.heightNative=n):(l=e.widthNative,n=e.heightNative);var i=l,c=n;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(i/c<t.forcedAspectRatio?i=Math.round(c*t.forcedAspectRatio):c=Math.round(i/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var d=Math.min(screen.width/i,screen.height/c);i=Math.round(i*d),c=Math.round(c*d)}ll.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=c&&(e.height=c),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=l&&(e.width=l),e.height!=n&&(e.height=n),typeof e.style<"u"&&(i!=l||c!=n?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",c+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},nl={QUEUE_INTERVAL:25,QUEUE_LOOKAHEAD:.1,DEVICE_NAME:"Emscripten OpenAL",CAPTURE_DEVICE_NAME:"Emscripten OpenAL capture",ALC_EXTENSIONS:{ALC_SOFT_pause_device:!0,ALC_SOFT_HRTF:!0},AL_EXTENSIONS:{AL_EXT_float32:!0,AL_SOFT_loop_points:!0,AL_SOFT_source_length:!0,AL_EXT_source_distance_model:!0,AL_SOFT_source_spatialize:!0},_alcErr:0,alcErr:0,deviceRefCounts:{},alcStringCache:{},paused:!1,stringCache:{},contexts:{},currentCtx:null,buffers:{0:{id:0,refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0}},paramArray:[],_nextId:1,newId:function(){return nl.freeIds.length>0?nl.freeIds.pop():nl._nextId++},freeIds:[],scheduleContextAudio:function(e){if(1!==ll.mainLoop.timingMode||"visible"==document.visibilityState)for(var t in e.sources)nl.scheduleSourceAudio(e.sources[t])},scheduleSourceAudio:function(e,t){if((1!==ll.mainLoop.timingMode||"visible"==document.visibilityState)&&4114===e.state){for(var l=nl.updateSourceTime(e),n=e.bufStartTime,i=e.bufOffset,c=e.bufsProcessed,d=0;d<e.audioQueue.length;d++){n=(s=e.audioQueue[d])._startTime+s._duration,i=0,c+=s._skipCount+1}t||(t=nl.QUEUE_LOOKAHEAD);for(var a=l+t,r=0;n<a;){if(c>=e.bufQueue.length){if(!e.looping)break;c%=e.bufQueue.length}var m=e.bufQueue[c%e.bufQueue.length];if(0===m.length){if(++r===e.bufQueue.length)break}else{var s;(s=e.context.audioCtx.createBufferSource()).buffer=m.audioBuf,s.playbackRate.value=e.playbackRate,(m.audioBuf._loopStart||m.audioBuf._loopEnd)&&(s.loopStart=m.audioBuf._loopStart,s.loopEnd=m.audioBuf._loopEnd);var u=0;4136===e.type&&e.looping?(u=Number.POSITIVE_INFINITY,s.loop=!0,m.audioBuf._loopStart&&(s.loopStart=m.audioBuf._loopStart),m.audioBuf._loopEnd&&(s.loopEnd=m.audioBuf._loopEnd)):u=(m.audioBuf.duration-i)/e.playbackRate,s._startOffset=i,s._duration=u,s._skipCount=r,r=0,s.connect(e.gain),typeof s.start<"u"?(n=Math.max(n,e.context.audioCtx.currentTime),s.start(n,i)):typeof s.noteOn<"u"&&(n=Math.max(n,e.context.audioCtx.currentTime),s.noteOn(n)),s._startTime=n,e.audioQueue.push(s),n+=u}i=0,c++}}},updateSourceTime:function(e){var t=e.context.audioCtx.currentTime;if(4114!==e.state)return t;isFinite(e.bufStartTime)||(e.bufStartTime=t-e.bufOffset/e.playbackRate,e.bufOffset=0);for(var l=0;e.audioQueue.length;){var n=e.audioQueue[0];if(e.bufsProcessed+=n._skipCount,t<(l=n._startTime+n._duration))break;e.audioQueue.shift(),e.bufStartTime=l,e.bufOffset=0,e.bufsProcessed++}if(e.bufsProcessed>=e.bufQueue.length&&!e.looping)nl.setSourceState(e,4116);else if(4136===e.type&&e.looping){if(0===(m=e.bufQueue[0]).length)e.bufOffset=0;else{var i=(t-e.bufStartTime)*e.playbackRate,c=m.audioBuf._loopStart||0,d=m.audioBuf._loopEnd||m.audioBuf.duration;d<=c&&(d=m.audioBuf.duration),e.bufOffset=i<d?i:c+(i-c)%(d-c)}}else if(e.audioQueue[0])e.bufOffset=(t-e.audioQueue[0]._startTime)*e.playbackRate;else{if(4136!==e.type&&e.looping){var a=nl.sourceDuration(e)/e.playbackRate;a>0&&(e.bufStartTime+=Math.floor((t-e.bufStartTime)/a)*a)}for(var r=0;r<e.bufQueue.length;r++){if(e.bufsProcessed>=e.bufQueue.length){if(!e.looping){nl.setSourceState(e,4116);break}e.bufsProcessed%=e.bufQueue.length}var m;if((m=e.bufQueue[e.bufsProcessed]).length>0){if(t<(l=e.bufStartTime+m.audioBuf.duration/e.playbackRate)){e.bufOffset=(t-e.bufStartTime)*e.playbackRate;break}e.bufStartTime=l}e.bufOffset=0,e.bufsProcessed++}}return t},cancelPendingSourceAudio:function(e){nl.updateSourceTime(e);for(var t=1;t<e.audioQueue.length;t++){e.audioQueue[t].stop()}e.audioQueue.length>1&&(e.audioQueue.length=1)},stopSourceAudio:function(e){for(var t=0;t<e.audioQueue.length;t++)e.audioQueue[t].stop();e.audioQueue.length=0},setSourceState:function(e,t){4114===t?((4114===e.state||4116==e.state)&&(e.bufsProcessed=0,e.bufOffset=0),nl.stopSourceAudio(e),e.state=4114,e.bufStartTime=Number.NEGATIVE_INFINITY,nl.scheduleSourceAudio(e)):4115===t?4114===e.state&&(nl.updateSourceTime(e),nl.stopSourceAudio(e),e.state=4115):4116===t?4113!==e.state&&(e.state=4116,e.bufsProcessed=e.bufQueue.length,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,nl.stopSourceAudio(e)):4113===t&&4113!==e.state&&(e.state=4113,e.bufsProcessed=0,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,nl.stopSourceAudio(e))},initSourcePanner:function(e){if(4144!==e.type){for(var t=nl.buffers[0],l=0;l<e.bufQueue.length;l++)if(0!==e.bufQueue[l].id){t=e.bufQueue[l];break}if(1===e.spatialize||2===e.spatialize&&1===t.channels){if(e.panner)return;e.panner=e.context.audioCtx.createPanner(),nl.updateSourceGlobal(e),nl.updateSourceSpace(e),e.panner.connect(e.context.gain),e.gain.disconnect(),e.gain.connect(e.panner)}else{if(!e.panner)return;e.panner.disconnect(),e.gain.disconnect(),e.gain.connect(e.context.gain),e.panner=null}}},updateContextGlobal:function(e){for(var t in e.sources)nl.updateSourceGlobal(e.sources[t])},updateSourceGlobal:function(e){var t=e.panner;if(t)switch(t.refDistance=e.refDistance,t.maxDistance=e.maxDistance,t.rolloffFactor=e.rolloffFactor,t.panningModel=e.context.hrtf?"HRTF":"equalpower",e.context.sourceDistanceModel?e.distanceModel:e.context.distanceModel){case 0:t.distanceModel="inverse",t.refDistance=340282e33;break;case 53249:case 53250:t.distanceModel="inverse";break;case 53251:case 53252:t.distanceModel="linear";break;case 53253:case 53254:t.distanceModel="exponential"}},updateListenerSpace:function(e){var t=e.audioCtx.listener;for(var l in t.positionX?(t.positionX.value=e.listener.position[0],t.positionY.value=e.listener.position[1],t.positionZ.value=e.listener.position[2]):t.setPosition(e.listener.position[0],e.listener.position[1],e.listener.position[2]),t.forwardX?(t.forwardX.value=e.listener.direction[0],t.forwardY.value=e.listener.direction[1],t.forwardZ.value=e.listener.direction[2],t.upX.value=e.listener.up[0],t.upY.value=e.listener.up[1],t.upZ.value=e.listener.up[2]):t.setOrientation(e.listener.direction[0],e.listener.direction[1],e.listener.direction[2],e.listener.up[0],e.listener.up[1],e.listener.up[2]),e.sources)nl.updateSourceSpace(e.sources[l])},updateSourceSpace:function(e){if(e.panner){var t=e.panner,l=e.position[0],n=e.position[1],i=e.position[2],c=e.direction[0],d=e.direction[1],a=e.direction[2],r=e.context.listener,m=r.position[0],s=r.position[1],u=r.position[2];if(e.relative){var o=-r.direction[0],b=-r.direction[1],Z=-r.direction[2],p=r.up[0],W=r.up[1],h=r.up[2],y=function(e,t,l){var n=Math.sqrt(e*e+t*t+l*l);return n<Number.EPSILON?0:1/n},X=y(o,b,Z);o*=X,b*=X,Z*=X;var V=(W*=X=y(p,W,h))*Z-(h*=X)*b,G=h*o-(p*=X)*Z,Y=p*b-W*o,R=c,I=d,f=a;c=R*(V*=X=y(V,G,Y))+I*(p=b*(Y*=X)-Z*(G*=X))+f*o,d=R*G+I*(W=Z*V-o*Y)+f*b,a=R*Y+I*(h=o*G-b*V)+f*Z,l=(R=l)*V+(I=n)*p+(f=i)*o,n=R*G+I*W+f*b,i=R*Y+I*h+f*Z,l+=m,n+=s,i+=u}t.positionX?(l!=t.positionX.value&&(t.positionX.value=l),n!=t.positionY.value&&(t.positionY.value=n),i!=t.positionZ.value&&(t.positionZ.value=i)):t.setPosition(l,n,i),t.orientationX?(c!=t.orientationX.value&&(t.orientationX.value=c),d!=t.orientationY.value&&(t.orientationY.value=d),a!=t.orientationZ.value&&(t.orientationZ.value=a)):t.setOrientation(c,d,a);var L=e.dopplerShift,S=e.velocity[0],F=e.velocity[1],x=e.velocity[2],N=r.velocity[0],K=r.velocity[1],J=r.velocity[2];if(l===m&&n===s&&i===u||S===N&&F===K&&x===J)e.dopplerShift=1;else{var v=e.context.speedOfSound,g=e.context.dopplerFactor,T=m-l,k=s-n,U=u-i,H=Math.sqrt(T*T+k*k+U*U),C=(T*N+k*K+U*J)/H,M=(T*S+k*F+U*x)/H;C=Math.min(C,v/g),M=Math.min(M,v/g),e.dopplerShift=(v-g*C)/(v-g*M)}e.dopplerShift!==L&&nl.updateSourceRate(e)}},updateSourceRate:function(e){if(4114===e.state){nl.cancelPendingSourceAudio(e);var t,l=e.audioQueue[0];if(!l)return;t=4136===e.type&&e.looping?Number.POSITIVE_INFINITY:(l.buffer.duration-l._startOffset)/e.playbackRate,l._duration=t,l.playbackRate.value=e.playbackRate,nl.scheduleSourceAudio(e)}},sourceDuration:function(e){for(var t=0,l=0;l<e.bufQueue.length;l++){var n=e.bufQueue[l].audioBuf;t+=n?n.duration:0}return t},sourceTell:function(e){nl.updateSourceTime(e);for(var t=0,l=0;l<e.bufsProcessed;l++)e.bufQueue[l].audioBuf&&(t+=e.bufQueue[l].audioBuf.duration);return t+=e.bufOffset},sourceSeek:function(e,t){var l=4114==e.state;if(l&&nl.setSourceState(e,4113),null!==e.bufQueue[e.bufsProcessed].audioBuf){for(e.bufsProcessed=0;t>e.bufQueue[e.bufsProcessed].audioBuf.duration;)t-=e.bufQueue[e.bufsProcessed].audiobuf.duration,e.bufsProcessed++;e.bufOffset=t}l&&nl.setSourceState(e,4114)},getGlobalParam:function(e,t){if(!nl.currentCtx)return null;switch(t){case 49152:return nl.currentCtx.dopplerFactor;case 49155:return nl.currentCtx.speedOfSound;case 53248:return nl.currentCtx.distanceModel;default:return nl.currentCtx.err=40962,null}},setGlobalParam:function(e,t,l){if(nl.currentCtx)switch(t){case 49152:if(!Number.isFinite(l)||l<0)return void(nl.currentCtx.err=40963);nl.currentCtx.dopplerFactor=l,nl.updateListenerSpace(nl.currentCtx);break;case 49155:if(!Number.isFinite(l)||l<=0)return void(nl.currentCtx.err=40963);nl.currentCtx.speedOfSound=l,nl.updateListenerSpace(nl.currentCtx);break;case 53248:switch(l){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:nl.currentCtx.distanceModel=l,nl.updateContextGlobal(nl.currentCtx);break;default:return void(nl.currentCtx.err=40963)}break;default:return void(nl.currentCtx.err=40962)}},getListenerParam:function(e,t){if(!nl.currentCtx)return null;switch(t){case 4100:return nl.currentCtx.listener.position;case 4102:return nl.currentCtx.listener.velocity;case 4111:return nl.currentCtx.listener.direction.concat(nl.currentCtx.listener.up);case 4106:return nl.currentCtx.gain.gain.value;default:return nl.currentCtx.err=40962,null}},setListenerParam:function(e,t,l){if(nl.currentCtx){if(null===l)return void(nl.currentCtx.err=40962);var n=nl.currentCtx.listener;switch(t){case 4100:if(!Number.isFinite(l[0])||!Number.isFinite(l[1])||!Number.isFinite(l[2]))return void(nl.currentCtx.err=40963);n.position[0]=l[0],n.position[1]=l[1],n.position[2]=l[2],nl.updateListenerSpace(nl.currentCtx);break;case 4102:if(!Number.isFinite(l[0])||!Number.isFinite(l[1])||!Number.isFinite(l[2]))return void(nl.currentCtx.err=40963);n.velocity[0]=l[0],n.velocity[1]=l[1],n.velocity[2]=l[2],nl.updateListenerSpace(nl.currentCtx);break;case 4106:if(!Number.isFinite(l)||l<0)return void(nl.currentCtx.err=40963);nl.currentCtx.gain.gain.value=l;break;case 4111:if(!(Number.isFinite(l[0])&&Number.isFinite(l[1])&&Number.isFinite(l[2])&&Number.isFinite(l[3])&&Number.isFinite(l[4])&&Number.isFinite(l[5])))return void(nl.currentCtx.err=40963);n.direction[0]=l[0],n.direction[1]=l[1],n.direction[2]=l[2],n.up[0]=l[3],n.up[1]=l[4],n.up[2]=l[5],nl.updateListenerSpace(nl.currentCtx);break;default:return void(nl.currentCtx.err=40962)}}},getBufferParam:function(e,t,l){if(nl.currentCtx){var n=nl.buffers[t];if(!n||0===t)return void(nl.currentCtx.err=40961);switch(l){case 8193:return n.frequency;case 8194:return 8*n.bytesPerSample;case 8195:return n.channels;case 8196:return n.length*n.bytesPerSample*n.channels;case 8213:return 0===n.length?[0,0]:[(n.audioBuf._loopStart||0)*n.frequency,(n.audioBuf._loopEnd||n.length)*n.frequency];default:return nl.currentCtx.err=40962,null}}},setBufferParam:function(e,t,l,n){if(nl.currentCtx){var i=nl.buffers[t];if(!i||0===t)return void(nl.currentCtx.err=40961);if(null===n)return void(nl.currentCtx.err=40962);switch(l){case 8196:if(0!==n)return void(nl.currentCtx.err=40963);break;case 8213:if(n[0]<0||n[0]>i.length||n[1]<0||n[1]>i.Length||n[0]>=n[1])return void(nl.currentCtx.err=40963);if(i.refCount>0)return void(nl.currentCtx.err=40964);i.audioBuf&&(i.audioBuf._loopStart=n[0]/i.frequency,i.audioBuf._loopEnd=n[1]/i.frequency);break;default:return void(nl.currentCtx.err=40962)}}},getSourceParam:function(e,t,l){if(!nl.currentCtx)return null;var n=nl.currentCtx.sources[t];if(!n)return nl.currentCtx.err=40961,null;switch(l){case 514:return n.relative;case 4097:return n.coneInnerAngle;case 4098:return n.coneOuterAngle;case 4099:return n.pitch;case 4100:return n.position;case 4101:return n.direction;case 4102:return n.velocity;case 4103:return n.looping;case 4105:return 4136===n.type?n.bufQueue[0].id:0;case 4106:return n.gain.gain.value;case 4109:return n.minGain;case 4110:return n.maxGain;case 4112:return n.state;case 4117:return 1===n.bufQueue.length&&0===n.bufQueue[0].id?0:n.bufQueue.length;case 4118:return 1===n.bufQueue.length&&0===n.bufQueue[0].id||n.looping?0:n.bufsProcessed;case 4128:return n.refDistance;case 4129:return n.rolloffFactor;case 4130:return n.coneOuterGain;case 4131:return n.maxDistance;case 4132:return nl.sourceTell(n);case 4133:return(i=nl.sourceTell(n))>0&&(i*=n.bufQueue[0].frequency),i;case 4134:var i;return(i=nl.sourceTell(n))>0&&(i*=n.bufQueue[0].frequency*n.bufQueue[0].bytesPerSample),i;case 4135:return n.type;case 4628:return n.spatialize;case 8201:for(var c=0,d=0,a=0;a<n.bufQueue.length;a++)c+=n.bufQueue[a].length,0!==n.bufQueue[a].id&&(d=n.bufQueue[a].bytesPerSample*n.bufQueue[a].channels);return c*d;case 8202:for(c=0,a=0;a<n.bufQueue.length;a++)c+=n.bufQueue[a].length;return c;case 8203:return nl.sourceDuration(n);case 53248:return n.distanceModel;default:return nl.currentCtx.err=40962,null}},setSourceParam:function(e,t,l,n){if(nl.currentCtx){var i=nl.currentCtx.sources[t];if(!i)return void(nl.currentCtx.err=40961);if(null===n)return void(nl.currentCtx.err=40962);switch(l){case 514:if(1===n)i.relative=!0,nl.updateSourceSpace(i);else{if(0!==n)return void(nl.currentCtx.err=40963);i.relative=!1,nl.updateSourceSpace(i)}break;case 4097:if(!Number.isFinite(n))return void(nl.currentCtx.err=40963);i.coneInnerAngle=n,i.panner&&(i.panner.coneInnerAngle=n%360);break;case 4098:if(!Number.isFinite(n))return void(nl.currentCtx.err=40963);i.coneOuterAngle=n,i.panner&&(i.panner.coneOuterAngle=n%360);break;case 4099:if(!Number.isFinite(n)||n<=0)return void(nl.currentCtx.err=40963);if(i.pitch===n)break;i.pitch=n,nl.updateSourceRate(i);break;case 4100:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(nl.currentCtx.err=40963);i.position[0]=n[0],i.position[1]=n[1],i.position[2]=n[2],nl.updateSourceSpace(i);break;case 4101:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(nl.currentCtx.err=40963);i.direction[0]=n[0],i.direction[1]=n[1],i.direction[2]=n[2],nl.updateSourceSpace(i);break;case 4102:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(nl.currentCtx.err=40963);i.velocity[0]=n[0],i.velocity[1]=n[1],i.velocity[2]=n[2],nl.updateSourceSpace(i);break;case 4103:if(1===n){if(i.looping=!0,nl.updateSourceTime(i),4136===i.type&&i.audioQueue.length>0)(c=i.audioQueue[0]).loop=!0,c._duration=Number.POSITIVE_INFINITY}else{if(0!==n)return void(nl.currentCtx.err=40963);i.looping=!1;var c,d=nl.updateSourceTime(i);4136===i.type&&i.audioQueue.length>0&&((c=i.audioQueue[0]).loop=!1,c._duration=i.bufQueue[0].audioBuf.duration/i.playbackRate,c._startTime=d-i.bufOffset/i.playbackRate)}break;case 4105:if(4114===i.state||4115===i.state)return void(nl.currentCtx.err=40964);if(0===n){for(var a in i.bufQueue)i.bufQueue[a].refCount--;i.bufQueue.length=1,i.bufQueue[0]=nl.buffers[0],i.bufsProcessed=0,i.type=4144}else{if(!(o=nl.buffers[n]))return void(nl.currentCtx.err=40963);for(var a in i.bufQueue)i.bufQueue[a].refCount--;i.bufQueue.length=0,o.refCount++,i.bufQueue=[o],i.bufsProcessed=0,i.type=4136}nl.initSourcePanner(i),nl.scheduleSourceAudio(i);break;case 4106:if(!Number.isFinite(n)||n<0)return void(nl.currentCtx.err=40963);i.gain.gain.value=n;break;case 4109:if(!Number.isFinite(n)||n<0||n>Math.min(i.maxGain,1))return void(nl.currentCtx.err=40963);i.minGain=n;break;case 4110:if(!Number.isFinite(n)||n<Math.max(0,i.minGain)||n>1)return void(nl.currentCtx.err=40963);i.maxGain=n;break;case 4128:if(!Number.isFinite(n)||n<0)return void(nl.currentCtx.err=40963);i.refDistance=n,i.panner&&(i.panner.refDistance=n);break;case 4129:if(!Number.isFinite(n)||n<0)return void(nl.currentCtx.err=40963);i.rolloffFactor=n,i.panner&&(i.panner.rolloffFactor=n);break;case 4130:if(!Number.isFinite(n)||n<0||n>1)return void(nl.currentCtx.err=40963);i.coneOuterGain=n,i.panner&&(i.panner.coneOuterGain=n);break;case 4131:if(!Number.isFinite(n)||n<0)return void(nl.currentCtx.err=40963);i.maxDistance=n,i.panner&&(i.panner.maxDistance=n);break;case 4132:if(n<0||n>nl.sourceDuration(i))return void(nl.currentCtx.err=40963);nl.sourceSeek(i,n);break;case 4133:if((s=nl.sourceDuration(i))>0){var r;for(var m in i.bufQueue)if(m){r=i.bufQueue[m].frequency;break}n/=r}if(n<0||n>s)return void(nl.currentCtx.err=40963);nl.sourceSeek(i,n);break;case 4134:var s;if((s=nl.sourceDuration(i))>0){var u;for(var m in i.bufQueue)if(m){var o;u=(o=i.bufQueue[m]).frequency*o.bytesPerSample*o.channels;break}n/=u}if(n<0||n>s)return void(nl.currentCtx.err=40963);nl.sourceSeek(i,n);break;case 4628:if(0!==n&&1!==n&&2!==n)return void(nl.currentCtx.err=40963);i.spatialize=n,nl.initSourcePanner(i);break;case 8201:case 8202:case 8203:nl.currentCtx.err=40964;break;case 53248:switch(n){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:i.distanceModel=n,nl.currentCtx.sourceDistanceModel&&nl.updateContextGlobal(nl.currentCtx);break;default:return void(nl.currentCtx.err=40963)}break;default:return void(nl.currentCtx.err=40962)}}},captures:{},sharedCaptureAudioCtx:null,requireValidCaptureDevice:function(e,t){if(0===e)return nl.alcErr=40961,null;var l=nl.captures[e];return l?l.mediaStreamError?(nl.alcErr=40961,null):l:(nl.alcErr=40961,null)}};function il(e,t,l){switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4628:case 8201:case 8202:case 53248:nl.setSourceParam("alSourcei",e,t,l);break;default:nl.setSourceParam("alSourcei",e,t,null)}}function cl(e,t){t||(t=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((function(l){t.forEach((function(t){t&&function(e,t,l){e.addEventListener(t,l,{once:!0})}(t,l,(()=>{"suspended"===e.state&&e.resume()}))}))}))}function dl(e){try{return Z.grow(e-y.byteLength+65535>>>16),v(Z.buffer),1}catch{}}var al={};function rl(){if(!rl.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:a||"./this.program"};for(var t in al)void 0===al[t]?delete e[t]:e[t]=al[t];var l=[];for(var t in e)l.push(t+"="+e[t]);rl.strings=l}return rl.strings}function ml(e){for(var t=e.split("."),l=0;l<4;l++){var n=Number(t[l]);if(isNaN(n))return null;t[l]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function sl(e){return parseInt(e)}function ul(e){var t,l,n,i,c=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=sl(t[t.length-4])+256*sl(t[t.length-3]),t[t.length-3]=sl(t[t.length-2])+256*sl(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,i=0,l=0;l<t.length;l++)if("string"==typeof t[l])if("Z"===t[l]){for(i=0;i<8-t.length+1;i++)c[l+i]=0;n=i-1}else c[l+n]=Ml(parseInt(t[l],16));else c[l+n]=t[l];return[c[1]<<16|c[0],c[3]<<16|c[2],c[5]<<16|c[4],c[7]<<16|c[6]]}var ol={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,l=ml(e);if(null!==l||null!==(l=ul(e)))return e;if(ol.address_map.addrs[e])t=ol.address_map.addrs[e];else{var n=ol.address_map.id++;h(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),ol.address_map.names[t]=e,ol.address_map.addrs[e]=t}return t},lookup_addr:function(e){return ol.address_map.names[e]?ol.address_map.names[e]:null}};function bl(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}var Zl={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){Zl.lastError||(Zl.lastError=e)},getNewId:function(e){for(var t=Zl.counter++,l=e.length;l<t;l++)e[l]=null;return t},getSource:function(e,t,l,n){for(var i="",c=0;c<t;++c){var d=n?R[n+4*c>>2]:-1;i+=x(R[l+4*c>>2],d<0?void 0:d)}return i},createContext:function(e,t){if(!e.getContextSafariWebGL2Fixed){let t=function(t,l){var n=e.getContextSafariWebGL2Fixed(t,l);return"webgl"==t==n instanceof WebGLRenderingContext?n:null};e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=t}var l=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t);return l?Zl.registerContext(l,t):0},registerContext:function(e,t){var l=Zl.getNewId(Zl.contexts),n={handle:l,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Zl.contexts[l]=n,(typeof t.enableExtensionsByDefault>"u"||t.enableExtensionsByDefault)&&Zl.initExtensions(n),l},makeContextCurrent:function(e){return Zl.currentContext=Zl.contexts[e],t.ctx=Nl=Zl.currentContext&&Zl.currentContext.GLctx,!(e&&!Nl)},getContext:function(e){return Zl.contexts[e]},deleteContext:function(e){Zl.currentContext===Zl.contexts[e]&&(Zl.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(Zl.contexts[e].GLctx.canvas),Zl.contexts[e]&&Zl.contexts[e].GLctx.canvas&&(Zl.contexts[e].GLctx.canvas.GLctxObject=void 0),Zl.contexts[e]=null},initExtensions:function(e){if(e||(e=Zl.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;(function(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)e.vertexAttribDivisor=function(e,l){t.vertexAttribDivisorANGLE(e,l)},e.drawArraysInstanced=function(e,l,n,i){t.drawArraysInstancedANGLE(e,l,n,i)},e.drawElementsInstanced=function(e,l,n,i,c){t.drawElementsInstancedANGLE(e,l,n,i,c)}})(t),function(e){var t=e.getExtension("OES_vertex_array_object");if(t)e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)e.drawBuffers=function(e,l){t.drawBuffersWEBGL(e,l)}}(t),function(e){e.dibvbi=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance")}(t),function(e){e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}(t),e.version>=2&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!t.disjointTimerQueryExt)&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query")),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(t),(t.getSupportedExtensions()||[]).forEach((function(e){!e.includes("lose_context")&&!e.includes("debug")&&t.getExtension(e)}))}}};var pl=[];function Wl(e,t,l,n){for(var i=0;i<e;i++){var c=Nl[l](),d=c&&Zl.getNewId(n);c?(c.name=d,n[d]=c):Zl.recordError(1282),R[t+4*i>>2]=d}}function hl(e,t,l){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=l&&1!=l&&Zl.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var i=Nl.getParameter(34467);n=i?i.length:0;break;case 33309:if(Zl.currentContext.version<2)return void Zl.recordError(1282);n=2*(Nl.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Zl.currentContext.version<2)return void Zl.recordError(1280);n=33307==e?3:0}if(void 0===n){var c=Nl.getParameter(e);switch(typeof c){case"number":n=c;break;case"boolean":n=c?1:0;break;case"string":return void Zl.recordError(1280);case"object":if(null===c)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void Zl.recordError(1280)}else{if(c instanceof Float32Array||c instanceof Uint32Array||c instanceof Int32Array||c instanceof Array){for(var d=0;d<c.length;++d)switch(l){case 0:R[t+4*d>>2]=c[d];break;case 2:f[t+4*d>>2]=c[d];break;case 4:X[t+d>>0]=c[d]?1:0}return}try{n=0|c.name}catch(t){return Zl.recordError(1280),void u("GL_INVALID_ENUM in glGet"+l+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+t+")")}}break;default:return Zl.recordError(1280),void u("GL_INVALID_ENUM in glGet"+l+"v: Native code calling glGet"+l+"v("+e+") and it returns "+c+" of type "+typeof c+"!")}}switch(l){case 1:!function(e,t){I[e>>2]=t,I[e+4>>2]=(t-I[e>>2])/4294967296}(t,n);break;case 0:R[t>>2]=n;break;case 2:f[t>>2]=n;break;case 4:X[t>>0]=n?1:0}}else Zl.recordError(1281)}function yl(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function Xl(e){return 0==(e-=5120)?X:1==e?V:2==e?G:4==e?R:6==e?f:5==e||28922==e||28520==e||30779==e||30782==e?I:Y}function Vl(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function Gl(e,t,l,n,i,c){var d=Xl(e),a=Vl(d),r=1<<a,m=function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(t)*r,s=function(e,t,l,n){var i;return t*(e*l+(i=n)-1&-i)}(l,n,m,Zl.unpackAlignment);return d.subarray(i>>a,i+s>>a)}function Yl(e){var t=Nl.currentProgram;if(t){var l=t.uniformLocsById[e];return"number"==typeof l&&(t.uniformLocsById[e]=l=Nl.getUniformLocation(t,t.uniformArrayNamesById[e]+(l>0?"["+l+"]":""))),l}Zl.recordError(1282)}var Rl=[];var Il=[31,29,31,30,31,30,31,31,30,31,30,31],fl=[31,28,31,30,31,30,31,31,30,31,30,31];function Ll(e,t,l,n){var i=R[n+40>>2],c={tm_sec:R[n>>2],tm_min:R[n+4>>2],tm_hour:R[n+8>>2],tm_mday:R[n+12>>2],tm_mon:R[n+16>>2],tm_year:R[n+20>>2],tm_wday:R[n+24>>2],tm_yday:R[n+28>>2],tm_isdst:R[n+32>>2],tm_gmtoff:R[n+36>>2],tm_zone:i?x(i):""},d=x(l),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var r in a)d=d.replace(new RegExp(r,"g"),a[r]);var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e,t,l){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=l[0]+n;return n}function o(e,t){return u(e,t,"0")}function b(e,t){function l(e){return e<0?-1:e>0?1:0}var n;return 0===(n=l(e.getFullYear()-t.getFullYear()))&&0===(n=l(e.getMonth()-t.getMonth()))&&(n=l(e.getDate()-t.getDate())),n}function Z(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function p(e){var t=function(e,t){for(var l=new Date(e.getTime());t>0;){var n=jt(l.getFullYear()),i=l.getMonth(),c=(n?Il:fl)[i];if(!(t>c-l.getDate()))return l.setDate(l.getDate()+t),l;t-=c-l.getDate()+1,l.setDate(1),i<11?l.setMonth(i+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1))}return l}(new Date(e.tm_year+1900,0,1),e.tm_yday),l=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=Z(l),c=Z(n);return b(i,t)<=0?b(c,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var W={"%a":function(e){return m[e.tm_wday].substring(0,3)},"%A":function(e){return m[e.tm_wday]},"%b":function(e){return s[e.tm_mon].substring(0,3)},"%B":function(e){return s[e.tm_mon]},"%C":function(e){return o((e.tm_year+1900)/100|0,2)},"%d":function(e){return o(e.tm_mday,2)},"%e":function(e){return u(e.tm_mday,2," ")},"%g":function(e){return p(e).toString().substring(2)},"%G":function(e){return p(e)},"%H":function(e){return o(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),o(t,2)},"%j":function(e){return o(e.tm_mday+function(e,t){for(var l=0,n=0;n<=t;l+=e[n++]);return l}(jt(e.tm_year+1900)?Il:fl,e.tm_mon-1),3)},"%m":function(e){return o(e.tm_mon+1,2)},"%M":function(e){return o(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return o(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return o(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var l=(e.tm_wday+371-e.tm_yday)%7;4!=l&&(3!=l||!jt(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&jt(e.tm_year%400-1))&&t++}return o(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return o(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,l=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(l?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var r in d=d.replace(/%%/g,"\0\0"),W)d.includes(r)&&(d=d.replace(new RegExp(r,"g"),W[r](c)));var h=te(d=d.replace(/\0\0/g,"%"),!1);return h.length>t?0:(function(e,t){X.set(e,t)}(h,e),h.length-1)}var Sl=function(e,t,l,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=de.nextInode++,this.name=t,this.mode=l,this.node_ops={},this.stream_ops={},this.rdev=n},Fl=365,xl=146;Object.defineProperties(Sl.prototype,{read:{get:function(){return(this.mode&Fl)===Fl},set:function(e){e?this.mode|=Fl:this.mode&=~Fl}},write:{get:function(){return(this.mode&xl)===xl},set:function(e){e?this.mode|=xl:this.mode&=~xl}},isFolder:{get:function(){return de.isDir(this.mode)}},isDevice:{get:function(){return de.isChrdev(this.mode)}}}),de.FSNode=Sl,de.staticInit(),t.FS_createPath=de.createPath,t.FS_createDataFile=de.createDataFile,t.FS_createPreloadedFile=de.createPreloadedFile,t.FS_unlink=de.unlink,t.FS_createLazyFile=de.createLazyFile,t.FS_createDevice=de.createDevice,function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ue=e}(),Xe=t.BindingError=ye(Error,"BindingError"),Ge=t.InternalError=ye(Error,"InternalError"),De.prototype.isAliasOf=fe,De.prototype.clone=je,De.prototype.delete=Pe,De.prototype.isDeleted=Be,De.prototype.deleteLater=Qe,t.getInheritedInstanceCount=ve,t.getLiveInheritedInstances=ge,t.flushPendingDeletes=ke,t.setDelayFunction=He,dt.prototype.getPointee=nt,dt.prototype.destructor=it,dt.prototype.argPackAdvance=8,dt.prototype.readValueFromPointer=lt,dt.prototype.deleteObject=ct,dt.prototype.fromWireType=ze,ot=t.UnboundTypeError=ye(Error,"UnboundTypeError"),t.count_emval_handles=Rt,t.get_first_emval=It,t.requestFullscreen=function(e,t){ll.requestFullscreen(e,t)},t.requestAnimationFrame=function(e){ll.requestAnimationFrame(e)},t.setCanvasSize=function(e,t,l){ll.setCanvasSize(e,t,l)},t.pauseMainLoop=function(){ll.mainLoop.pause()},t.resumeMainLoop=function(){ll.mainLoop.resume()},t.getUserMedia=function(){ll.getUserMedia()},t.createContext=function(e,t,l,n){return ll.createContext(e,t,l,n)};for(var Nl,Kl=0;Kl<32;++Kl)pl.push(new Array(Kl));var Jl=new Float32Array(288);for(Kl=0;Kl<288;++Kl)Rl[Kl]=Jl.subarray(0,Kl+1);var vl={__cxa_allocate_exception:function(e){return gl(e+24)+24},__cxa_throw:function(e,t,l){throw new A(e).init(t,l),e},__syscall_chmod:function(e,t){try{return e=ae.getStr(e),de.chmod(e,t),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_fchmod:function(e,t){try{return de.fchmod(e,t),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_fcntl64:function(e,t,l){ae.varargs=l;try{var n=ae.getStreamFromFD(e);switch(t){case 0:return(i=ae.get())<0?-28:de.createStream(n,i).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var i=ae.get();return n.flags|=i,0;case 5:i=ae.get();return G[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return function(e){R[Tl()>>2]=e}(28),-1}}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_fstat64:function(e,t){try{var l=ae.getStreamFromFD(e);return ae.doStat(de.stat,l.path,t)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_ftruncate64:function(e,t,l){try{var n=re(t,l);return isNaN(n)?-61:(de.ftruncate(e,n),0)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_getcwd:function(e,t){try{if(0===t)return-28;var l=de.cwd(),n=J(l)+1;return t<n?-68:(K(l,e,t),n)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_getdents64:function(e,t,l){try{var n=ae.getStreamFromFD(e);n.getdents||(n.getdents=de.readdir(n.path));for(var i=280,c=0,d=de.llseek(n,0,1),a=Math.floor(d/i);a<n.getdents.length&&c+i<=l;){var r,m,s=n.getdents[a];if("."===s)r=n.node.id,m=4;else if(".."===s){r=de.lookupPath(n.path,{parent:!0}).node.id,m=4}else{var u=de.lookupNode(n.node,s);r=u.id,m=de.isChrdev(u.mode)?2:de.isDir(u.mode)?4:de.isLink(u.mode)?10:8}B=[r>>>0,(P=r,+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[t+c>>2]=B[0],R[t+c+4>>2]=B[1],B=[(a+1)*i>>>0,(P=(a+1)*i,+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[t+c+8>>2]=B[0],R[t+c+12>>2]=B[1],G[t+c+16>>1]=280,X[t+c+18>>0]=m,K(s,t+c+19,256),c+=i,a+=1}return de.llseek(n,a*i,0),c}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_ioctl:function(e,t,l){ae.varargs=l;try{var n=ae.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var i=ae.get();return R[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:i=ae.get();return de.ioctl(n,t,i);default:return-28}}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_lstat64:function(e,t){try{return e=ae.getStr(e),ae.doStat(de.lstat,e,t)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_mkdirat:function(e,t,l){try{return t=ae.getStr(t),t=ae.calculateAt(e,t),"/"===(t=q.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),de.mkdir(t,l,0),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_newfstatat:function(e,t,l,n){try{t=ae.getStr(t);var i=256&n,c=4096&n;return n&=-4353,t=ae.calculateAt(e,t,c),ae.doStat(i?de.lstat:de.stat,t,l)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_openat:function(e,t,l,n){ae.varargs=n;try{t=ae.getStr(t),t=ae.calculateAt(e,t);var i=n?ae.get():0;return de.open(t,l,i).fd}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_readlinkat:function(e,t,l,n){try{if(t=ae.getStr(t),t=ae.calculateAt(e,t),n<=0)return-28;var i=de.readlink(t),c=Math.min(n,J(i)),d=X[l+c];return K(i,l,n+1),X[l+c]=d,c}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_renameat:function(e,t,l,n){try{return t=ae.getStr(t),n=ae.getStr(n),t=ae.calculateAt(e,t),n=ae.calculateAt(l,n),de.rename(t,n),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_stat64:function(e,t){try{return e=ae.getStr(e),ae.doStat(de.stat,e,t)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_symlink:function(e,t){try{return e=ae.getStr(e),t=ae.getStr(t),de.symlink(e,t),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},__syscall_unlinkat:function(e,t,l){try{return t=ae.getStr(t),t=ae.calculateAt(e,t),0===l?de.unlink(t):512===l?de.rmdir(t):z("Invalid flags passed to unlinkat"),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},_dlinit:function(e){},_dlopen_js:function(e,t){z(me)},_dlsym_js:function(e,t){z(me)},_embind_register_bigint:function(e,t,l,n,i){},_embind_register_bool:function(e,t,l,n,i){var c=se(l);Ie(e,{name:t=oe(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===l)n=X;else if(2===l)n=G;else{if(4!==l)throw new TypeError("Unknown boolean type size: "+t);n=R}return this.fromWireType(n[e>>c])},destructorFunction:null})},_embind_register_class:function(e,t,l,n,i,c,d,a,r,m,s,u,o){s=oe(s),c=ut(i,c),a&&(a=ut(d,a)),m&&(m=ut(r,m)),o=ut(u,o);var b=We(s);_e(b,(function(){Zt("Cannot construct "+s+" due to unbound types",[n])})),Re([e,t,l],n?[n]:[],(function(t){var l,i;t=t[0],n?i=(l=t.registeredClass).instancePrototype:i=De.prototype;var d=he(b,(function(){if(Object.getPrototypeOf(this)!==r)throw new Xe("Use 'new' to construct "+s);if(void 0===u.constructor_body)throw new Xe(s+" has no accessible constructor");var e=u.constructor_body[arguments.length];if(void 0===e)throw new Xe("Tried to invoke ctor of "+s+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(u.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),r=Object.create(i,{constructor:{value:d}});d.prototype=r;var u=new Ae(s,d,r,o,l,c,a,m),Z=new dt(s,u,!0,!1,!1),p=new dt(s+"*",u,!1,!1,!1),W=new dt(s+" const*",u,!1,!0,!1);return Je[e]={pointerType:p,constPointerType:W},at(b,d),[Z,p,W]}))},_embind_register_class_class_function:function(e,t,l,n,i,c,d){var a=yt(l,n);t=oe(t),c=ut(i,c),Re([],[e],(function(e){var n=(e=e[0]).name+"."+t;function i(){Zt("Cannot call "+n+" due to unbound types",a)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var r=e.registeredClass.constructor;return void 0===r[t]?(i.argCount=l-1,r[t]=i):(Oe(r,t,n),r[t].overloadTable[l-1]=i),Re([],a,(function(e){var i=[e[0],null].concat(e.slice(1)),a=ht(n,i,null,c,d);return void 0===r[t].overloadTable?(a.argCount=l-1,r[t]=a):r[t].overloadTable[l-1]=a,[]})),[]}))},_embind_register_class_constructor:function(e,t,l,n,i,c){h(t>0);var d=yt(t,l);i=ut(n,i),Re([],[e],(function(e){var l="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Xe("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=()=>{Zt("Cannot construct "+e.name+" due to unbound types",d)},Re([],d,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=ht(l,n,null,i,c),[]})),[]}))},_embind_register_class_function:function(e,t,l,n,i,c,d,a){var r=yt(l,n);t=oe(t),c=ut(i,c),Re([],[e],(function(e){var n=(e=e[0]).name+"."+t;function i(){Zt("Cannot call "+n+" due to unbound types",r)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),a&&e.registeredClass.pureVirtualFunctions.push(t);var m=e.registeredClass.instancePrototype,s=m[t];return void 0===s||void 0===s.overloadTable&&s.className!==e.name&&s.argCount===l-2?(i.argCount=l-2,i.className=e.name,m[t]=i):(Oe(m,t,n),m[t].overloadTable[l-2]=i),Re([],r,(function(i){var a=ht(n,i,e,c,d);return void 0===m[t].overloadTable?(a.argCount=l-2,m[t]=a):m[t].overloadTable[l-2]=a,[]})),[]}))},_embind_register_class_property:function(e,t,l,n,i,c,d,a,r,m){t=oe(t),i=ut(n,i),Re([],[e],(function(e){var n=(e=e[0]).name+"."+t,s={get:function(){Zt("Cannot access "+n+" due to unbound types",[l,d])},enumerable:!0,configurable:!0};return s.set=r?()=>{Zt("Cannot access "+n+" due to unbound types",[l,d])}:e=>{Ve(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,s),Re([],r?[l,d]:[l],(function(l){var d=l[0],s={get:function(){var t=Xt(this,e,n+" getter");return d.fromWireType(i(c,t))},enumerable:!0};if(r){r=ut(a,r);var u=l[1];s.set=function(t){var l=Xt(this,e,n+" setter"),i=[];r(m,l,u.toWireType(i,t)),Wt(i)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,s),[]})),[]}))},_embind_register_emval:function(e,t){Ie(e,{name:t=oe(t),fromWireType:function(e){var t=ft.toValue(e);return Yt(e),t},toWireType:function(e,t){return ft.toHandle(t)},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:null})},_embind_register_enum:function(e,t,l,n){var i=se(l);function c(){}t=oe(t),c.values={},Ie(e,{name:t,constructor:c,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:Lt(t,i,n),destructorFunction:null}),_e(t,c)},_embind_register_enum_value:function(e,t,l){var n=St(e,"enum");t=oe(t);var i=n.constructor,c=Object.create(n.constructor.prototype,{value:{value:l},constructor:{value:he(n.name+"_"+t,(function(){}))}});i.values[l]=c,i[t]=c},_embind_register_float:function(e,t,l){var n=se(l);Ie(e,{name:t=oe(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:xt(t,n),destructorFunction:null})},_embind_register_function:function(e,t,l,n,i,c){var d=yt(t,l);e=oe(e),i=ut(n,i),_e(e,(function(){Zt("Cannot call "+e+" due to unbound types",d)}),t-1),Re([],d,(function(l){var n=[l[0],null].concat(l.slice(1));return at(e,ht(e,n,null,i,c),t-1),[]}))},_embind_register_integer:function(e,t,l,n,i){t=oe(t);var c=se(l),d=e=>e;if(0===n){var a=32-8*l;d=e=>e<<a>>>a}var r=t.includes("unsigned");Ie(e,{name:t,fromWireType:d,toWireType:r?function(e,t){return t>>>0}:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Nt(t,c,0!==n),destructorFunction:null})},_embind_register_memory_view:function(e,t,l){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=I,l=t[e>>=2],i=t[e+1];return new n(y,i,l)}Ie(e,{name:l=oe(l),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_smart_ptr:function(e,t,l,n,i,c,d,a,r,m,s,u){l=oe(l),c=ut(i,c),a=ut(d,a),m=ut(r,m),u=ut(s,u),Re([e],[t],(function(e){return e=e[0],[new dt(l,e.registeredClass,!1,!1,!0,e,n,c,a,m,u)]}))},_embind_register_std_string:function(e,t){var l="std::string"===(t=oe(t));Ie(e,{name:t,fromWireType:function(e){var t,n=I[e>>2],i=e+4;if(l)for(var c=i,d=0;d<=n;++d){var a=i+d;if(d==n||0==V[a]){var r=x(c,a-c);void 0===t?t=r:(t+=String.fromCharCode(0),t+=r),c=a+1}}else{var m=new Array(n);for(d=0;d<n;++d)m[d]=String.fromCharCode(V[i+d]);t=m.join("")}return kl(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ve("Cannot pass non-string to std::string"),n=l&&i?J(t):t.length;var c=gl(4+n+1),d=c+4;if(I[c>>2]=n,l&&i)K(t,d,n+1);else if(i)for(var a=0;a<n;++a){var r=t.charCodeAt(a);r>255&&(kl(d),Ve("String has UTF-16 code units that do not fit in 8 bits")),V[d+a]=r}else for(a=0;a<n;++a)V[d+a]=t[a];return null!==e&&e.push(kl,c),c},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:function(e){kl(e)}})},_embind_register_std_wstring:function(e,t,l){var n,i,c,d,a;l=oe(l),2===t?(n=Jt,i=vt,d=gt,c=()=>Y,a=1):4===t&&(n=Tt,i=kt,d=Ut,c=()=>I,a=2),Ie(e,{name:l,fromWireType:function(e){for(var l,i=I[e>>2],d=c(),r=e+4,m=0;m<=i;++m){var s=e+4+m*t;if(m==i||0==d[s>>a]){var u=n(r,s-r);void 0===l?l=u:(l+=String.fromCharCode(0),l+=u),r=s+t}}return kl(e),l},toWireType:function(e,n){"string"!=typeof n&&Ve("Cannot pass non-string to C++ string type "+l);var c=d(n),r=gl(4+c+t);return I[r>>2]=c>>a,i(n,r+4,c+t),null!==e&&e.push(kl,r),r},argPackAdvance:8,readValueFromPointer:lt,destructorFunction:function(e){kl(e)}})},_embind_register_void:function(e,t){Ie(e,{isVoid:!0,name:t=oe(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_get_now_is_monotonic:function(){return true},_emval_as:function(e,t,l){e=ft.toValue(e),t=St(t,"emval::as");var n=[],i=ft.toHandle(n);return I[l>>2]=i,t.toWireType(n,e)},_emval_call:function(e,t,l,n){e=ft.toValue(e);for(var i=Ht(t,l),c=new Array(t),d=0;d<t;++d){var a=i[d];c[d]=a.readValueFromPointer(n),n+=a.argPackAdvance}var r=e.apply(void 0,c);return ft.toHandle(r)},_emval_call_void_method:function(e,t,l,n){(e=wt[e])(t=ft.toValue(t),l=Mt(l),null,n)},_emval_decref:Yt,_emval_get_method_caller:function(e,t){var l=Ht(e,t),n=l[0],i=n.name+"_$"+l.slice(1).map((function(e){return e.name})).join("_")+"$",c=zt[i];if(void 0!==c)return c;for(var d=["retType"],a=[n],r="",m=0;m<e-1;++m)r+=(0!==m?", ":"")+"arg"+m,d.push("argType"+m),a.push(l[1+m]);var s="return function "+We("methodCaller_"+i)+"(handle, name, destructors, args) {\n",u=0;for(m=0;m<e-1;++m)s+="    var arg"+m+" = argType"+m+".readValueFromPointer(args"+(u?"+"+u:"")+");\n",u+=l[m+1].argPackAdvance;for(s+="    var rv = handle[name]("+r+");\n",m=0;m<e-1;++m)l[m+1].deleteObject&&(s+="    argType"+m+".deleteObject(arg"+m+");\n");return n.isVoid||(s+="    return retType.toWireType(destructors, rv);\n"),s+="};\n",d.push(s),c=function(e){var t=wt.length;return wt.push(e),t}(pt(Function,d).apply(null,a)),zt[i]=c,c},_emval_get_module_property:function(e){return e=Mt(e),ft.toHandle(t[e])},_emval_get_property:function(e,t){return e=ft.toValue(e),t=ft.toValue(t),ft.toHandle(e[t])},_emval_incref:function(e){e>4&&(Gt[e].refcount+=1)},_emval_is_number:function(e){return"number"==typeof(e=ft.toValue(e))},_emval_new_cstring:function(e){return ft.toHandle(Mt(e))},_emval_run_destructors:function(e){Wt(ft.toValue(e)),Yt(e)},_emval_set_property:function(e,t,l){e=ft.toValue(e),t=ft.toValue(t),l=ft.toValue(l),e[t]=l},_emval_take_value:function(e,t){var l=(e=St(e,"_emval_take_value")).readValueFromPointer(t);return ft.toHandle(l)},_gmtime_js:function(e,t){var l=new Date(1e3*Et(e));R[t>>2]=l.getUTCSeconds(),R[t+4>>2]=l.getUTCMinutes(),R[t+8>>2]=l.getUTCHours(),R[t+12>>2]=l.getUTCDate(),R[t+16>>2]=l.getUTCMonth(),R[t+20>>2]=l.getUTCFullYear()-1900,R[t+24>>2]=l.getUTCDay();var n=Date.UTC(l.getUTCFullYear(),0,1,0,0,0,0),i=(l.getTime()-n)/864e5|0;R[t+28>>2]=i},_localtime_js:function(e,t){var l=new Date(1e3*Et(e));R[t>>2]=l.getSeconds(),R[t+4>>2]=l.getMinutes(),R[t+8>>2]=l.getHours(),R[t+12>>2]=l.getDate(),R[t+16>>2]=l.getMonth(),R[t+20>>2]=l.getFullYear()-1900,R[t+24>>2]=l.getDay();var n=0|Dt(l);R[t+28>>2]=n,R[t+36>>2]=-60*l.getTimezoneOffset();var i=new Date(l.getFullYear(),0,1),c=new Date(l.getFullYear(),6,1).getTimezoneOffset(),d=i.getTimezoneOffset(),a=0|(c!=d&&l.getTimezoneOffset()==Math.min(d,c));R[t+32>>2]=a},_mktime_js:function(e){var t=new Date(R[e+20>>2]+1900,R[e+16>>2],R[e+12>>2],R[e+8>>2],R[e+4>>2],R[e>>2],0),l=R[e+32>>2],n=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),c=new Date(t.getFullYear(),6,1).getTimezoneOffset(),d=i.getTimezoneOffset(),a=Math.min(d,c);if(l<0)R[e+32>>2]=Number(c!=d&&a==n);else if(l>0!=(a==n)){var r=Math.max(d,c),m=l>0?a:r;t.setTime(t.getTime()+6e4*(m-n))}R[e+24>>2]=t.getDay();var s=0|Dt(t);return R[e+28>>2]=s,R[e>>2]=t.getSeconds(),R[e+4>>2]=t.getMinutes(),R[e+8>>2]=t.getHours(),R[e+12>>2]=t.getDate(),R[e+16>>2]=t.getMonth(),R[e+20>>2]=t.getYear(),t.getTime()/1e3|0},_mmap_js:function(e,t,l,n,i,c,d){try{var a=ae.getStreamFromFD(n),r=de.mmap(a,e,i,t,l),m=r.ptr;return R[c>>2]=r.allocated,I[d>>2]=m,0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},_munmap_js:function(e,t,l,n,i,c){try{var d=ae.getStreamFromFD(i);2&l&&ae.doMsync(e,d,t,n,c),de.munmap(d)}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return-e.errno}},_tzset_js:function(e,t,l){var n=(new Date).getFullYear(),i=new Date(n,0,1),c=new Date(n,6,1),d=i.getTimezoneOffset(),a=c.getTimezoneOffset(),r=Math.max(d,a);function m(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}I[e>>2]=60*r,R[t>>2]=Number(d!=a);var s=m(i),u=m(c),o=Ot(s),b=Ot(u);a<d?(I[l>>2]=o,I[l+4>>2]=b):(I[l>>2]=b,I[l+4>>2]=o)},abort:function(){z("")},alBufferData:function(e,t,l,n,i){if(nl.currentCtx){var c=nl.buffers[e];if(!c)return void(nl.currentCtx.err=40963);if(i<=0)return void(nl.currentCtx.err=40963);var d=null;try{switch(t){case 4352:if(n>0)for(var a=(d=nl.currentCtx.audioCtx.createBuffer(1,n,i)).getChannelData(0),r=0;r<n;++r)a[r]=.0078125*V[l++]-1;c.bytesPerSample=1,c.channels=1,c.length=n;break;case 4353:if(n>0){a=(d=nl.currentCtx.audioCtx.createBuffer(1,n>>1,i)).getChannelData(0);l>>=1;for(r=0;r<n>>1;++r)a[r]=30517578125e-15*G[l++]}c.bytesPerSample=2,c.channels=1,c.length=n>>1;break;case 4354:if(n>0){a=(d=nl.currentCtx.audioCtx.createBuffer(2,n>>1,i)).getChannelData(0);var m=d.getChannelData(1);for(r=0;r<n>>1;++r)a[r]=.0078125*V[l++]-1,m[r]=.0078125*V[l++]-1}c.bytesPerSample=1,c.channels=2,c.length=n>>1;break;case 4355:if(n>0){a=(d=nl.currentCtx.audioCtx.createBuffer(2,n>>2,i)).getChannelData(0),m=d.getChannelData(1);l>>=1;for(r=0;r<n>>2;++r)a[r]=30517578125e-15*G[l++],m[r]=30517578125e-15*G[l++]}c.bytesPerSample=2,c.channels=2,c.length=n>>2;break;case 65552:if(n>0){a=(d=nl.currentCtx.audioCtx.createBuffer(1,n>>2,i)).getChannelData(0);l>>=2;for(r=0;r<n>>2;++r)a[r]=f[l++]}c.bytesPerSample=4,c.channels=1,c.length=n>>2;break;case 65553:if(n>0){a=(d=nl.currentCtx.audioCtx.createBuffer(2,n>>3,i)).getChannelData(0),m=d.getChannelData(1);l>>=2;for(r=0;r<n>>3;++r)a[r]=f[l++],m[r]=f[l++]}c.bytesPerSample=4,c.channels=2,c.length=n>>3;break;default:return void(nl.currentCtx.err=40963)}c.frequency=i,c.audioBuf=d}catch{return void(nl.currentCtx.err=40963)}}},alDeleteBuffers:function(e,t){if(nl.currentCtx){for(var l=0;l<e;++l){if(0!==(n=R[t+4*l>>2])){if(!nl.buffers[n])return void(nl.currentCtx.err=40961);if(nl.buffers[n].refCount)return void(nl.currentCtx.err=40964)}}for(l=0;l<e;++l){var n;0!==(n=R[t+4*l>>2])&&(nl.deviceRefCounts[nl.buffers[n].deviceId]--,delete nl.buffers[n],nl.freeIds.push(n))}}},alDeleteSources:function(e,t){if(nl.currentCtx){for(var l=0;l<e;++l){var n=R[t+4*l>>2];if(!nl.currentCtx.sources[n])return void(nl.currentCtx.err=40961)}for(l=0;l<e;++l){n=R[t+4*l>>2];nl.setSourceState(nl.currentCtx.sources[n],4116),il(n,4105,0),delete nl.currentCtx.sources[n],nl.freeIds.push(n)}}},alGenBuffers:function(e,t){if(nl.currentCtx)for(var l=0;l<e;++l){var n={deviceId:nl.currentCtx.deviceId,id:nl.newId(),refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0};nl.deviceRefCounts[n.deviceId]++,nl.buffers[n.id]=n,R[t+4*l>>2]=n.id}},alGenSources:function(e,t){if(nl.currentCtx)for(var l=0;l<e;++l){var n=nl.currentCtx.audioCtx.createGain();n.connect(nl.currentCtx.gain);var i={context:nl.currentCtx,id:nl.newId(),type:4144,state:4113,bufQueue:[nl.buffers[0]],audioQueue:[],looping:!1,pitch:1,dopplerShift:1,gain:n,minGain:0,maxGain:1,panner:null,bufsProcessed:0,bufStartTime:Number.NEGATIVE_INFINITY,bufOffset:0,relative:!1,refDistance:1,maxDistance:340282e33,rolloffFactor:1,position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],coneOuterGain:0,coneInnerAngle:360,coneOuterAngle:360,distanceModel:53250,spatialize:2,get playbackRate(){return this.pitch*this.dopplerShift}};nl.currentCtx.sources[i.id]=i,R[t+4*l>>2]=i.id}},alGetError:function(){if(!nl.currentCtx)return 40964;var e=nl.currentCtx.err;return nl.currentCtx.err=0,e},alGetSourcei:function(e,t,l){var n=nl.getSourceParam("alGetSourcei",e,t);if(null!==n){if(!l)return void(nl.currentCtx.err=40963);switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4112:case 4117:case 4118:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4135:case 4628:case 8201:case 8202:case 53248:R[l>>2]=n;break;default:return void(nl.currentCtx.err=40962)}}},alGetString:function(e){if(nl.stringCache[e])return nl.stringCache[e];var t;switch(e){case 0:t="No Error";break;case 40961:t="Invalid Name";break;case 40962:t="Invalid Enum";break;case 40963:t="Invalid Value";break;case 40964:t="Invalid Operation";break;case 40965:t="Out of Memory";break;case 45057:t="Emscripten";break;case 45058:t="1.1";break;case 45059:t="WebAudio";break;case 45060:for(var l in t="",nl.AL_EXTENSIONS)t=(t=t.concat(l)).concat(" ");t=t.trim();break;default:return nl.currentCtx&&(nl.currentCtx.err=40962),0}return t=Ot(t),nl.stringCache[e]=t,t},alSourcePause:function(e){if(nl.currentCtx){var t=nl.currentCtx.sources[e];if(!t)return void(nl.currentCtx.err=40961);nl.setSourceState(t,4115)}},alSourcePlay:function(e){if(nl.currentCtx){var t=nl.currentCtx.sources[e];if(!t)return void(nl.currentCtx.err=40961);nl.setSourceState(t,4114)}},alSourceStop:function(e){if(nl.currentCtx){var t=nl.currentCtx.sources[e];if(!t)return void(nl.currentCtx.err=40961);nl.setSourceState(t,4116)}},alSourcef:function(e,t,l){switch(t){case 4097:case 4098:case 4099:case 4106:case 4109:case 4110:case 4128:case 4129:case 4130:case 4131:case 4132:case 4133:case 4134:case 8203:nl.setSourceParam("alSourcef",e,t,l);break;default:nl.setSourceParam("alSourcef",e,t,null)}},alSourcei:il,alcCloseDevice:function(e){return!(e in nl.deviceRefCounts)||nl.deviceRefCounts[e]>0?0:(delete nl.deviceRefCounts[e],nl.freeIds.push(e),1)},alcCreateContext:function(e,t){if(!(e in nl.deviceRefCounts))return nl.alcErr=40961,0;var l=null,n=[],i=null;if(t>>=2)for(var c=0,d=0;c=R[t++],n.push(c),0!==c;)switch(d=R[t++],n.push(d),c){case 4103:l||(l={}),l.sampleRate=d;break;case 4112:case 4113:break;case 6546:switch(d){case 0:i=!1;break;case 1:i=!0;break;case 2:break;default:return nl.alcErr=40964,0}break;case 6550:if(0!==d)return nl.alcErr=40964,0;break;default:return nl.alcErr=40964,0}var a=window.AudioContext||window.webkitAudioContext,r=null;try{r=l?new a(l):new a}catch(e){return"NotSupportedError"===e.name?nl.alcErr=40964:nl.alcErr=40961,0}cl(r),typeof r.createGain>"u"&&(r.createGain=r.createGainNode);var m=r.createGain();m.connect(r.destination);var s={deviceId:e,id:nl.newId(),attrs:n,audioCtx:r,listener:{position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],up:[0,0,0]},sources:[],interval:setInterval((function(){nl.scheduleContextAudio(s)}),nl.QUEUE_INTERVAL),gain:m,distanceModel:53250,speedOfSound:343.3,dopplerFactor:1,sourceDistanceModel:!1,hrtf:i||!1,_err:0,get err(){return this._err},set err(e){(0===this._err||0===e)&&(this._err=e)}};if(nl.deviceRefCounts[e]++,nl.contexts[s.id]=s,null!==i)for(var u in nl.contexts){var o=nl.contexts[u];o.deviceId===e&&(o.hrtf=i,nl.updateContextGlobal(o))}return s.id},alcDestroyContext:function(e){var t=nl.contexts[e];nl.currentCtx!==t?(nl.contexts[e].interval&&clearInterval(nl.contexts[e].interval),nl.deviceRefCounts[t.deviceId]--,delete nl.contexts[e],nl.freeIds.push(e)):nl.alcErr=40962},alcGetError:function(e){var t=nl.alcErr;return nl.alcErr=0,t},alcGetString:function(e,t){if(nl.alcStringCache[t])return nl.alcStringCache[t];var l;switch(t){case 0:l="No Error";break;case 40961:l="Invalid Device";break;case 40962:l="Invalid Context";break;case 40963:l="Invalid Enum";break;case 40964:l="Invalid Value";break;case 40965:l="Out of Memory";break;case 4100:if(!(typeof AudioContext<"u"||typeof webkitAudioContext<"u"))return 0;l=nl.DEVICE_NAME;break;case 4101:l=typeof AudioContext<"u"||typeof webkitAudioContext<"u"?nl.DEVICE_NAME.concat("\0"):"\0";break;case 785:l=nl.CAPTURE_DEVICE_NAME;break;case 784:if(0===e)l=nl.CAPTURE_DEVICE_NAME.concat("\0");else{var n=nl.requireValidCaptureDevice(e,"alcGetString");if(!n)return 0;l=n.deviceName}break;case 4102:if(!e)return nl.alcErr=40961,0;for(var i in l="",nl.ALC_EXTENSIONS)l=(l=l.concat(i)).concat(" ");l=l.trim();break;default:return nl.alcErr=40963,0}return l=Ot(l),nl.alcStringCache[t]=l,l},alcMakeContextCurrent:function(e){return nl.currentCtx=0===e?null:nl.contexts[e],1},alcOpenDevice:function(e){if(e&&x(e)!==nl.DEVICE_NAME)return 0;if(typeof AudioContext<"u"||typeof webkitAudioContext<"u"){var t=nl.newId();return nl.deviceRefCounts[t]=0,t}return 0},create_video:function(e){const l=x(e),n=de.readFile(l),i=document.createElement("video"),c=URL.createObjectURL(new Blob([n],{type:"video/mp4"})),d=t.proxyVideoRequestsTo;return i.muted=!0,i.autoplay=!1,i.controls=!1,i.playsInline=!0,i.src=d?d+encodeURIComponent(c):c,ft.toHandle(i)},delete_video:function(e){const t=ft.toValue(e);URL.revokeObjectURL(t.src),t.src=""},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 2147483648},emscripten_get_now:Pt,emscripten_memcpy_big:function(e,t,l){V.copyWithin(e,t,t+l)},emscripten_resize_heap:function(e){var t,l,n=V.length,i=2147483648;if((e>>>=0)>i)return!1;for(var c=1;c<=4;c*=2){var d=n*(1+.2/c);if(d=Math.min(d,e+100663296),dl(Math.min(i,(t=Math.max(e,d))+((l=65536)-t%l)%l)))return!0}return!1},environ_get:function(e,t){var l=0;return rl().forEach((function(n,i){var c=t+l;I[e+4*i>>2]=c,function(e,t,l){for(var n=0;n<e.length;++n)X[t++>>0]=e.charCodeAt(n);l||(X[t>>0]=0)}(n,c),l+=n.length+1})),0},environ_sizes_get:function(e,t){var l=rl();I[e>>2]=l.length;var n=0;return l.forEach((function(e){n+=e.length+1})),I[t>>2]=n,0},exit:qt,fd_close:function(e){try{var t=ae.getStreamFromFD(e);return de.close(t),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},fd_fdstat_get:function(e,t){try{var l=ae.getStreamFromFD(e),n=l.tty?2:de.isDir(l.mode)?3:de.isLink(l.mode)?7:4;return X[t>>0]=n,0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},fd_read:function(e,t,l,n){try{var i=function(e,t,l,n){for(var i=0,c=0;c<l;c++){var d=I[t>>2],a=I[t+4>>2];t+=8;var r=de.read(e,X,d,a,n);if(r<0)return-1;if(i+=r,r<a)break}return i}(ae.getStreamFromFD(e),t,l);return I[n>>2]=i,0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},fd_seek:function(e,t,l,n,i){try{var c=re(t,l);if(isNaN(c))return 61;var d=ae.getStreamFromFD(e);return de.llseek(d,c,n),B=[d.position>>>0,(P=d.position,+Math.abs(P)>=1?P>0?(0|Math.min(+Math.floor(P/4294967296),4294967295))>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],R[i>>2]=B[0],R[i+4>>2]=B[1],d.getdents&&0===c&&0===n&&(d.getdents=null),0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},fd_sync:function(e){try{var t=ae.getStreamFromFD(e);return t.stream_ops&&t.stream_ops.fsync?t.stream_ops.fsync(t):0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},fd_write:function(e,t,l,n){try{var i=function(e,t,l,n){for(var i=0,c=0;c<l;c++){var d=I[t>>2],a=I[t+4>>2];t+=8;var r=de.write(e,X,d,a,n);if(r<0)return-1;i+=r}return i}(ae.getStreamFromFD(e),t,l);return I[n>>2]=i,0}catch(e){if(typeof de>"u"||!(e instanceof de.ErrnoError))throw e;return e.errno}},get_camera_texture:function(){return t.useCamTexture&&t.texture?(t.camTextureId||(t.camTextureId=Zl.getNewId(Zl.textures),t.texture.name=t.camTextureId,Zl.textures[t.camTextureId]=t.texture),t.camTextureId):0},get_current_hostname:function(){var e=[self.location.href].concat(Array.from("ancestorOrigins"in self.location?self.location.ancestorOrigins:function(){var e=self.top,t=self.parent,l=[];do{try{l.push(t.location.href)}catch{}t=t.parent}while(t!==e);return l}())).map((function(e){return new URL(e.replace(/^blob:/,"")).hostname})).find((function(e){return Boolean(e)})),t=J(e)+1,l=gl(t);return K(e,l,t),l},getaddrinfo:function(e,t,l,n){var i,c=0,d=0,a=0,r=0,m=0,s=0;function u(e,t,l,n,i,c){var d,a,r,m;return a=10===e?28:16,i=10===e?function(e){var t="",l=0,n=0,i=0,c=0,d=0,a=0,r=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],m=!0,s="";for(a=0;a<5;a++)if(0!==r[a]){m=!1;break}if(m){if(s=bl(r[6]|r[7]<<16),-1===r[5])return(t="::ffff:")+s;if(0===r[5])return"0.0.0.0"===s&&(s=""),"0.0.0.1"===s&&(s="1"),(t="::")+s}for(l=0;l<8;l++)0===r[l]&&(l-i>1&&(d=0),i=l,d++),d>n&&(c=l-(n=d)+1);for(l=0;l<8;l++)n>1&&0===r[l]&&l>=c&&l<c+n?l===c&&(t+=":",0===c&&(t+=":")):(t+=Number(zl(65535&r[l])).toString(16),t+=l<7?":":"");return t}(i):bl(i),m=function(e,t,l,n,i){switch(t){case 2:l=ml(l),ne(e,16),i&&(R[i>>2]=16),G[e>>1]=t,R[e+4>>2]=l,G[e+2>>1]=Ml(n);break;case 10:l=ul(l),ne(e,28),i&&(R[i>>2]=28),R[e>>2]=t,R[e+8>>2]=l[0],R[e+12>>2]=l[1],R[e+16>>2]=l[2],R[e+20>>2]=l[3],G[e+2>>1]=Ml(n);break;default:return 5}return 0}(d=gl(a),e,i,c),h(!m),r=gl(32),R[r+4>>2]=e,R[r+8>>2]=t,R[r+12>>2]=l,R[r+24>>2]=n,I[r+20>>2]=d,R[r+16>>2]=10===e?28:16,R[r+28>>2]=0,r}if(l&&(a=R[l>>2],r=R[l+4>>2],m=R[l+8>>2],s=R[l+12>>2]),m&&!s&&(s=2===m?17:6),!m&&s&&(m=17===s?2:1),0===s&&(s=6),0===m&&(m=1),!e&&!t)return-2;if(-1088&a||0!==l&&2&R[l>>2]&&!e)return-1;if(32&a)return-2;if(0!==m&&1!==m&&2!==m)return-7;if(0!==r&&2!==r&&10!==r)return-6;if(t&&(t=x(t),d=parseInt(t,10),isNaN(d)))return 1024&a?-2:-8;if(!e)return 0===r&&(r=2),0==(1&a)&&(c=2===r?Cl(2130706433):[0,0,0,1]),i=u(r,m,s,null,c,d),I[n>>2]=i,0;if(null!==(c=ml(e=x(e))))if(0===r||2===r)r=2;else{if(!(10===r&&8&a))return-2;c=[0,0,Cl(65535),c],r=10}else if(null!==(c=ul(e))){if(0!==r&&10!==r)return-2;r=10}return null!=c?(i=u(r,m,s,e,c,d),I[n>>2]=i,0):4&a?-2:(c=ml(e=ol.lookup_name(e)),0===r?r=2:10===r&&(c=[0,0,Cl(65535),c]),i=u(r,m,s,null,c,d),I[n>>2]=i,0)},getentropy:function e(t,l){e.randomDevice||(e.randomDevice=$());for(var n=0;n<l;n++)X[t+n>>0]=e.randomDevice();return 0},glActiveTexture:function(e){Nl.activeTexture(e)},glAttachShader:function(e,t){Nl.attachShader(Zl.programs[e],Zl.shaders[t])},glBindBuffer:function(e,t){35051==e?Nl.currentPixelPackBufferBinding=t:35052==e&&(Nl.currentPixelUnpackBufferBinding=t),Nl.bindBuffer(e,Zl.buffers[t])},glBindBufferRange:function(e,t,l,n,i){Nl.bindBufferRange(e,t,Zl.buffers[l],n,i)},glBindFramebuffer:function(e,t){Nl.bindFramebuffer(e,Zl.framebuffers[t])},glBindRenderbuffer:function(e,t){Nl.bindRenderbuffer(e,Zl.renderbuffers[t])},glBindTexture:function(e,t){Nl.bindTexture(e,Zl.textures[t])},glBindVertexArray:function(e){Nl.bindVertexArray(Zl.vaos[e])},glBlendEquation:function(e){Nl.blendEquation(e)},glBlendFunc:function(e,t){Nl.blendFunc(e,t)},glBlendFuncSeparate:function(e,t,l,n){Nl.blendFuncSeparate(e,t,l,n)},glBlitFramebuffer:function(e,t,l,n,i,c,d,a,r,m){Nl.blitFramebuffer(e,t,l,n,i,c,d,a,r,m)},glBufferData:function(e,t,l,n){Zl.currentContext.version>=2?l&&t?Nl.bufferData(e,V,n,l,t):Nl.bufferData(e,t,n):Nl.bufferData(e,l?V.subarray(l,l+t):t,n)},glBufferSubData:function(e,t,l,n){Zl.currentContext.version>=2?l&&Nl.bufferSubData(e,t,V,n,l):Nl.bufferSubData(e,t,V.subarray(n,n+l))},glClearBufferfv:function(e,t,l){Nl.clearBufferfv(e,t,f,l>>2)},glColorMask:function(e,t,l,n){Nl.colorMask(!!e,!!t,!!l,!!n)},glCompileShader:function(e){Nl.compileShader(Zl.shaders[e])},glCompressedTexImage2D:function(e,t,l,n,i,c,d,a){Zl.currentContext.version>=2?Nl.currentPixelUnpackBufferBinding||!d?Nl.compressedTexImage2D(e,t,l,n,i,c,d,a):Nl.compressedTexImage2D(e,t,l,n,i,c,V,a,d):Nl.compressedTexImage2D(e,t,l,n,i,c,a?V.subarray(a,a+d):null)},glCompressedTexImage3D:function(e,t,l,n,i,c,d,a,r){Nl.currentPixelUnpackBufferBinding?Nl.compressedTexImage3D(e,t,l,n,i,c,d,a,r):Nl.compressedTexImage3D(e,t,l,n,i,c,d,V,r,a)},glCopyTexSubImage2D:function(e,t,l,n,i,c,d,a){Nl.copyTexSubImage2D(e,t,l,n,i,c,d,a)},glCreateProgram:function(){var e=Zl.getNewId(Zl.programs),t=Nl.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,Zl.programs[e]=t,e},glCreateShader:function(e){var t=Zl.getNewId(Zl.shaders);return Zl.shaders[t]=Nl.createShader(e),t},glDeleteBuffers:function(e,t){for(var l=0;l<e;l++){var n=R[t+4*l>>2],i=Zl.buffers[n];!i||(Nl.deleteBuffer(i),i.name=0,Zl.buffers[n]=null,n==Nl.currentPixelPackBufferBinding&&(Nl.currentPixelPackBufferBinding=0),n==Nl.currentPixelUnpackBufferBinding&&(Nl.currentPixelUnpackBufferBinding=0))}},glDeleteFramebuffers:function(e,t){for(var l=0;l<e;++l){var n=R[t+4*l>>2],i=Zl.framebuffers[n];!i||(Nl.deleteFramebuffer(i),i.name=0,Zl.framebuffers[n]=null)}},glDeleteProgram:function(e){if(e){var t=Zl.programs[e];if(!t)return void Zl.recordError(1281);Nl.deleteProgram(t),t.name=0,Zl.programs[e]=null}},glDeleteRenderbuffers:function(e,t){for(var l=0;l<e;l++){var n=R[t+4*l>>2],i=Zl.renderbuffers[n];!i||(Nl.deleteRenderbuffer(i),i.name=0,Zl.renderbuffers[n]=null)}},glDeleteShader:function(e){if(e){var t=Zl.shaders[e];if(!t)return void Zl.recordError(1281);Nl.deleteShader(t),Zl.shaders[e]=null}},glDeleteTextures:function(e,t){for(var l=0;l<e;l++){var n=R[t+4*l>>2],i=Zl.textures[n];!i||(Nl.deleteTexture(i),i.name=0,Zl.textures[n]=null)}},glDeleteVertexArrays:function(e,t){for(var l=0;l<e;l++){var n=R[t+4*l>>2];Nl.deleteVertexArray(Zl.vaos[n]),Zl.vaos[n]=null}},glDepthFunc:function(e){Nl.depthFunc(e)},glDepthMask:function(e){Nl.depthMask(!!e)},glDisable:function(e){Nl.disable(e)},glDrawArrays:function(e,t,l){Nl.drawArrays(e,t,l)},glDrawArraysInstanced:function(e,t,l,n){Nl.drawArraysInstanced(e,t,l,n)},glDrawBuffers:function(e,t){for(var l=pl[e],n=0;n<e;n++)l[n]=R[t+4*n>>2];Nl.drawBuffers(l)},glDrawElements:function(e,t,l,n){Nl.drawElements(e,t,l,n)},glDrawElementsInstanced:function(e,t,l,n,i){Nl.drawElementsInstanced(e,t,l,n,i)},glEnable:function(e){Nl.enable(e)},glEnableVertexAttribArray:function(e){Nl.enableVertexAttribArray(e)},glFramebufferRenderbuffer:function(e,t,l,n){Nl.framebufferRenderbuffer(e,t,l,Zl.renderbuffers[n])},glFramebufferTexture2D:function(e,t,l,n,i){Nl.framebufferTexture2D(e,t,l,Zl.textures[n],i)},glFrontFace:function(e){Nl.frontFace(e)},glGenBuffers:function(e,t){Wl(e,t,"createBuffer",Zl.buffers)},glGenFramebuffers:function(e,t){Wl(e,t,"createFramebuffer",Zl.framebuffers)},glGenRenderbuffers:function(e,t){Wl(e,t,"createRenderbuffer",Zl.renderbuffers)},glGenTextures:function(e,t){Wl(e,t,"createTexture",Zl.textures)},glGenVertexArrays:function(e,t){Wl(e,t,"createVertexArray",Zl.vaos)},glGenerateMipmap:function(e){Nl.generateMipmap(e)},glGetError:function(){var e=Nl.getError()||Zl.lastError;return Zl.lastError=0,e},glGetIntegerv:function(e,t){hl(e,t,0)},glGetProgramInfoLog:function(e,t,l,n){var i=Nl.getProgramInfoLog(Zl.programs[e]);null===i&&(i="(unknown error)");var c=t>0&&n?K(i,n,t):0;l&&(R[l>>2]=c)},glGetProgramiv:function(e,t,l){if(l)if(e>=Zl.counter)Zl.recordError(1281);else if(e=Zl.programs[e],35716==t){var n=Nl.getProgramInfoLog(e);null===n&&(n="(unknown error)"),R[l>>2]=n.length+1}else if(35719==t){if(!e.maxUniformLength)for(var i=0;i<Nl.getProgramParameter(e,35718);++i)e.maxUniformLength=Math.max(e.maxUniformLength,Nl.getActiveUniform(e,i).name.length+1);R[l>>2]=e.maxUniformLength}else if(35722==t){if(!e.maxAttributeLength)for(i=0;i<Nl.getProgramParameter(e,35721);++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,Nl.getActiveAttrib(e,i).name.length+1);R[l>>2]=e.maxAttributeLength}else if(35381==t){if(!e.maxUniformBlockNameLength)for(i=0;i<Nl.getProgramParameter(e,35382);++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,Nl.getActiveUniformBlockName(e,i).length+1);R[l>>2]=e.maxUniformBlockNameLength}else R[l>>2]=Nl.getProgramParameter(e,t);else Zl.recordError(1281)},glGetShaderInfoLog:function(e,t,l,n){var i=Nl.getShaderInfoLog(Zl.shaders[e]);null===i&&(i="(unknown error)");var c=t>0&&n?K(i,n,t):0;l&&(R[l>>2]=c)},glGetShaderiv:function(e,t,l){if(l)if(35716==t){var n=Nl.getShaderInfoLog(Zl.shaders[e]);null===n&&(n="(unknown error)");var i=n?n.length+1:0;R[l>>2]=i}else if(35720==t){var c=Nl.getShaderSource(Zl.shaders[e]),d=c?c.length+1:0;R[l>>2]=d}else R[l>>2]=Nl.getShaderParameter(Zl.shaders[e],t);else Zl.recordError(1281)},glGetUniformLocation:function(e,t){if(t=x(t),e=Zl.programs[e]){!function(e){var t,l,n=e.uniformLocsById,i=e.uniformSizeAndIdsByName;if(!n)for(e.uniformLocsById=n={},e.uniformArrayNamesById={},t=0;t<Nl.getProgramParameter(e,35718);++t){var c=Nl.getActiveUniform(e,t),d=c.name,a=c.size,r=yl(d),m=r>0?d.slice(0,r):d,s=e.uniformIdCounter;for(e.uniformIdCounter+=a,i[m]=[a,s],l=0;l<a;++l)n[s]=l,e.uniformArrayNamesById[s++]=m}}(e);var l=e.uniformLocsById,n=0,i=t,c=yl(t);c>0&&(n=sl(t.slice(c+1))>>>0,i=t.slice(0,c));var d=e.uniformSizeAndIdsByName[i];if(d&&n<d[0]&&(l[n+=d[1]]=l[n]||Nl.getUniformLocation(e,t)))return n}else Zl.recordError(1281);return-1},glInvalidateFramebuffer:function(e,t,l){for(var n=pl[t],i=0;i<t;i++)n[i]=R[l+4*i>>2];Nl.invalidateFramebuffer(e,n)},glLinkProgram:function(e){e=Zl.programs[e],Nl.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},glPixelStorei:function(e,t){3317==e&&(Zl.unpackAlignment=t),Nl.pixelStorei(e,t)},glReadPixels:function(e,t,l,n,i,c,d){if(Zl.currentContext.version>=2)if(Nl.currentPixelPackBufferBinding)Nl.readPixels(e,t,l,n,i,c,d);else{var a=Xl(c);Nl.readPixels(e,t,l,n,i,c,a,d>>Vl(a))}else{var r=Gl(c,i,l,n,d);r?Nl.readPixels(e,t,l,n,i,c,r):Zl.recordError(1280)}},glRenderbufferStorage:function(e,t,l,n){Nl.renderbufferStorage(e,t,l,n)},glRenderbufferStorageMultisample:function(e,t,l,n,i){Nl.renderbufferStorageMultisample(e,t,l,n,i)},glShaderSource:function(e,t,l,n){var i=Zl.getSource(e,t,l,n);Nl.shaderSource(Zl.shaders[e],i)},glTexImage2D:function(e,t,l,n,i,c,d,a,r){if(Zl.currentContext.version>=2)if(Nl.currentPixelUnpackBufferBinding)Nl.texImage2D(e,t,l,n,i,c,d,a,r);else if(r){var m=Xl(a);Nl.texImage2D(e,t,l,n,i,c,d,a,m,r>>Vl(m))}else Nl.texImage2D(e,t,l,n,i,c,d,a,null);else Nl.texImage2D(e,t,l,n,i,c,d,a,r?Gl(a,d,n,i,r):null)},glTexImage3D:function(e,t,l,n,i,c,d,a,r,m){if(Nl.currentPixelUnpackBufferBinding)Nl.texImage3D(e,t,l,n,i,c,d,a,r,m);else if(m){var s=Xl(r);Nl.texImage3D(e,t,l,n,i,c,d,a,r,s,m>>Vl(s))}else Nl.texImage3D(e,t,l,n,i,c,d,a,r,null)},glTexParameteri:function(e,t,l){Nl.texParameteri(e,t,l)},glTexStorage2D:function(e,t,l,n,i){Nl.texStorage2D(e,t,l,n,i)},glTexStorage3D:function(e,t,l,n,i,c){Nl.texStorage3D(e,t,l,n,i,c)},glTexSubImage2D:function(e,t,l,n,i,c,d,a,r){if(Zl.currentContext.version>=2)if(Nl.currentPixelUnpackBufferBinding)Nl.texSubImage2D(e,t,l,n,i,c,d,a,r);else if(r){var m=Xl(a);Nl.texSubImage2D(e,t,l,n,i,c,d,a,m,r>>Vl(m))}else Nl.texSubImage2D(e,t,l,n,i,c,d,a,null);else{var s=null;r&&(s=Gl(a,d,i,c,r)),Nl.texSubImage2D(e,t,l,n,i,c,d,a,s)}},glTexSubImage3D:function(e,t,l,n,i,c,d,a,r,m,s){if(Nl.currentPixelUnpackBufferBinding)Nl.texSubImage3D(e,t,l,n,i,c,d,a,r,m,s);else if(s){var u=Xl(m);Nl.texSubImage3D(e,t,l,n,i,c,d,a,r,m,u,s>>Vl(u))}else Nl.texSubImage3D(e,t,l,n,i,c,d,a,r,m,null)},glUniform1f:function(e,t){Nl.uniform1f(Yl(e),t)},glUniform1i:function(e,t){Nl.uniform1i(Yl(e),t)},glUniform1ui:function(e,t){Nl.uniform1ui(Yl(e),t)},glUniform2f:function(e,t,l){Nl.uniform2f(Yl(e),t,l)},glUniform2fv:function(e,t,l){if(Zl.currentContext.version>=2)t&&Nl.uniform2fv(Yl(e),f,l>>2,2*t);else{if(t<=144)for(var n=Rl[2*t-1],i=0;i<2*t;i+=2)n[i]=f[l+4*i>>2],n[i+1]=f[l+(4*i+4)>>2];else n=f.subarray(l>>2,l+8*t>>2);Nl.uniform2fv(Yl(e),n)}},glUniform4fv:function(e,t,l){if(Zl.currentContext.version>=2)t&&Nl.uniform4fv(Yl(e),f,l>>2,4*t);else{if(t<=72){var n=Rl[4*t-1],i=f;l>>=2;for(var c=0;c<4*t;c+=4){var d=l+c;n[c]=i[d],n[c+1]=i[d+1],n[c+2]=i[d+2],n[c+3]=i[d+3]}}else n=f.subarray(l>>2,l+16*t>>2);Nl.uniform4fv(Yl(e),n)}},glUseProgram:function(e){e=Zl.programs[e],Nl.useProgram(e),Nl.currentProgram=e},glVertexAttribIPointer:function(e,t,l,n,i){Nl.vertexAttribIPointer(e,t,l,n,i)},glVertexAttribPointer:function(e,t,l,n,i,c){Nl.vertexAttribPointer(e,t,l,!!n,i,c)},glViewport:function(e,t,l,n){Nl.viewport(e,t,l,n)},is_electron:function(){return/electron/i.test(navigator.userAgent)},strftime:Ll,strftime_l:function(e,t,l,n,i){return Ll(e,t,l,n)}};(function(){var e={env:vl,wasi_snapshot_preview1:vl};function l(e,l){var n=e.exports;t.asm=n,v((Z=t.asm.memory).buffer),g=t.asm.__indirect_function_table,function(e){k.unshift(e)}(t.asm.__wasm_call_ctors),w()}function i(e){l(e.instance)}function c(t){return(o||"function"!=typeof fetch?Promise.resolve().then((function(){return D(E)})):fetch(E,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+E+"'";return e.arrayBuffer()})).catch((function(){return D(E)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){u("failed to asynchronously prepare wasm: "+e),z(e)}))}if(M(),t.instantiateWasm)try{return t.instantiateWasm(e,l)}catch(e){u("Module.instantiateWasm callback failed with error: "+e),n(e)}(o||"function"!=typeof WebAssembly.instantiateStreaming||Q(E)||"function"!=typeof fetch?c(i):fetch(E,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(i,(function(e){return u("wasm streaming compile failed: "+e),u("falling back to ArrayBuffer instantiation"),c(i)}))}))).catch(n)})(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)};var gl=t._malloc=function(){return(gl=t._malloc=t.asm.malloc).apply(null,arguments)},Tl=t.___errno_location=function(){return(Tl=t.___errno_location=t.asm.__errno_location).apply(null,arguments)},kl=t._free=function(){return(kl=t._free=t.asm.free).apply(null,arguments)},Ul=t.___getTypeName=function(){return(Ul=t.___getTypeName=t.asm.__getTypeName).apply(null,arguments)};t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm._embind_initialize_bindings).apply(null,arguments)};var Hl,Cl=t._htonl=function(){return(Cl=t._htonl=t.asm.htonl).apply(null,arguments)},Ml=t._htons=function(){return(Ml=t._htons=t.asm.htons).apply(null,arguments)},wl=t._emscripten_builtin_memalign=function(){return(wl=t._emscripten_builtin_memalign=t.asm.emscripten_builtin_memalign).apply(null,arguments)},zl=t._ntohs=function(){return(zl=t._ntohs=t.asm.ntohs).apply(null,arguments)},El=t.___cxa_is_pointer_type=function(){return(El=t.___cxa_is_pointer_type=t.asm.__cxa_is_pointer_type).apply(null,arguments)};function jl(e){function n(){Hl||(Hl=!0,t.calledRun=!0,!W&&(!t.noFSInit&&!de.init.initialized&&de.init(),de.ignorePermissions=!1,_(k),l(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)e=t.postRun.shift(),U.unshift(e);var e;_(U)}()))}H>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)e=t.preRun.shift(),T.unshift(e);var e;_(T)}(),H>0)||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),n()}),1)):n())}if(t.dynCall_jii=function(){return(t.dynCall_jii=t.asm.dynCall_jii).apply(null,arguments)},t.dynCall_jiii=function(){return(t.dynCall_jiii=t.asm.dynCall_jiii).apply(null,arguments)},t.dynCall_viiij=function(){return(t.dynCall_viiij=t.asm.dynCall_viiij).apply(null,arguments)},t.dynCall_viijjiii=function(){return(t.dynCall_viijjiii=t.asm.dynCall_viijjiii).apply(null,arguments)},t.dynCall_iiiiji=function(){return(t.dynCall_iiiiji=t.asm.dynCall_iiiiji).apply(null,arguments)},t.dynCall_iiiijii=function(){return(t.dynCall_iiiijii=t.asm.dynCall_iiiijii).apply(null,arguments)},t.dynCall_iijjj=function(){return(t.dynCall_iijjj=t.asm.dynCall_iijjj).apply(null,arguments)},t.dynCall_viij=function(){return(t.dynCall_viij=t.asm.dynCall_viij).apply(null,arguments)},t.dynCall_ji=function(){return(t.dynCall_ji=t.asm.dynCall_ji).apply(null,arguments)},t.dynCall_iiffj=function(){return(t.dynCall_iiffj=t.asm.dynCall_iiffj).apply(null,arguments)},t.dynCall_vijjiii=function(){return(t.dynCall_vijjiii=t.asm.dynCall_vijjiii).apply(null,arguments)},t.dynCall_viiiji=function(){return(t.dynCall_viiiji=t.asm.dynCall_viiiji).apply(null,arguments)},t.dynCall_viiijii=function(){return(t.dynCall_viiijii=t.asm.dynCall_viiijii).apply(null,arguments)},t.dynCall_vij=function(){return(t.dynCall_vij=t.asm.dynCall_vij).apply(null,arguments)},t.dynCall_iiiiiij=function(){return(t.dynCall_iiiiiij=t.asm.dynCall_iiiiiij).apply(null,arguments)},t.dynCall_viijji=function(){return(t.dynCall_viijji=t.asm.dynCall_viijji).apply(null,arguments)},t.dynCall_viiiij=function(){return(t.dynCall_viiiij=t.asm.dynCall_viiiij).apply(null,arguments)},t.dynCall_viji=function(){return(t.dynCall_viji=t.asm.dynCall_viji).apply(null,arguments)},t.dynCall_viiiiji=function(){return(t.dynCall_viiiiji=t.asm.dynCall_viiiiji).apply(null,arguments)},t.dynCall_iiiji=function(){return(t.dynCall_iiiji=t.asm.dynCall_iiiji).apply(null,arguments)},t.dynCall_jijjiii=function(){return(t.dynCall_jijjiii=t.asm.dynCall_jijjiii).apply(null,arguments)},t.dynCall_jijiii=function(){return(t.dynCall_jijiii=t.asm.dynCall_jijiii).apply(null,arguments)},t.dynCall_jijiiii=function(){return(t.dynCall_jijiiii=t.asm.dynCall_jijiiii).apply(null,arguments)},t.dynCall_jijii=function(){return(t.dynCall_jijii=t.asm.dynCall_jijii).apply(null,arguments)},t.dynCall_jijiiiiii=function(){return(t.dynCall_jijiiiiii=t.asm.dynCall_jijiiiiii).apply(null,arguments)},t.dynCall_jijj=function(){return(t.dynCall_jijj=t.asm.dynCall_jijj).apply(null,arguments)},t.dynCall_iijijjji=function(){return(t.dynCall_iijijjji=t.asm.dynCall_iijijjji).apply(null,arguments)},t.dynCall_iiiij=function(){return(t.dynCall_iiiij=t.asm.dynCall_iiiij).apply(null,arguments)},t.dynCall_iiji=function(){return(t.dynCall_iiji=t.asm.dynCall_iiji).apply(null,arguments)},t.dynCall_jijij=function(){return(t.dynCall_jijij=t.asm.dynCall_jijij).apply(null,arguments)},t.dynCall_iijijji=function(){return(t.dynCall_iijijji=t.asm.dynCall_iijijji).apply(null,arguments)},t.dynCall_jij=function(){return(t.dynCall_jij=t.asm.dynCall_jij).apply(null,arguments)},t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.dynCall_jiji).apply(null,arguments)},t.dynCall_viiijj=function(){return(t.dynCall_viiijj=t.asm.dynCall_viiijj).apply(null,arguments)},t.dynCall_iiij=function(){return(t.dynCall_iiij=t.asm.dynCall_iiij).apply(null,arguments)},t.dynCall_iijii=function(){return(t.dynCall_iijii=t.asm.dynCall_iijii).apply(null,arguments)},t.dynCall_iiijiji=function(){return(t.dynCall_iiijiji=t.asm.dynCall_iiijiji).apply(null,arguments)},t.dynCall_iiijiii=function(){return(t.dynCall_iiijiii=t.asm.dynCall_iiijiii).apply(null,arguments)},t.dynCall_viijii=function(){return(t.dynCall_viijii=t.asm.dynCall_viijii).apply(null,arguments)},t.dynCall_iiiiij=function(){return(t.dynCall_iiiiij=t.asm.dynCall_iiiiij).apply(null,arguments)},t.dynCall_iiiiijj=function(){return(t.dynCall_iiiiijj=t.asm.dynCall_iiiiijj).apply(null,arguments)},t.dynCall_iiiiiijj=function(){return(t.dynCall_iiiiiijj=t.asm.dynCall_iiiiiijj).apply(null,arguments)},t.dynCall_jjj=function(){return(t.dynCall_jjj=t.asm.dynCall_jjj).apply(null,arguments)},t.dynCall_iiiijj=function(){return(t.dynCall_iiiijj=t.asm.dynCall_iiiijj).apply(null,arguments)},t.dynCall_viijj=function(){return(t.dynCall_viijj=t.asm.dynCall_viijj).apply(null,arguments)},t.dynCall_viiijjjj=function(){return(t.dynCall_viiijjjj=t.asm.dynCall_viiijjjj).apply(null,arguments)},t.___start_em_js=1233164,t.___stop_em_js=1234783,t.addRunDependency=M,t.removeRunDependency=w,t.FS_createPath=de.createPath,t.FS_createDataFile=de.createDataFile,t.FS_createPreloadedFile=de.createPreloadedFile,t.FS_createLazyFile=de.createLazyFile,t.FS_createDevice=de.createDevice,t.FS_unlink=de.unlink,t.FS=de,t.GL=Zl,C=function e(){Hl||jl(),Hl||(C=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return jl(),cl=function(){},t.ready}})();const Im=Rm,fi=()=>{const e=document.createElement("canvas");return e.style.maxWidth="100%",e.style.objectFit="cover",e},Lm=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Sm=Lm,fm=e=>(""!==e&&!e.endsWith("/")&&(e+="/"),t=>e+t),Fm=e=>t=>e[t],xm=async(e,t={})=>{var l,n,i,c;if(!await Sm())return null==(n=t.info)||n.call(t,'The platform does not support SIMD. Using "BanubaSDK.wasm"'),e;null==(l=t.info)||l.call(t,'The platform supports SIMD. Going to use "BanubaSDK.simd.wasm"');const d=e("BanubaSDK.simd.wasm");return d?await fetch(d,{method:"HEAD"}).then((e=>e.ok))?t=>{const[l,n]=t.split(".");if("wasm"!==n)return e(t);const i=[l,"simd",n].join(".");return e(i)}:(null==(i=t.warn)||i.call(t,`Unable to fetch "BanubaSDK.simd.wasm" from the "${d}". Using "BanubaSDK.wasm" as a fallback`),e):(null==(c=t.warn)||c.call(t,'"BanubaSDK.simd.wasm" is missing in the "locateFile" option. Using "BanubaSDK.wasm" as a fallback'),e)},Fi=(()=>{try{return new URL(".",import.meta.url).toString()}catch{return""}})(),Nm=async(e,t)=>(typeof e>"u"&&(e=Fi),"string"==typeof e&&(e=fm(e)),"object"==typeof e&&(e=Fm(e)),e=await xm(e,t));var bt=(e=>(e.ERROR="error",e.WARNING="warn",e.INFO="info",e.DEBUG="debug",e))(bt||{});function gm(e){var t;const l=t=>{for(const l in bt)if(t.includes(l)){const n=e[bt[l]];if("function"==typeof n)return void n.call(e,t)}const l=e.debug;"function"==typeof l&&l.call(e,t)};return{logLevel:null!=(t=Object.keys(bt).reverse().find((t=>"function"==typeof e[bt[t]])))?t:"ERROR",print:l,printErr:l}}const Jm=["isAliasOf","clone","delete","isDeleted","deleteLater"],Km=["size","get","set","push_back"],xi=e=>{if(null==e||"function"!=typeof e)return!1;const{prototype:t}=e;return!!t&&Jm.every((e=>e in t))},Ni=e=>null!=e&&"object"==typeof e&&xi(e.constructor),ii=e=>Ni(e)&&Km.every((t=>t in e)),vm=(e,t)=>new Proxy(e,{get(e,l){const n=e[l];return"function"==typeof n?gi(n,t):n}}),gi=(e,t)=>new Proxy(e,{apply(e,l,n){try{const i=e.apply(l,n);return Ni(i)?vm(i,t):i}catch(e){throw"number"==typeof e&&(e=new Error(t(e))),e}}}),Tm=(e,t)=>new Proxy(e,{construct(e,l){try{return new e(...l)}catch(e){throw"number"==typeof e&&(e=new Error(t(e))),e}},get(e,l){const n=e[l];return"function"==typeof n?gi(n,t):n}}),km=(e,t)=>{for(const[l,n]of Object.entries(e))xi(n)&&Object.defineProperty(e,l,{value:Tm(n,t)})},Um="recognizer_features_update";async function Hm({clientToken:e,locateFile:t,canvas:l=fi(),logger:n={warn:console.warn,error:console.error},...i}){var c;const d=await Nm(t,n),{logLevel:a,print:r,printErr:m}=gm(n),s=await new Promise(((e,t)=>Im({locateFile:d,print:r,printErr:m,onAbort:e=>{e instanceof WebAssembly.CompileError&&t(new Error(`Failed to compile "BanubaSDK.wasm": the file "${d("BanubaSDK.wasm")}" is invalid. This error is usually caused by misconfigured "locateFile" option, see https://docs.banuba.com/face-ar-sdk-v1/generated/typedoc/modules.html#SDKOptions. Original Error: `+e))},...i}).then(e,t)));return km(s,(e=>s.getExceptionMessage(e))),s.UtilityManager.initialize(new s.VectorString,e),s.UtilityManager.setLogLevel(s.SeverityLevel[a]),s.setCanvasSize=(e,t)=>{Object.assign(l,{width:e,height:t})},s.createContext(l,!0,!0,{alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0,stencil:!1}),s.canvas=l,typeof WebGL2RenderingContext>"u"&&(["WEBGL_depth_texture","ANGLE_depth_texture","GL_ANGLE_depth_texture","OES_texture_half_float"].every((e=>{var t;return null==(t=s.canvas.getContext("webgl"))?void 0:t.getExtension(e)}))||null==(c=n.warn)||c.call(n,"Depth textures are not supported on the current device.")),s}const ci=()=>{try{return new EventTarget}catch{return document.createDocumentFragment()}};class et{constructor(){K(this,"_emitter",ci())}addEventListener(e,t,l){this._emitter.addEventListener(e,t,l)}removeEventListener(e,t,l){this._emitter.removeEventListener(e,t,l)}dispatchEvent(e){return this._emitter.dispatchEvent(e)}removeAllEventListeners(){this._emitter=ci()}}const di=new Map,Cm=(e,t,l)=>e*(1-l)+t*l,Kl=e=>`webar::${e}:start`,Nl=e=>`webar::${e}:end`,Ml=e=>{performance.mark(Kl(e))},wl=e=>{performance.mark(Nl(e));let t=performance.measure(e,Kl(e),Nl(e));t||(t=performance.getEntriesByName(e)[0]),performance.clearMarks(Kl(e)),performance.clearMarks(Nl(e)),performance.clearMeasures(e);const{duration:l}=t;let{averagedDuration:n=0}=di.get(e)||{};return n=Cm(n,l,.05),di.set(e,{averagedDuration:n}),{instantDuration:l,averagedDuration:n}},ll=class extends et{constructor(e=1){super(),K(this,"_limit"),K(this,"_items",[]),this._limit=e}take(){return this._items.shift()}put(e){if(this._items.length>=this._limit){const e=this.take();this.dispatchEvent(new CustomEvent(ll.DISCARDED_EVENT,{detail:e}))}this._items.push(e),this.dispatchEvent(new CustomEvent(ll.EMERGED_EVENT,{detail:e}))}};let Ge=ll;K(Ge,"EMERGED_EVENT","emerged"),K(Ge,"DISCARDED_EVENT","discarded");const Ee=class extends et{constructor({allocator:e,releaser:t}){super(),K(this,"_conveyer",new Ge),K(this,"_allocator"),K(this,"_releaser"),K(this,"_frames",async function*(){}()),K(this,"_state","paused"),K(this,"_fps",30),this._allocator=e,this._releaser=t,this._conveyer.addEventListener(Ge.DISCARDED_EVENT,(({detail:e})=>this._releaser(e.data)))}get isRunning(){return"paused"!==this._state}put(e,t){this._frames=e[Symbol.asyncIterator]({allocate:this._allocator,...t}),this.dispatchEvent(new CustomEvent(Ee.SOURCE_CHANGED_EVENT))}run({fps:e=this._fps}={}){this._fps=e,"running"!==this._state&&(this._state="running",(async()=>{for(;;){const e=this._frames;Ml(Ee.FRAME_RECEIVED_EVENT);const{done:t,value:l}=await this._frames.next(this._fps),n=wl(Ee.FRAME_RECEIVED_EVENT);if(t)return this._state="paused",this.dispatchEvent(new CustomEvent(Ee.ENDED_EVENT));if("paused"===this._state)return this._releaser(l.data);e===this._frames?(this._conveyer.put(l),this.dispatchEvent(new CustomEvent(Ee.FRAME_RECEIVED_EVENT,{detail:n}))):this._releaser(l.data)}})())}pause(){this._state="paused"}take(){return this._conveyer.take()}};let he=Ee;K(he,"FRAME_RECEIVED_EVENT","framereceived"),K(he,"SOURCE_CHANGED_EVENT","sourcechanged"),K(he,"ENDED_EVENT","ended");const pt=class extends et{constructor(e){super(),K(this,"_doProcess"),K(this,"_conveyer",new Ge),this._doProcess=e,this._conveyer.addEventListener(Ge.DISCARDED_EVENT,(({detail:e})=>e.data.delete()))}put(e){Ml(pt.FRAME_PROCESSED_EVENT);const t=this._doProcess(e),l=wl(pt.FRAME_PROCESSED_EVENT);this._conveyer.put(t),this.dispatchEvent(new CustomEvent(pt.FRAME_PROCESSED_EVENT,{detail:l}))}take(){return this._conveyer.take()}};let je=pt;K(je,"FRAME_PROCESSED_EVENT","frameprocessed");const Wt=class extends et{constructor(e){super(),K(this,"_doDraw"),K(this,"_conveyer",new Ge),K(this,"_state","paused"),K(this,"_fps",30),this._doDraw=e,this._conveyer.addEventListener(Ge.DISCARDED_EVENT,(({detail:e})=>e.data.delete()))}get isRunning(){return"paused"!==this._state}get isPausing(){return"pausing"===this._state}get isPaused(){return"paused"===this._state}put(e){this._conveyer.put(e)}take(){return this._conveyer.take()}run({fps:e=this._fps}={}){if(this._fps=e,"pausing"===this._state)this._state="running";else{if("running"===this._state)return;this._state="running"}(async()=>{let e=0;const t=l=>{const n=1e3/this._fps;l-e<n-.1*n?Ae(t):(e=l,this.draw(),"pausing"===this._state&&(this._state="paused"),"paused"!==this._state&&Ae(t))};Ae(t)})()}async pause(){for(this._state="pausing";"pausing"===this._state;)await new Promise((e=>Ae(e)));if("paused"!==this._state)throw new Error("The pause request was canceled")}draw(){const e=this._conveyer.take();if(!e)return;Ml(Wt.FRAME_RENDERED_EVENT),this._doDraw(e);const t=wl(Wt.FRAME_RENDERED_EVENT);this._conveyer.put(e),this.dispatchEvent(new CustomEvent(Wt.FRAME_RENDERED_EVENT,{detail:t}))}};let Zt=Wt;K(Zt,"FRAME_RENDERED_EVENT","framerendered");class Mm{constructor(e){K(this,"_buffer"),this._buffer=new ArrayBuffer(e)}get buffer(){return this._buffer}get byteLength(){return this._buffer.byteLength}get byteOffset(){return 0}set(){}}class wm{constructor(e){K(this,"ptr",-1),K(this,"length"),K(this,"data"),this.length=e,this.data=new Mm(e)}}class zm{constructor(e,t,l){this._module=e,this._byteOffset=t,this._byteLength=l}get buffer(){return this._module.HEAPU8.buffer}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}set(e){return this._module.HEAPU8.set(e,this._byteOffset)}}class Em{constructor(e,t=1){K(this,"_module"),K(this,"_free"),K(this,"_inuse",[]),this._module=e,this._free=new Array(t).fill(null).map((()=>({ptr:NaN,length:0})))}allocate(e){const t=this._free.shift();return t?(this._inuse.push(t),t.length!==e&&(isNaN(t.ptr)||this._module._free(t.ptr),t.ptr=this._module._malloc(e),t.length=e,t.data=new zm(this._module,t.ptr,t.length)),t):null}release(e){let t;do{(t=this._inuse.shift())&&this._free.push(t)}while(t&&t.ptr!==e)}reset(){this._free.push(...this._inuse.splice(0,this._inuse.length)),this._free.forEach((e=>{isNaN(e.ptr)||this._module._free(e.ptr),e.ptr=NaN,e.length=0}))}}const jm=({FS:e})=>({writeFile:(t,l)=>{const n=t.split("/");""===n[0]&&n.shift(),n.length>1&&n.reduce(((t,l)=>((t=>{try{return e.lstat(t),!0}catch(e){if(44===e.errno||"ENOENT"===e.code)return!1;throw e}})(t)||e.mkdir(t),`${t}/${l}`))),e.writeFile(t,l)}});class Pm{constructor(e){K(this,"_fd"),K(this,"_cache",new Map),this._fd=e}get(e){if(Array.isArray(e))return e.map((e=>this.get(e)));const t=e.split("."),l=t.length;let n=l,i=this._fd;for(let e=!1;!e&&n>0;--n){const l=t.slice(0,n).join(".");this._cache.has(l)&&(e=!0,i=this._cache.get(l),++n)}for(;null!=i&&n<l;++n){const l=t[n];let c=i[l];if(typeof c>"u"){c=i["get"+l[0].toUpperCase()+l.slice(1)]}if(typeof c>"u"&&ii(i)){const e=parseInt(l);isNaN(e)||(c=i.get(e))}if("function"==typeof c)try{c=c.apply(i)}catch{c=void 0}const d=t.slice(0,n+1).join(".");if(e===d&&ii(c)){const e=c;c=new Array(e.size());for(let t=0,l=e.size();t<l;++t)c[t]=e.get(t)}this._cache.set(d,i=c)}return n===l?i:void 0}}var Bm=Object.defineProperty,Qm=Object.getOwnPropertyDescriptor,Dm=(e,t,l,n)=>{for(var i,c=n>1?void 0:n?Qm(t,l):t,d=e.length-1;d>=0;d--)(i=e[d])&&(c=(n?i(t,l,c):i(c))||c);return n&&c&&Bm(t,l,c),c};const Om={devicePixelRatio:typeof devicePixelRatio<"u"?devicePixelRatio:1,cameraOrientation:0,maxFaces:1,logger:console};var we;const ue=(we=class extends et{constructor(e,t={}){super(),K(this,"_sdk"),K(this,"_fs"),K(this,"_preferences"),K(this,"_frameSize"),K(this,"_memory"),K(this,"_releaser"),K(this,"_effectPlayer"),K(this,"_effectManager"),K(this,"_camera"),K(this,"_renderer"),this._sdk=e,this._fs=jm(this._sdk),this._preferences={...Om,fps:30,pauseOnEmpty:!0,...t},this._frameSize={width:e.canvas.width,height:e.canvas.height},this._memory=new Em(this._sdk,4),this._releaser=e=>this._memory.release(e),this._effectPlayer=this._sdk.EffectPlayer.create(this._sdk.EffectPlayerConfiguration.create(this._frameSize.width,this._frameSize.height)),this._effectPlayer.surfaceCreated(this._frameSize.width,this._frameSize.height),this._effectPlayer.setMaxFaces(this._preferences.maxFaces),this._effectPlayer.addFrameDataListener((e=>{this.dispatchEvent(new CustomEvent(ue.FRAME_DATA_EVENT,{detail:new Pm(e)}))})),this._effectManager=this._effectPlayer.effectManager(),this._effectManager.addEffectActivatedListener((()=>{const e=this._effectManager.current();this.dispatchEvent(new CustomEvent(ue.EFFECT_ACTIVATED_EVENT,{detail:e}))}));const l=this._camera=new he({allocator:e=>(this._memory.allocate(e)||new wm(e)).data,releaser:e=>this._releaser(e.byteOffset)});let n=!1;const i=new je((e=>{const{width:t,height:l,data:i,format:c,input:d="static"}=e,a="static"===d,r="static"===d?3:1,m=i instanceof this._sdk.FrameData?i:this._sdk.FrameData.makeFromBpc8(i.byteOffset,this._releaser,t,l,this._sdk.CameraOrientation[`DEG_${this._preferences.cameraOrientation}`],this._sdk.PixelFormat[c],!1,0);n||(this._effectPlayer.startVideoProcessing(t,l,this._sdk.CameraOrientation[`DEG_${this._preferences.cameraOrientation}`],!1,a),n=!0);const s=this._effectPlayer.processVideoFrameData(m,r);return m!==i&&m.delete(),{width:t,height:l,data:s}})),c=this._renderer=new Zt((({width:e,height:t,data:l})=>{var n,i,c,d;if(this._frameSize.width!==e||this._frameSize.height!==t){Object.assign(this._frameSize,{width:e,height:t});const{width:l,height:n}=Am(e,t,this._preferences.devicePixelRatio);this._sdk.setCanvasSize(l,n),this._effectManager.setEffectSize(l,n),this._effectPlayer.surfaceChanged(l,n)}try{this._effectPlayer.drawWithExternalFrameData(l);const e=this._sdk.ctx;e instanceof WebGLRenderingContext||e.bindFramebuffer(e.READ_FRAMEBUFFER,null)}catch(e){e instanceof WebAssembly.RuntimeError&&this.pause(),this.clearEffect(),null==(i=(n=this._preferences.logger).warn)||i.call(n,"The effect was force cleared due to the exception:"),null==(d=(c=this._preferences.logger).error)||d.call(c,e)}}));l.addEventListener(he.FRAME_RECEIVED_EVENT,(({detail:e})=>this.dispatchEvent(new CustomEvent(ue.FRAME_RECEIVED_EVENT,{detail:e})))),l.addEventListener(he.FRAME_RECEIVED_EVENT,(function e(){const t=l.take();t&&qn((()=>i.put(t))),l.addEventListener(he.FRAME_RECEIVED_EVENT,e,{once:!0})}),{once:!0}),l.addEventListener(he.SOURCE_CHANGED_EVENT,(()=>{!n||(this._effectPlayer.stopVideoProcessing(!1),n=!1)})),l.addEventListener(he.ENDED_EVENT,(()=>{this._preferences.pauseOnEmpty&&this.pause()})),i.addEventListener(je.FRAME_PROCESSED_EVENT,(({detail:e})=>this.dispatchEvent(new CustomEvent(ue.FRAME_PROCESSED_EVENT,{detail:e})))),i.addEventListener(je.FRAME_PROCESSED_EVENT,(function e(){const t=i.take();t&&c.put(t),i.addEventListener(je.FRAME_PROCESSED_EVENT,e,{once:!0})}),{once:!0}),c.addEventListener(Zt.FRAME_RENDERED_EVENT,(({detail:e})=>this.dispatchEvent(new CustomEvent(ue.FRAME_RENDERED_EVENT,{detail:e})))),this._effectManager.addEffectEventListener((async e=>{if(e===Um){if(await new Promise((e=>qn(e))),!l.isRunning){const e=i.take()||c.take();e&&i.put(e)}c.isRunning||this._renderer.draw()}})),this.setVolume(0)}static async create(e){return new this(await Hm(e),e)}get FS(){return this._fs}get canvas(){return this._sdk.canvas}get frameSize(){return this._frameSize}get preferences(){return this._preferences}get isPlaying(){return this._renderer.isRunning}use(e,t){this._camera.put(e,t),this._renderer.isRunning&&!this._renderer.isPausing&&this._camera.run()}async addModule(...e){await Promise.all(e.map((e=>e._bind({FS:this.FS}))))}async applyEffect(e){const t=this,l=e.name;return await e._bind({FS:this.FS,evalJs:this._evalJs.bind(this),callJsMethod:this._callJsMethod.bind(this)}),new Promise((n=>{var i,c,d,a;this.addEventListener(ue.EFFECT_ACTIVATED_EVENT,r,{once:!0}),this.addEventListener(ue.EFFECT_ACTIVATED_EVENT,m);try{this._effectManager.load(l)}catch(t){this.removeEventListener(ue.EFFECT_ACTIVATED_EVENT,r),this.removeEventListener(ue.EFFECT_ACTIVATED_EVENT,m),e._unbind(),this.clearEffect(),null==(c=(i=this._preferences.logger).warn)||c.call(i,"The effect was force cleared due to the exception:"),null==(a=(d=this._preferences.logger).error)||a.call(d,t)}function r({detail:e}){n(e)}function m({detail:n}){n.url()!==`/${l}`&&(t.removeEventListener(ue.EFFECT_ACTIVATED_EVENT,m),e._unbind())}}))}async clearEffect(){return new Promise((e=>{this.addEventListener(ue.EFFECT_ACTIVATED_EVENT,(()=>e()),{once:!0}),this._effectManager.load("")}))}callJsMethod(e,t=""){return this._callJsMethod(e,t)}setVolume(e){this._effectManager.setEffectVolume(e),this.dispatchEvent(new CustomEvent("volumechange",{detail:e}))}play({fps:e=this._preferences.fps,pauseOnEmpty:t=!0}={}){Object.assign(this._preferences,{fps:e,pauseOnEmpty:t}),this._camera.run({fps:e}),this._renderer.run({fps:e})}async pause(){this._camera.pause();try{await this._renderer.pause()}catch(e){throw this._camera.run(),e}}async destroy(){await this.pause(),this.removeAllEventListeners(),await this.clearEffect(),this._effectPlayer.surfaceDestroyed(),this._memory.reset();for(const e in this)e.startsWith("_")&&Object.defineProperty(this,e,{get(){throw new Error("The player is destroyed.")},set(){throw new Error("The player is destroyed.")}})}async _evalJs(e){return new Promise((async t=>{t(this._effectManager.current().evalJsSync(e)),this._renderer.isRunning||this._renderer.draw()}))}async _callJsMethod(e,t=""){this._effectManager.current().callJsMethod(e,t),this._renderer.isRunning||this._renderer.draw()}},K(we,"FRAME_RECEIVED_EVENT","framereceived"),K(we,"FRAME_PROCESSED_EVENT","frameprocessed"),K(we,"FRAME_RENDERED_EVENT","framerendered"),K(we,"FRAME_DATA_EVENT","framedata"),K(we,"EFFECT_ACTIVATED_EVENT","effectactivated"),we);let _m=ue;function Am(e,t,l){const n=Math.round(self.devicePixelRatio),[i,c]=[screen.width*n,screen.height*n],d=Math.max(1,i/e),a=Math.max(1,c/t),r=Math.max(d,a);return{width:e*(l=Math.min(l,r)),height:t*l}}Dm([Si("Please, use Effect.evalJs() instead.")],_m.prototype,"callJsMethod",1);const nl=e=>{if(!e||!("canvas"in e))throw new Error(`The "player" must be a Player instance, but "${e}" is received. Make sure you haven't forgot to place "await" before Player.create() call.`)},vl=new WeakMap,qm=(e,t)=>{nl(e);const l="string"==typeof t?document.querySelector(t):t;if(!(l instanceof HTMLElement))throw new Error("Target container is not a DOM element");if(l instanceof HTMLMediaElement||l instanceof HTMLCanvasElement)throw new Error("Target container must be a plain html element like `div`");vl.set(l,e),l.appendChild(e.canvas);const{pauseOnEmpty:n}=e.preferences;e.play({pauseOnEmpty:n})},$m=e=>{const t="string"==typeof e?document.querySelector(e):e;if(!(t instanceof HTMLElement))throw new Error("Target container is not a DOM element");const l=vl.get(t);l&&t.removeChild(l.canvas),vl.delete(t)},Xu={render:qm,unmount:$m};class yu{constructor(e){K(this,"_player"),nl(e),this._player=e}async takePhoto(e){var t,l;const n=this._player.canvas,{width:i,height:c}=this._player.frameSize,d=tu(n,null!=(t=null==e?void 0:e.width)?t:i,null!=(l=null==e?void 0:e.height)?l:c);return await new Promise(((t,l)=>{var n;return d.toBlob((e=>e?t(e):l(new Error("Unexpected error: Unable to create Blob"))),null!=(n=null==e?void 0:e.type)?n:"image/jpeg",null==e?void 0:e.quality)}))}}const eu=/(iP(hone|od|ad).*)|(Version\/)14.*Safari/.test(typeof navigator>"u"?"":navigator.userAgent),tu=(e,t=e.width,l=e.height)=>{if(t!==e.width||l!==e.height||eu){const n=lu(t,l);return n.getContext("2d").drawImage(e,0,0,n.width,n.height),n}return e},lu=(e,t)=>{let l;return typeof OffscreenCanvas>"u"?(l=document.createElement("canvas"),l.width=e,l.height=t):(l=new OffscreenCanvas(e,t),l.toBlob=function(e,t,l){this.convertToBlob({type:t,quality:l}).then(e).catch((t=>e(null)))}),l},nu=typeof MediaStream<"u"?MediaStream:class{constructor(){throw new Error("The environment does not support MediaStream API")}},ht=class extends nu{constructor(e){nl(e),super();const t=ht.cache.get(e);if(!t||!t.active){let t=e.canvas;if(((t.getContext("webgl2")||t.getContext("webgl")).getContextAttributes()||{}).alpha){const l=t,n=t=document.createElement("canvas"),i=bm.createRenderingContext(n,{alpha:!1});e.addEventListener("framerendered",(()=>i.drawImage(l,0,0,l.width,l.height)))}t.captureStream().getTracks().forEach((e=>this.addTrack(e))),ht.cache.set(e,this)}return ht.cache.get(e)}getVideoTrack(e=0){return this.getVideoTracks()[e]}getAudioTrack(e=0){return this.getAudioTracks()[e]}stop(){this.getTracks().forEach((e=>e.stop()))}};let gl=ht;K(gl,"cache",new WeakMap);const iu=typeof MediaRecorder<"u"?MediaRecorder:class{constructor(){throw new Error("The environment does not support MediaRecorder API")}};class Vu extends iu{constructor(e,t){nl(e);super(e.canvas.captureStream(),t)}async stop(){return new Promise(((e,t)=>{const l=t=>{super.removeEventListener("dataavailable",l),super.removeEventListener("error",n),e(t.data)},n=e=>{super.removeEventListener("dataavailable",l),super.removeEventListener("error",n),t(e.error)};super.addEventListener("dataavailable",l),super.addEventListener("error",n),super.stop()}))}}const Ji=Symbol("Comlink.proxy"),cu=Symbol("Comlink.endpoint"),Tl=Symbol("Comlink.releaseProxy"),kl=Symbol("Comlink.thrown"),Ki=e=>"object"==typeof e&&null!==e||"function"==typeof e,du={canHandle:e=>Ki(e)&&e[Ji],serialize(e){const{port1:t,port2:l}=new MessageChannel;return vi(e,t),[l,[l]]},deserialize:e=>(e.start(),ki(e))},au={canHandle:e=>Ki(e)&&kl in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},zl=new Map([["proxy",du],["throw",au]]);function vi(e,t=self){t.addEventListener("message",(function l(n){if(!n||!n.data)return;const{id:i,type:c,path:d}=Object.assign({path:[]},n.data),a=(n.data.argumentList||[]).map(ze);let r;try{const t=d.slice(0,-1).reduce(((e,t)=>e[t]),e),l=d.reduce(((e,t)=>e[t]),e);switch(c){case"GET":r=l;break;case"SET":t[d.slice(-1)[0]]=ze(n.data.value),r=!0;break;case"APPLY":r=l.apply(t,a);break;case"CONSTRUCT":r=$t(new l(...a));break;case"ENDPOINT":{const{port1:t,port2:l}=new MessageChannel;vi(e,l),r=qt(t,[t])}break;case"RELEASE":r=void 0;break;default:return}}catch(e){r={value:e,[kl]:0}}Promise.resolve(r).catch((e=>({value:e,[kl]:0}))).then((e=>{const[n,d]=El(e);t.postMessage(Object.assign(Object.assign({},n),{id:i}),d),"RELEASE"===c&&(t.removeEventListener("message",l),Ti(t))}))})),t.start&&t.start()}function ru(e){return"MessagePort"===e.constructor.name}function Ti(e){ru(e)&&e.close()}function ki(e,t){return Ul(e,[],t)}function At(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ul(e,t=[],l=function(){}){let n=!1;const i=new Proxy(l,{get(l,c){if(At(n),c===Tl)return()=>_e(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{Ti(e),n=!0}));if("then"===c){if(0===t.length)return{then:()=>i};const l=_e(e,{type:"GET",path:t.map((e=>e.toString()))}).then(ze);return l.then.bind(l)}return Ul(e,[...t,c])},set(l,i,c){At(n);const[d,a]=El(c);return _e(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:d},a).then(ze)},apply(l,i,c){At(n);const d=t[t.length-1];if(d===cu)return _e(e,{type:"ENDPOINT"}).then(ze);if("bind"===d)return Ul(e,t.slice(0,-1));const[a,r]=ai(c);return _e(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:a},r).then(ze)},construct(l,i){At(n);const[c,d]=ai(i);return _e(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:c},d).then(ze)}});return i}function su(e){return Array.prototype.concat.apply([],e)}function ai(e){const t=e.map(El);return[t.map((e=>e[0])),su(t.map((e=>e[1])))]}const Ui=new WeakMap;function qt(e,t){return Ui.set(e,t),e}function $t(e){return Object.assign(e,{[Ji]:!0})}function El(e){for(const[t,l]of zl)if(l.canHandle(e)){const[n,i]=l.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},Ui.get(e)||[]]}function ze(e){switch(e.type){case"HANDLER":return zl.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _e(e,t,l){return new Promise((n=>{const i=mu();e.addEventListener("message",(function t(l){!l.data||!l.data.id||l.data.id!==i||(e.removeEventListener("message",t),n(l.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),l)}))}function mu(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}const uu=e=>e instanceof ImageBitmap,ou=e=>{e.set("CustomEvent",{canHandle:e=>e instanceof CustomEvent,serialize:({type:e,detail:t})=>[{type:e,detail:t},Object.values(t||{}).filter(uu)],deserialize:e=>e})},Hi="dmFyIElsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgTmw9KFRlLGJlLE1lKT0+YmUgaW4gVGU/SWwoVGUsYmUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk1lfSk6VGVbYmVdPU1lO3ZhciBBPShUZSxiZSxNZSk9PihObChUZSx0eXBlb2YgYmUhPSJzeW1ib2wiP2JlKyIiOmJlLE1lKSxNZSk7KGZ1bmN0aW9uKCl7dmFyIGplOyJ1c2Ugc3RyaWN0Ijtjb25zdCBUZT1TeW1ib2woIkNvbWxpbmsucHJveHkiKSxiZT1TeW1ib2woIkNvbWxpbmsuZW5kcG9pbnQiKSxNZT1TeW1ib2woIkNvbWxpbmsucmVsZWFzZVByb3h5IikscXQ9U3ltYm9sKCJDb21saW5rLnRocm93biIpLGpyPWQ9PnR5cGVvZiBkPT0ib2JqZWN0IiYmZCE9PW51bGx8fHR5cGVvZiBkPT0iZnVuY3Rpb24iLHZhPXtjYW5IYW5kbGU6ZD0+anIoZCkmJmRbVGVdLHNlcmlhbGl6ZShkKXtjb25zdHtwb3J0MTpmLHBvcnQyOml9PW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gdHIoZCxmKSxbaSxbaV1dfSxkZXNlcmlhbGl6ZShkKXtyZXR1cm4gZC5zdGFydCgpLEVhKGQpfX0sYmE9e2NhbkhhbmRsZTpkPT5qcihkKSYmcXQgaW4gZCxzZXJpYWxpemUoe3ZhbHVlOmR9KXtsZXQgZjtyZXR1cm4gZCBpbnN0YW5jZW9mIEVycm9yP2Y9e2lzRXJyb3I6ITAsdmFsdWU6e21lc3NhZ2U6ZC5tZXNzYWdlLG5hbWU6ZC5uYW1lLHN0YWNrOmQuc3RhY2t9fTpmPXtpc0Vycm9yOiExLHZhbHVlOmR9LFtmLFtdXX0sZGVzZXJpYWxpemUoZCl7dGhyb3cgZC5pc0Vycm9yP09iamVjdC5hc3NpZ24obmV3IEVycm9yKGQudmFsdWUubWVzc2FnZSksZC52YWx1ZSk6ZC52YWx1ZX19LGVyPW5ldyBNYXAoW1sicHJveHkiLHZhXSxbInRocm93IixiYV1dKTtmdW5jdGlvbiB0cihkLGY9c2VsZil7Zi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbiBpKG0pe2lmKCFtfHwhbS5kYXRhKXJldHVybjtjb25zdHtpZDp2LHR5cGU6UyxwYXRoOlB9PU9iamVjdC5hc3NpZ24oe3BhdGg6W119LG0uZGF0YSksaz0obS5kYXRhLmFyZ3VtZW50TGlzdHx8W10pLm1hcChMZSk7bGV0IEw7dHJ5e2NvbnN0IE09UC5zbGljZSgwLC0xKS5yZWR1Y2UoKFcsWik9PldbWl0sZCksTz1QLnJlZHVjZSgoVyxaKT0+V1taXSxkKTtzd2l0Y2goUyl7Y2FzZSJHRVQiOkw9TzticmVhaztjYXNlIlNFVCI6TVtQLnNsaWNlKC0xKVswXV09TGUobS5kYXRhLnZhbHVlKSxMPSEwO2JyZWFrO2Nhc2UiQVBQTFkiOkw9Ty5hcHBseShNLGspO2JyZWFrO2Nhc2UiQ09OU1RSVUNUIjp7Y29uc3QgVz1uZXcgTyguLi5rKTtMPW5yKFcpfWJyZWFrO2Nhc2UiRU5EUE9JTlQiOntjb25zdHtwb3J0MTpXLHBvcnQyOlp9PW5ldyBNZXNzYWdlQ2hhbm5lbDt0cihkLFopLEw9eGEoVyxbV10pfWJyZWFrO2Nhc2UiUkVMRUFTRSI6TD12b2lkIDA7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fWNhdGNoKE0pe0w9e3ZhbHVlOk0sW3F0XTowfX1Qcm9taXNlLnJlc29sdmUoTCkuY2F0Y2goTT0+KHt2YWx1ZTpNLFtxdF06MH0pKS50aGVuKE09Pntjb25zdFtPLFddPWFyKE0pO2YucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LE8pLHtpZDp2fSksVyksUz09PSJSRUxFQVNFIiYmKGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSksSXIoZikpfSl9KSxmLnN0YXJ0JiZmLnN0YXJ0KCl9ZnVuY3Rpb24gX2EoZCl7cmV0dXJuIGQuY29uc3RydWN0b3IubmFtZT09PSJNZXNzYWdlUG9ydCJ9ZnVuY3Rpb24gSXIoZCl7X2EoZCkmJmQuY2xvc2UoKX1mdW5jdGlvbiBFYShkLGYpe3JldHVybiBycihkLFtdLGYpfWZ1bmN0aW9uIHZ0KGQpe2lmKGQpdGhyb3cgbmV3IEVycm9yKCJQcm94eSBoYXMgYmVlbiByZWxlYXNlZCBhbmQgaXMgbm90IHVzZWFibGUiKX1mdW5jdGlvbiBycihkLGY9W10saT1mdW5jdGlvbigpe30pe2xldCBtPSExO2NvbnN0IHY9bmV3IFByb3h5KGkse2dldChTLFApe2lmKHZ0KG0pLFA9PT1NZSlyZXR1cm4oKT0+S2UoZCx7dHlwZToiUkVMRUFTRSIscGF0aDpmLm1hcChrPT5rLnRvU3RyaW5nKCkpfSkudGhlbigoKT0+e0lyKGQpLG09ITB9KTtpZihQPT09InRoZW4iKXtpZihmLmxlbmd0aD09PTApcmV0dXJue3RoZW46KCk9PnZ9O2NvbnN0IGs9S2UoZCx7dHlwZToiR0VUIixwYXRoOmYubWFwKEw9PkwudG9TdHJpbmcoKSl9KS50aGVuKExlKTtyZXR1cm4gay50aGVuLmJpbmQoayl9cmV0dXJuIHJyKGQsWy4uLmYsUF0pfSxzZXQoUyxQLGspe3Z0KG0pO2NvbnN0W0wsTV09YXIoayk7cmV0dXJuIEtlKGQse3R5cGU6IlNFVCIscGF0aDpbLi4uZixQXS5tYXAoTz0+Ty50b1N0cmluZygpKSx2YWx1ZTpMfSxNKS50aGVuKExlKX0sYXBwbHkoUyxQLGspe3Z0KG0pO2NvbnN0IEw9ZltmLmxlbmd0aC0xXTtpZihMPT09YmUpcmV0dXJuIEtlKGQse3R5cGU6IkVORFBPSU5UIn0pLnRoZW4oTGUpO2lmKEw9PT0iYmluZCIpcmV0dXJuIHJyKGQsZi5zbGljZSgwLC0xKSk7Y29uc3RbTSxPXT1OcihrKTtyZXR1cm4gS2UoZCx7dHlwZToiQVBQTFkiLHBhdGg6Zi5tYXAoVz0+Vy50b1N0cmluZygpKSxhcmd1bWVudExpc3Q6TX0sTykudGhlbihMZSl9LGNvbnN0cnVjdChTLFApe3Z0KG0pO2NvbnN0W2ssTF09TnIoUCk7cmV0dXJuIEtlKGQse3R5cGU6IkNPTlNUUlVDVCIscGF0aDpmLm1hcChNPT5NLnRvU3RyaW5nKCkpLGFyZ3VtZW50TGlzdDprfSxMKS50aGVuKExlKX19KTtyZXR1cm4gdn1mdW5jdGlvbiB3YShkKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxkKX1mdW5jdGlvbiBOcihkKXtjb25zdCBmPWQubWFwKGFyKTtyZXR1cm5bZi5tYXAoaT0+aVswXSksd2EoZi5tYXAoaT0+aVsxXSkpXX1jb25zdCBPcj1uZXcgV2Vha01hcDtmdW5jdGlvbiB4YShkLGYpe3JldHVybiBPci5zZXQoZCxmKSxkfWZ1bmN0aW9uIG5yKGQpe3JldHVybiBPYmplY3QuYXNzaWduKGQse1tUZV06ITB9KX1mdW5jdGlvbiBhcihkKXtmb3IoY29uc3RbZixpXW9mIGVyKWlmKGkuY2FuSGFuZGxlKGQpKXtjb25zdFttLHZdPWkuc2VyaWFsaXplKGQpO3JldHVyblt7dHlwZToiSEFORExFUiIsbmFtZTpmLHZhbHVlOm19LHZdfXJldHVyblt7dHlwZToiUkFXIix2YWx1ZTpkfSxPci5nZXQoZCl8fFtdXX1mdW5jdGlvbiBMZShkKXtzd2l0Y2goZC50eXBlKXtjYXNlIkhBTkRMRVIiOnJldHVybiBlci5nZXQoZC5uYW1lKS5kZXNlcmlhbGl6ZShkLnZhbHVlKTtjYXNlIlJBVyI6cmV0dXJuIGQudmFsdWV9fWZ1bmN0aW9uIEtlKGQsZixpKXtyZXR1cm4gbmV3IFByb21pc2UobT0+e2NvbnN0IHY9U2EoKTtkLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uIFMoUCl7IVAuZGF0YXx8IVAuZGF0YS5pZHx8UC5kYXRhLmlkIT09dnx8KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsUyksbShQLmRhdGEpKX0pLGQuc3RhcnQmJmQuc3RhcnQoKSxkLnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oe2lkOnZ9LGYpLGkpfSl9ZnVuY3Rpb24gU2EoKXtyZXR1cm4gbmV3IEFycmF5KDQpLmZpbGwoMCkubWFwKCgpPT5NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpLnRvU3RyaW5nKDE2KSkuam9pbigiLSIpfWNvbnN0IEJyPSgpPT57dHJ5e3JldHVybiBuZXcgRXZlbnRUYXJnZXR9Y2F0Y2h7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKX19O2NsYXNzIFhle2NvbnN0cnVjdG9yKCl7QSh0aGlzLCJfZW1pdHRlciIsQnIoKSl9YWRkRXZlbnRMaXN0ZW5lcihmLGksbSl7dGhpcy5fZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKGYsaSxtKX1yZW1vdmVFdmVudExpc3RlbmVyKGYsaSxtKXt0aGlzLl9lbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZixpLG0pfWRpc3BhdGNoRXZlbnQoZil7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuZGlzcGF0Y2hFdmVudChmKX1yZW1vdmVBbGxFdmVudExpc3RlbmVycygpe3RoaXMuX2VtaXR0ZXI9QnIoKX19Y29uc3Qgd3Q9Y2xhc3MgZXh0ZW5kcyBYZXtjb25zdHJ1Y3RvcihpPTEpe3N1cGVyKCk7QSh0aGlzLCJfbGltaXQiKTtBKHRoaXMsIl9pdGVtcyIsW10pO3RoaXMuX2xpbWl0PWl9dGFrZSgpe3JldHVybiB0aGlzLl9pdGVtcy5zaGlmdCgpfXB1dChpKXtpZih0aGlzLl9pdGVtcy5sZW5ndGg+PXRoaXMuX2xpbWl0KXtjb25zdCBtPXRoaXMudGFrZSgpO3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQod3QuRElTQ0FSREVEX0VWRU5ULHtkZXRhaWw6bX0pKX10aGlzLl9pdGVtcy5wdXNoKGkpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQod3QuRU1FUkdFRF9FVkVOVCx7ZGV0YWlsOml9KSl9fTtsZXQgZmU9d3Q7QShmZSwiRU1FUkdFRF9FVkVOVCIsImVtZXJnZWQiKSxBKGZlLCJESVNDQVJERURfRVZFTlQiLCJkaXNjYXJkZWQiKTtsZXQgVGE9MDtjb25zdCB6cj0oKT0+VGErKyxWcj0iS0daMWJtTjBhVzl1S0NsN0luVnpaU0J6ZEhKcFkzUWlPMkZrWkVWMlpXNTBUR2x6ZEdWdVpYSW9JbTFsYzNOaFoyVWlMQ2g3WkdGMFlUcDBmU2s5UG50amIyNXpkQ0J6UFh0cFpEcDBMbWxrZlR0elpYUlVhVzFsYjNWMEtIQnZjM1JOWlhOellXZGxMSFF1ZEdsdFpXOTFkQ3h6S1gwcGZTa29LVHNLIixXcj10eXBlb2Ygd2luZG93PCJ1IiYmd2luZG93LkJsb2ImJm5ldyBCbG9iKFthdG9iKFZyKV0se3R5cGU6InRleHQvamF2YXNjcmlwdDtjaGFyc2V0PXV0Zi04In0pO2Z1bmN0aW9uIENhKCl7Y29uc3QgZD1XciYmKHdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwpLmNyZWF0ZU9iamVjdFVSTChXcik7dHJ5e3JldHVybiBkP25ldyBXb3JrZXIoZCk6bmV3IFdvcmtlcigiZGF0YTphcHBsaWNhdGlvbi9qYXZhc2NyaXB0O2Jhc2U2NCwiK1ZyKX1maW5hbGx5e2QmJih3aW5kb3cuVVJMfHx3aW5kb3cud2Via2l0VVJMKS5yZXZva2VPYmplY3RVUkwoZCl9fWxldCBidDtjb25zdCBpcj1uZXcgTWFwLFVyPShkLGYpPT57Y29uc3QgaT16cigpLG09e2lkOmksdGltZW91dDpmfTtyZXR1cm4gaXIuc2V0KG0uaWQsZCksYnR8fChidD1uZXcgQ2EsYnQub25tZXNzYWdlPSh7ZGF0YTp2fSk9Pntjb25zdCBTPWlyLmdldCh2LmlkKTtpci5kZWxldGUodi5pZCksUygpfSksYnQucG9zdE1lc3NhZ2UobSksaX0sR3I9MWUzLzYwLF90PVtdO2xldCBLcj0wO2NvbnN0IFhyPWQ9Pntjb25zdCBmPXpyKCk7aWYoX3QubGVuZ3RoPT09MCl7Y29uc3QgaT1wZXJmb3JtYW5jZS5ub3coKSxtPUdyLShpLUtyKSVHcjtVcigoKT0+e2NvbnN0IHY9S3I9cGVyZm9ybWFuY2Uubm93KCksUz1bLi4uX3RdO190Lmxlbmd0aD0wLFMuZm9yRWFjaChQPT5QKHYpKX0sbSl9cmV0dXJuIF90LnB1c2goZCksZn07dmFyIGthPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHNldFRpbWVvdXQ6VXIscmVxdWVzdEFuaW1hdGlvbkZyYW1lOlhyfSk7Y29uc3QgUGE9KC4uLmQpPT53aW5kb3cuc2V0VGltZW91dCguLi5kKSxFdD1uZXcgTWFwLERhPWQ9Pntjb25zdCBmPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKC4uLmkpPT57RXQuZGVsZXRlKGYpLGQoLi4uaSl9KTtyZXR1cm4gRXQuc2V0KGYsZCksZn07dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsKCk9Pntkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUhPT0idmlzaWJsZSImJkV0LmZvckVhY2goKGQsZik9PntFdC5kZWxldGUoZiksY2FuY2VsQW5pbWF0aW9uRnJhbWUoZiksWHIoZCl9KX0pO3ZhciBGYT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzZXRUaW1lb3V0OlBhLHJlcXVlc3RBbmltYXRpb25GcmFtZTpEYX0pO2NvbnN0IE1hPXR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQ6e3Zpc2liaWxpdHlTdGF0ZToiaGlkZGVuIn0sWXI9KCk9Pk1hLnZpc2liaWxpdHlTdGF0ZT09PSJ2aXNpYmxlIj9GYTprYSxxZT1kPT5ZcigpLnJlcXVlc3RBbmltYXRpb25GcmFtZShkKSxMYT0oZCxmKT0+WXIoKS5zZXRUaW1lb3V0KGQsZiksWnI9ZD0+UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKSxSYT0oKT0+bmV3IFByb21pc2UoZD0+cWUoZCkpLEFhPShkPS0xKT0+ZnVuY3Rpb24oZixpLG0pe2NvbnN0IHY9bSxTPXYudmFsdWU7cmV0dXJuey4uLnYsdmFsdWU6YXN5bmMgZnVuY3Rpb24qKC4uLlApe2NvbnN0IGs9Uy5hcHBseSh0aGlzLFApO2xldCBMPTAsTT0wO2Zvcig7Oyl7Y29uc3QgTz0xZTMvZCxXPS4xKk87Zm9yKDsoTT1wZXJmb3JtYW5jZS5ub3coKSktTDxPLVc7KWF3YWl0IFJhKCk7TD1NO2NvbnN0e2RvbmU6Wix2YWx1ZTphZX09YXdhaXQgay5uZXh0KCk7aWYoWilyZXR1cm4gYWU7Y29uc3QgUT15aWVsZCBhZTt0eXBlb2YgUTwidSImJihkPVEpfX19fSxIcj0oZD0zMDAsZj0xNTApPT57bGV0IGk7cmV0dXJuIHR5cGVvZiBPZmZzY3JlZW5DYW52YXM+InUiPyhpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGkud2lkdGg9ZCxpLmhlaWdodD1mKTppPW5ldyBPZmZzY3JlZW5DYW52YXMoZCxmKSxpfSxqYT0oZCxmPXt9KT0+e2NvbnN0IGk9ZHx8SHIoKSxtPWkuZ2V0Q29udGV4dCgiMmQiLGYpO3JldHVybntnZXQgd2lkdGgoKXtyZXR1cm4gaS53aWR0aH0sZ2V0IGhlaWdodCgpe3JldHVybiBpLmhlaWdodH0sZ2V0IGZvcm1hdCgpe3JldHVybiJSR0JBIn0sZHJhd0ltYWdlOmFzeW5jKHYsUyxQLGssTCk9Pnt2YXIgTSxPO2kud2lkdGg9KE09di52aWRlb1dpZHRoKSE9bnVsbD9NOnYud2lkdGgsaS5oZWlnaHQ9KE89di52aWRlb0hlaWdodCkhPW51bGw/Tzp2LmhlaWdodCxtLnNhdmUoKSxtLnRyYW5zbGF0ZShTLFApLG0uc2NhbGUoTWF0aC5zaWduKGspLE1hdGguc2lnbihMKSksdiBpbnN0YW5jZW9mIEltYWdlRGF0YT9tLnB1dEltYWdlRGF0YSh2LFMsUCk6bS5kcmF3SW1hZ2UodiwwLDAsTWF0aC5hYnMoayksTWF0aC5hYnMoTCkpLG0ucmVzdG9yZSgpfSxnZXRJbWFnZURhdGE6YXN5bmModixTLFAsayxMKT0+e2NvbnN0e3dpZHRoOk0saGVpZ2h0Ok8sZGF0YTpXfT1tLmdldEltYWdlRGF0YSh2LFMsUCxrKTtyZXR1cm4gTC5zZXQoVykse3dpZHRoOk0saGVpZ2h0Ok8sZGF0YTpMLGZvcm1hdDoiUkdCQSJ9fSxhc3luYyBjcmVhdGVJbWFnZUJpdG1hcCgpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChpKX0sZGlzcG9zZTooKT0+e319fTt2YXIgSWE9YCN2ZXJzaW9uIDMwMCBlcwojZGVmaW5lIEdMU0xJRlkgMQp1bmlmb3JtIHZlYzIgdV9zY2FsZTtvdXQgdmVjMiB2X3RleF91djt2b2lkIG1haW4oKXtmbG9hdCB4PS0xLjArZmxvYXQoKGdsX1ZlcnRleElEJjEpPDwyKTtmbG9hdCB5PS0xLjArZmxvYXQoKGdsX1ZlcnRleElEJjIpPDwxKTt2X3RleF91di54PSh4KzEuMCkqMC41O3ZfdGV4X3V2Lnk9KHkrMS4wKSowLjU7Z2xfUG9zaXRpb249dmVjNCh4LHksMCwxKTtnbF9Qb3NpdGlvbi54eSo9dV9zY2FsZTt9YCxOYT1gI3ZlcnNpb24gMzAwIGVzCnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OwojZGVmaW5lIEdMU0xJRlkgMQppbiB2ZWMyIHZfdGV4X3V2O3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtsYXlvdXQobG9jYXRpb249MClvdXQgdmVjNCBmcmFnQ29sb3IwO2xheW91dChsb2NhdGlvbj0xKW91dCB2ZWM0IGZyYWdDb2xvcjE7dm9pZCBtYWluKCl7ZnJhZ0NvbG9yMD10ZXh0dXJlKHVfdGV4dHVyZSx2ZWMyKHZfdGV4X3V2LngsMS4tdl90ZXhfdXYueSkpO2ZyYWdDb2xvcjE9dGV4dHVyZSh1X3RleHR1cmUsdl90ZXhfdXYpO31gO2NvbnN0IE9hPShkLGYsaSk9Pntjb25zdCBtPWQuY3JlYXRlUHJvZ3JhbSgpO3JldHVybiBkLmF0dGFjaFNoYWRlcihtLGYpLGQuYXR0YWNoU2hhZGVyKG0saSksZC5saW5rUHJvZ3JhbShtKSxkLnVzZVByb2dyYW0obSksbX0sJHI9KGQsZixpKT0+e2NvbnN0IG09ZC5jcmVhdGVTaGFkZXIoZik7cmV0dXJuIGQuc2hhZGVyU291cmNlKG0saSksZC5jb21waWxlU2hhZGVyKG0pLG19LEJhPWQ9Pntjb25zdCBmPWQuY3JlYXRlVGV4dHVyZSgpO3JldHVybiBkLmJpbmRUZXh0dXJlKGQuVEVYVFVSRV8yRCxmKSxkLnRleEltYWdlMkQoZC5URVhUVVJFXzJELDAsZC5SR0IsMSwxLDAsZC5SR0IsZC5VTlNJR05FRF9CWVRFLG51bGwpLGQudGV4UGFyYW1ldGVyaShkLlRFWFRVUkVfMkQsZC5URVhUVVJFX1dSQVBfUyxkLkNMQU1QX1RPX0VER0UpLGQudGV4UGFyYW1ldGVyaShkLlRFWFRVUkVfMkQsZC5URVhUVVJFX1dSQVBfVCxkLkNMQU1QX1RPX0VER0UpLGQudGV4UGFyYW1ldGVyaShkLlRFWFRVUkVfMkQsZC5URVhUVVJFX01JTl9GSUxURVIsZC5ORUFSRVNUKSxkLnRleFBhcmFtZXRlcmkoZC5URVhUVVJFXzJELGQuVEVYVFVSRV9NQUdfRklMVEVSLGQuTElORUFSKSxkLmJpbmRUZXh0dXJlKGQuVEVYVFVSRV8yRCxudWxsKSxmfSxRcj1kPT57Y29uc3QgZj1kLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiBkLmJpbmRSZW5kZXJidWZmZXIoZC5SRU5ERVJCVUZGRVIsZiksZC5yZW5kZXJidWZmZXJTdG9yYWdlKGQuUkVOREVSQlVGRkVSLGQuUkdCOCwxLDEpLGQuYmluZFJlbmRlcmJ1ZmZlcihkLlJFTkRFUkJVRkZFUixudWxsKSxmfSx6YT0oZCxmKT0+e2NvbnN0IGk9ZC5jbGllbnRXYWl0U3luYyhmLDAsMCk7aWYoaT09PWQuV0FJVF9GQUlMRUQpdGhyb3cgbmV3IEVycm9yKCJHUFUgb3BlcmF0aW9ucyBjb21wbGV0ZSB3YWl0IGZhaWxlZCIpO3JldHVybiBpPT09ZC5DT05ESVRJT05fU0FUSVNGSUVEfHxpPT09ZC5BTFJFQURZX1NJR05BTEVEfSxWYT1hc3luYyBkPT57Y29uc3QgZj1kLmZlbmNlU3luYyhkLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO2QuZmx1c2goKSxhd2FpdCBuZXcgUHJvbWlzZShpPT5mdW5jdGlvbiBtKCl7emEoZCxmKT9pKCk6TGEobSwyKX0oKSksZC5kZWxldGVTeW5jKGYpfSxXYT17YWxwaGE6ITAsYW50aWFsaWFzOiExLGRlcHRoOiExLGRlc3luY2hyb25pemVkOiExLHByZW11bHRpcGxpZWRBbHBoYTohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsc3RlbmNpbDohMX0sVWE9KGQsZj17fSk9Pntjb25zdCBpPWR8fEhyKCksbT1pLmdldENvbnRleHQoIndlYmdsMiIsey4uLldhLC4uLmZ9KTtpZihtPT1udWxsKXJldHVybiBudWxsO2NvbnN0IHY9JHIobSxtLlZFUlRFWF9TSEFERVIsSWEpLFM9JHIobSxtLkZSQUdNRU5UX1NIQURFUixOYSksUD1PYShtLHYsUyksaz1CYShtKSxMPVFyKG0pLE09UXIobSksTz1tLmNyZWF0ZUZyYW1lYnVmZmVyKCk7bS5iaW5kVGV4dHVyZShtLlRFWFRVUkVfMkQsayksbS5iaW5kRnJhbWVidWZmZXIobS5GUkFNRUJVRkZFUixPKSxtLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG0uRlJBTUVCVUZGRVIsbS5DT0xPUl9BVFRBQ0hNRU5UMCxtLlJFTkRFUkJVRkZFUixMKSxtLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG0uRlJBTUVCVUZGRVIsbS5DT0xPUl9BVFRBQ0hNRU5UMSxtLlJFTkRFUkJVRkZFUixNKSxtLmRyYXdCdWZmZXJzKFttLkNPTE9SX0FUVEFDSE1FTlQwLG0uQ09MT1JfQVRUQUNITUVOVDFdKTtjb25zdCBXPW0uY3JlYXRlQnVmZmVyKCk7bS5iaW5kQnVmZmVyKG0uUElYRUxfUEFDS19CVUZGRVIsVyksbS5idWZmZXJEYXRhKG0uUElYRUxfUEFDS19CVUZGRVIsMCxtLlNUUkVBTV9SRUFEKTtjb25zdCBaPW0uZ2V0VW5pZm9ybUxvY2F0aW9uKFAsInVfc2NhbGUiKTttLmRlbGV0ZVByb2dyYW0oUCksbS5kZWxldGVTaGFkZXIoUyksbS5kZWxldGVTaGFkZXIodik7Y29uc3QgYWU9bS5nZXRQYXJhbWV0ZXIobS5JTVBMRU1FTlRBVElPTl9DT0xPUl9SRUFEX0ZPUk1BVCksUT1tLmdldFBhcmFtZXRlcihtLklNUExFTUVOVEFUSU9OX0NPTE9SX1JFQURfVFlQRSksSD1hZT09PW0uUkdCPyJSR0IiOiJSR0JBIixZZT1ILmxlbmd0aDtIPT09IlJHQiImJm0ucGl4ZWxTdG9yZWkobS5QQUNLX0FMSUdOTUVOVCwxKTtsZXQgX2U7cmV0dXJue2dldCB3aWR0aCgpe3JldHVybiBtLmRyYXdpbmdCdWZmZXJXaWR0aH0sZ2V0IGhlaWdodCgpe3JldHVybiBtLmRyYXdpbmdCdWZmZXJIZWlnaHR9LGdldCBmb3JtYXQoKXtyZXR1cm4gSH0sYXN5bmMgZHJhd0ltYWdlKGl0LEllLGxlLG5lLHRlKXttLnRleEltYWdlMkQobS5URVhUVVJFXzJELDAsYWUsYWUsUSxpdCk7Y29uc3Qgb3Q9TWF0aC5zaWduKG5lKSxFZT1NYXRoLnNpZ24odGUpOyhaLnghPT1vdHx8Wi55IT09RWUpJiZtLnVuaWZvcm0yZnYoWixuZXcgRmxvYXQzMkFycmF5KFtaLng9b3QsWi55PUVlXSkpLG5lPDAmJihuZT1NYXRoLmFicyhuZSkpLHRlPDAmJih0ZT1NYXRoLmFicyh0ZSkpLChpLndpZHRoIT09bmV8fGkuaGVpZ2h0IT09dGUpJiYoaS53aWR0aD1uZSxpLmhlaWdodD10ZSxtLmJpbmRSZW5kZXJidWZmZXIobS5SRU5ERVJCVUZGRVIsTCksbS5yZW5kZXJidWZmZXJTdG9yYWdlKG0uUkVOREVSQlVGRkVSLG0uUkdCOCxpLndpZHRoLGkuaGVpZ2h0KSxtLmJpbmRSZW5kZXJidWZmZXIobS5SRU5ERVJCVUZGRVIsTSksbS5yZW5kZXJidWZmZXJTdG9yYWdlKG0uUkVOREVSQlVGRkVSLG0uUkdCOCxpLndpZHRoLGkuaGVpZ2h0KSxtLmJpbmRSZW5kZXJidWZmZXIobS5SRU5ERVJCVUZGRVIsbnVsbCksbS52aWV3cG9ydCgwLDAsaS53aWR0aCxpLmhlaWdodCkpLG0uZHJhd0FycmF5cyhtLlRSSUFOR0xFUywwLDMpLG0uYmluZEZyYW1lYnVmZmVyKG0uRFJBV19GUkFNRUJVRkZFUixudWxsKSxtLmJsaXRGcmFtZWJ1ZmZlcigwLDAsbmUsdGUsMCwwLG5lLHRlLG0uQ09MT1JfQlVGRkVSX0JJVCxtLk5FQVJFU1QpLG0uYmluZEZyYW1lYnVmZmVyKG0uRFJBV19GUkFNRUJVRkZFUixPKX0sZ2V0SW1hZ2VEYXRhOmFzeW5jKGl0LEllLGxlLG5lLHRlKT0+KF9lIT09bGUqbmUqWWUmJm0uYnVmZmVyRGF0YShtLlBJWEVMX1BBQ0tfQlVGRkVSLF9lPWxlKm5lKlllLG0uU1RSRUFNX1JFQUQpLG0ucmVhZEJ1ZmZlcihtLkNPTE9SX0FUVEFDSE1FTlQxKSxtLnJlYWRQaXhlbHMoaXQsSWUsbGUsbmUsYWUsUSwwKSxtLnJlYWRCdWZmZXIobS5DT0xPUl9BVFRBQ0hNRU5UMCksYXdhaXQgVmEobSksbS5nZXRCdWZmZXJTdWJEYXRhKG0uUElYRUxfUEFDS19CVUZGRVIsMCxuZXcgRGF0YVZpZXcodGUuYnVmZmVyKSx0ZS5ieXRlT2Zmc2V0LF9lKSx7d2lkdGg6bGUsaGVpZ2h0Om5lLGRhdGE6dGUsZm9ybWF0Okh9KSxhc3luYyBjcmVhdGVJbWFnZUJpdG1hcCgpe3JldHVybiBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChpKX0sZGlzcG9zZSgpe20uZGVsZXRlQnVmZmVyKFcpLG0uZGVsZXRlRnJhbWVidWZmZXIoTyksbS5kZWxldGVSZW5kZXJidWZmZXIoTSksbS5kZWxldGVSZW5kZXJidWZmZXIoTCksbS5kZWxldGVUZXh0dXJlKGspfX19LEdhPShkLGYpPT57bGV0IGk9VWEoZCxmKTtyZXR1cm4gaT09bnVsbCYmKGk9amEoZCxmKSksaX07dmFyIEthPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxYYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFlhPShkLGYsaSxtKT0+e2Zvcih2YXIgdj1tPjE/dm9pZCAwOm0/WGEoZixpKTpmLFM9ZC5sZW5ndGgtMSxQO1M+PTA7Uy0tKShQPWRbU10pJiYodj0obT9QKGYsaSx2KTpQKHYpKXx8dik7cmV0dXJuIG0mJnYmJkthKGYsaSx2KSx2fSxKcjtjbGFzcyBxcntjb25zdHJ1Y3Rvcigpe0EodGhpcywiX2VtaXR0ZXIiLG5ldyBYZSk7QSh0aGlzLCJfY29udmV5ZXIiLG5ldyBmZSk7QSh0aGlzLCJfaXNBY3RpdmUiLCEwKTt0aGlzLl9jb252ZXllci5hZGRFdmVudExpc3RlbmVyKCJkaXNjYXJkZWQiLCh7ZGV0YWlsOmZ9KT0+Zi5kYXRhLmNsb3NlKCkpfXB1c2goZil7dGhpcy5fY29udmV5ZXIucHV0KGYpfWFzeW5jKltKcj1TeW1ib2wuYXN5bmNJdGVyYXRvcl0oZil7Y29uc3QgaT1mJiZmLmFsbG9jYXRlO2lmKGkpe2NvbnN0IG09R2EoKTtmb3IoO3RoaXMuX2lzQWN0aXZlOyl7Y29uc3Qgdj10aGlzLl9jb252ZXllci50YWtlKCk7aWYodil7Y29uc3RbUyxQLGssTF09di5yZWN0LHtpbnB1dDpNPSJsaXZlIn09djttLmRyYXdJbWFnZSh2LmRhdGEsMCwwLHYud2lkdGgsdi5oZWlnaHQpO2NvbnN0IE89aShrKkwqbS5mb3JtYXQubGVuZ3RoKTt5aWVsZHsuLi5hd2FpdCBtLmdldEltYWdlRGF0YShTLFAsayxMLE8pLGlucHV0Ok19fWVsc2UgYXdhaXQgbmV3IFByb21pc2UoUz0+e3RoaXMuX2NvbnZleWVyLmFkZEV2ZW50TGlzdGVuZXIoImVtZXJnZWQiLFMse29uY2U6ITB9KSx0aGlzLl9lbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIoImVuZGVkIixTLHtvbmNlOiEwfSl9KS50aGVuKCgpPT57dGhpcy5fZW1pdHRlci5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpfSl9bS5kaXNwb3NlKCl9ZWxzZSBmb3IoO3RoaXMuX2lzQWN0aXZlOyl7Y29uc3QgbT10aGlzLl9jb252ZXllci50YWtlKCk7bT95aWVsZCBtOmF3YWl0IG5ldyBQcm9taXNlKHY9Pnt0aGlzLl9jb252ZXllci5hZGRFdmVudExpc3RlbmVyKCJlbWVyZ2VkIix2LHtvbmNlOiEwfSksdGhpcy5fZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKCJlbmRlZCIsdix7b25jZTohMH0pfSkudGhlbigoKT0+e3RoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKX0pfX1zdG9wKCl7dGhpcy5faXNBY3RpdmU9ITEsdGhpcy5fZW1pdHRlci5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiZW5kZWQiKSksdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpLHRoaXMuX2NvbnZleWVyLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCl9fVlhKFtBYSgzMCldLHFyLnByb3RvdHlwZSxKciwxKTtjb25zdCBaYT0oZCxmLGkpPT5mZXRjaChkLGYpLnRoZW4obT0+e2lmKCFtLmJvZHkpcmV0dXJuIG07bGV0IHY9MDtjb25zdCBTPU51bWJlcihtLmhlYWRlcnMuZ2V0KCJjb250ZW50LWxlbmd0aCIpfHwwKSxQPW0uYm9keS5nZXRSZWFkZXIoKTtyZXR1cm4gbmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSh7YXN5bmMgc3RhcnQoayl7dmFyIEw7Zm9yKDs7KXtjb25zdHtkb25lOk0sdmFsdWU6T309YXdhaXQgUC5yZWFkKCk7aWYoTT92PVM6dis9Ty5ieXRlTGVuZ3RoLChMPWk9PW51bGw/dm9pZCAwOmkub25Qcm9ncmVzcyk9PW51bGx8fEwuY2FsbChpLHt0b3RhbDpTLHRyYW5zZmVycmVkOnZ9KSxNKWJyZWFrO2suZW5xdWV1ZShPKX1rLmNsb3NlKCl9fSksbSl9KTtsZXQgSGE9InVzZWFuZG9tLTI2VDE5ODM0MFBYNzVweEpBQ0tWRVJZTUlOREJVU0hXT0xGX0dRWmJmZ2hqa2xxdnd5enJpY3QiLGVuPShkPTIxKT0+e2xldCBmPSIiLGk9ZDtmb3IoO2ktLTspZis9SGFbTWF0aC5yYW5kb20oKSo2NHwwXTtyZXR1cm4gZn07Y29uc3QgdG49IktHWjFibU4wYVc5dUtDbDdJblZ6WlNCemRISnBZM1FpTzNaaGNpQmpQVlZwYm5RNFFYSnlZWGtzZUQxVmFXNTBNVFpCY25KaGVTeEVQVlZwYm5Rek1rRnljbUY1TEVnOWJtVjNJR01vV3pBc01Dd3dMREFzTUN3d0xEQXNNQ3d4TERFc01Td3hMRElzTWl3eUxESXNNeXd6TERNc015dzBMRFFzTkN3MExEVXNOU3cxTERVc01Dd3dMREFzTUYwcExFazlibVYzSUdNb1d6QXNNQ3d3TERBc01Td3hMRElzTWl3ekxETXNOQ3cwTERVc05TdzJMRFlzTnl3M0xEZ3NPQ3c1TERrc01UQXNNVEFzTVRFc01URXNNVElzTVRJc01UTXNNVE1zTUN3d1hTa3NiREU5Ym1WM0lHTW9XekUyTERFM0xERTRMREFzT0N3M0xEa3NOaXd4TUN3MUxERXhMRFFzTVRJc015d3hNeXd5TERFMExERXNNVFZkS1N4S1BXWjFibU4wYVc5dUtISXNkQ2w3Wm05eUtIWmhjaUJoUFc1bGR5QjRLRE14S1N4dVBUQTdiand6TVRzcksyNHBZVnR1WFQxMEt6MHhQRHh5VzI0dE1WMDdabTl5S0haaGNpQjJQVzVsZHlCRUtHRmJNekJkS1N4dVBURTdiand6TURzcksyNHBabTl5S0haaGNpQnBQV0ZiYmwwN2FUeGhXMjRyTVYwN0t5dHBLWFpiYVYwOWFTMWhXMjVkUER3MWZHNDdjbVYwZFhKdVcyRXNkbDE5TEVzOVNpaElMRElwTEZFOVMxc3dYU3h6TVQxTFd6RmRPMUZiTWpoZFBUSTFPQ3h6TVZzeU5UaGRQVEk0TzJadmNpaDJZWElnWXpFOVNpaEpMREFwTEdReFBXTXhXekJkTEZVOWJtVjNJSGdvTXpJM05qZ3BMSFU5TUR0MVBETXlOelk0T3lzcmRTbDdkbUZ5SUZNOUtIVW1ORE0yT1RBcFBqNCtNWHdvZFNZeU1UZzBOU2s4UERFN1V6MG9VeVkxTWpReU9DaytQajR5ZkNoVEpqRXpNVEEzS1R3OE1peFRQU2hUSmpZeE5qZ3dLVDQrUGpSOEtGTW1NemcxTlNrOFBEUXNWVnQxWFQwb0tGTW1OalV5T0RBcFBqNCtPSHdvVXlZeU5UVXBQRHc0S1Q0K1BqRjlabTl5S0haaGNpQnJQV1oxYm1OMGFXOXVLSFFzWVN4dUtYdG1iM0lvZG1GeUlIWTlkQzVzWlc1bmRHZ3NhVDB3TEhNOWJtVjNJSGdvWVNrN2FUeDJPeXNyYVNsMFcybGRKaVlySzNOYmRGdHBYUzB4WFR0MllYSWdaajF1WlhjZ2VDaGhLVHRtYjNJb2FUMHdPMms4WVRzcksya3BabHRwWFQxbVcya3RNVjByYzF0cExURmRQRHd4TzNaaGNpQnZPMmxtS0c0cGUyODlibVYzSUhnb01UdzhZU2s3ZG1GeUlHVTlNVFV0WVR0bWIzSW9hVDB3TzJrOGRqc3JLMmtwYVdZb2RGdHBYU2xtYjNJb2RtRnlJR3c5YVR3OE5IeDBXMmxkTEdJOVlTMTBXMmxkTEdROVpsdDBXMmxkTFRGZEt5czhQR0lzZVQxa2ZDZ3hQRHhpS1MweE8yUThQWGs3S3l0a0tXOWJWVnRrWFQ0K1BtVmRQV3g5Wld4elpTQm1iM0lvYnoxdVpYY2dlQ2gyS1N4cFBUQTdhVHgyT3lzcmFTbDBXMmxkSmlZb2IxdHBYVDFWVzJaYmRGdHBYUzB4WFNzclhUNCtQakUxTFhSYmFWMHBPM0psZEhWeWJpQnZmU3hDUFc1bGR5QmpLREk0T0Nrc2RUMHdPM1U4TVRRME95c3JkU2xDVzNWZFBUZzdabTl5S0haaGNpQjFQVEUwTkR0MVBESTFOanNySzNVcFFsdDFYVDA1TzJadmNpaDJZWElnZFQweU5UWTdkVHd5T0RBN0t5dDFLVUpiZFYwOU56dG1iM0lvZG1GeUlIVTlNamd3TzNVOE1qZzRPeXNyZFNsQ1czVmRQVGc3Wm05eUtIWmhjaUJXUFc1bGR5QmpLRE15S1N4MVBUQTdkVHd6TWpzckszVXBWbHQxWFQwMU8zWmhjaUJvTVQxcktFSXNPU3d4S1N4bk1UMXJLRllzTlN3eEtTeFhQV1oxYm1OMGFXOXVLSElwZTJadmNpaDJZWElnZEQxeVd6QmRMR0U5TVR0aFBISXViR1Z1WjNSb095c3JZU2x5VzJGZFBuUW1KaWgwUFhKYllWMHBPM0psZEhWeWJpQjBmU3gzUFdaMWJtTjBhVzl1S0hJc2RDeGhLWHQyWVhJZ2JqMTBMemg4TUR0eVpYUjFjbTRvY2x0dVhYeHlXMjRyTVYwOFBEZ3BQajRvZENZM0tTWmhmU3hZUFdaMWJtTjBhVzl1S0hJc2RDbDdkbUZ5SUdFOWRDODRmREE3Y21WMGRYSnVLSEpiWVYxOGNsdGhLekZkUER3NGZISmJZU3N5WFR3OE1UWXBQajRvZENZM0tYMHNkekU5Wm5WdVkzUnBiMjRvY2lsN2NtVjBkWEp1S0hJck55a3ZPSHd3ZlN4cVBXWjFibU4wYVc5dUtISXNkQ3hoS1hzb2REMDliblZzYkh4OGREd3dLU1ltS0hROU1Da3NLR0U5UFc1MWJHeDhmR0UrY2k1c1pXNW5kR2dwSmlZb1lUMXlMbXhsYm1kMGFDazdkbUZ5SUc0OWJtVjNLSEl1UWxsVVJWTmZVRVZTWDBWTVJVMUZUbFE5UFRJL2VEcHlMa0paVkVWVFgxQkZVbDlGVEVWTlJVNVVQVDAwUDBRNll5a29ZUzEwS1R0eVpYUjFjbTRnYmk1elpYUW9jaTV6ZFdKaGNuSmhlU2gwTEdFcEtTeHVmU3h0TVQxYkluVnVaWGh3WldOMFpXUWdSVTlHSWl3aWFXNTJZV3hwWkNCaWJHOWpheUIwZVhCbElpd2lhVzUyWVd4cFpDQnNaVzVuZEdndmJHbDBaWEpoYkNJc0ltbHVkbUZzYVdRZ1pHbHpkR0Z1WTJVaUxDSnpkSEpsWVcwZ1ptbHVhWE5vWldRaUxDSnVieUJ6ZEhKbFlXMGdhR0Z1Wkd4bGNpSXNMQ0p1YnlCallXeHNZbUZqYXlJc0ltbHVkbUZzYVdRZ1ZWUkdMVGdnWkdGMFlTSXNJbVY0ZEhKaElHWnBaV3hrSUhSdmJ5QnNiMjVuSWl3aVpHRjBaU0J1YjNRZ2FXNGdjbUZ1WjJVZ01UazRNQzB5TURrNUlpd2labWxzWlc1aGJXVWdkRzl2SUd4dmJtY2lMQ0p6ZEhKbFlXMGdabWx1YVhOb2FXNW5JaXdpYVc1MllXeHBaQ0I2YVhBZ1pHRjBZU0pkTEdnOVpuVnVZM1JwYjI0b2NpeDBMR0VwZTNaaGNpQnVQVzVsZHlCRmNuSnZjaWgwZkh4dE1WdHlYU2s3YVdZb2JpNWpiMlJsUFhJc1JYSnliM0l1WTJGd2RIVnlaVk4wWVdOclZISmhZMlVtSmtWeWNtOXlMbU5oY0hSMWNtVlRkR0ZqYTFSeVlXTmxLRzRzYUNrc0lXRXBkR2h5YjNjZ2JqdHlaWFIxY200Z2JuMHNZakU5Wm5WdVkzUnBiMjRvY2l4MExHRXBlM1poY2lCdVBYSXViR1Z1WjNSb08ybG1LQ0Z1Zkh4aEppWmhMbVltSmlGaExtd3BjbVYwZFhKdUlIUjhmRzVsZHlCaktEQXBPM1poY2lCMlBTRjBmSHhoTEdrOUlXRjhmR0V1YVR0aGZId29ZVDE3ZlNrc2RIeDhLSFE5Ym1WM0lHTW9iaW96S1NrN2RtRnlJSE05Wm5WdVkzUnBiMjRvZFRFcGUzWmhjaUIyTVQxMExteGxibWQwYUR0cFppaDFNVDUyTVNsN2RtRnlJR1l4UFc1bGR5QmpLRTFoZEdndWJXRjRLSFl4S2pJc2RURXBLVHRtTVM1elpYUW9kQ2tzZEQxbU1YMTlMR1k5WVM1bWZId3dMRzg5WVM1d2ZId3dMR1U5WVM1aWZId3dMR3c5WVM1c0xHSTlZUzVrTEdROVlTNXRMSGs5WVM1dUxGSTliaW80TzJSdmUybG1LQ0ZzS1h0bVBYY29jaXh2TERFcE8zWmhjaUJaUFhjb2NpeHZLekVzTXlrN2FXWW9ieXM5TXl4WktXbG1LRms5UFRFcGJEMW9NU3hpUFdjeExHUTlPU3g1UFRVN1pXeHpaU0JwWmloWlBUMHlLWHQyWVhJZ1F6MTNLSElzYnl3ek1Ta3JNalUzTEhJeFBYY29jaXh2S3pFd0xERTFLU3MwTEhReFBVTXJkeWh5TEc4ck5Td3pNU2tyTVR0dkt6MHhORHRtYjNJb2RtRnlJRVk5Ym1WM0lHTW9kREVwTEVjOWJtVjNJR01vTVRrcExHYzlNRHRuUEhJeE95c3JaeWxIVzJ3eFcyZGRYVDEzS0hJc2J5dG5Lak1zTnlrN2J5czljakVxTXp0bWIzSW9kbUZ5SUdFeFBWY29SeWtzUWpFOUtERThQR0V4S1MweExGSXhQV3NvUnl4aE1Td3hLU3huUFRBN1p6eDBNVHNwZTNaaGNpQnVNVDFTTVZ0M0tISXNieXhDTVNsZE8yOHJQVzR4SmpFMU8zWmhjaUJ3UFc0eFBqNCtORHRwWmlod1BERTJLVVpiWnlzclhUMXdPMlZzYzJWN2RtRnlJSG85TUN4T1BUQTdabTl5S0hBOVBURTJQeWhPUFRNcmR5aHlMRzhzTXlrc2J5czlNaXg2UFVaYlp5MHhYU2s2Y0QwOU1UYy9LRTQ5TXl0M0tISXNieXczS1N4dkt6MHpLVHB3UFQweE9DWW1LRTQ5TVRFcmR5aHlMRzhzTVRJM0tTeHZLejAzS1R0T0xTMDdLVVpiWnlzclhUMTZmWDEyWVhJZ2FURTlSaTV6ZFdKaGNuSmhlU2d3TEVNcExGODlSaTV6ZFdKaGNuSmhlU2hES1R0a1BWY29hVEVwTEhrOVZ5aGZLU3hzUFdzb2FURXNaQ3d4S1N4aVBXc29YeXg1TERFcGZXVnNjMlVnYUNneEtUdGxiSE5sZTNaaGNpQndQWGN4S0c4cEt6UXNURDF5VzNBdE5GMThjbHR3TFROZFBEdzRMRm85Y0N0TU8ybG1LRm8rYmlsN2FTWW1hQ2d3S1R0aWNtVmhhMzEySmlaektHVXJUQ2tzZEM1elpYUW9jaTV6ZFdKaGNuSmhlU2h3TEZvcExHVXBMR0V1WWoxbEt6MU1MR0V1Y0QxdlBWb3FPQ3hoTG1ZOVpqdGpiMjUwYVc1MVpYMXBaaWh2UGxJcGUya21KbWdvTUNrN1luSmxZV3Q5ZlhZbUpuTW9aU3N4TXpFd056SXBPMlp2Y2loMllYSWdXVEU5S0RFOFBHUXBMVEVzUmpFOUtERThQSGtwTFRFc0pEMXZPenNrUFc4cGUzWmhjaUI2UFd4YldDaHlMRzhwSmxreFhTeFVQWG8rUGo0ME8ybG1LRzhyUFhvbU1UVXNiejVTS1h0cEppWm9LREFwTzJKeVpXRnJmV2xtS0hwOGZHZ29NaWtzVkR3eU5UWXBkRnRsS3l0ZFBWUTdaV3h6WlNCcFppaFVQVDB5TlRZcGV5UTlieXhzUFc1MWJHdzdZbkpsWVd0OVpXeHpaWHQyWVhJZ2J6RTlWQzB5TlRRN2FXWW9WRDR5TmpRcGUzWmhjaUJuUFZRdE1qVTNMRTA5U0Z0blhUdHZNVDEzS0hJc2J5d29NVHc4VFNrdE1Ta3JVVnRuWFN4dkt6MU5mWFpoY2lCUVBXSmJXQ2h5TEc4cEprWXhYU3hQUFZBK1BqNDBPMUI4Zkdnb015a3NieXM5VUNZeE5UdDJZWElnWHoxa01WdFBYVHRwWmloUFBqTXBlM1poY2lCTlBVbGJUMTA3WHlzOVdDaHlMRzhwSmlneFBEeE5LUzB4TEc4clBVMTlhV1lvYno1U0tYdHBKaVpvS0RBcE8ySnlaV0ZyZlhZbUpuTW9aU3N4TXpFd056SXBPMlp2Y2loMllYSWdaVEU5WlN0dk1UdGxQR1V4TzJVclBUUXBkRnRsWFQxMFcyVXRYMTBzZEZ0bEt6RmRQWFJiWlNzeExWOWRMSFJiWlNzeVhUMTBXMlVyTWkxZlhTeDBXMlVyTTEwOWRGdGxLek10WDEwN1pUMWxNWDE5WVM1c1BXd3NZUzV3UFNRc1lTNWlQV1VzWVM1bVBXWXNiQ1ltS0dZOU1TeGhMbTA5WkN4aExtUTlZaXhoTG00OWVTbDlkMmhwYkdVb0lXWXBPM0psZEhWeWJpQmxQVDEwTG14bGJtZDBhRDkwT21vb2RDd3dMR1VwZlN4NU1UMXVaWGNnWXlnd0tTeEZQV1oxYm1OMGFXOXVLSElzZENsN2NtVjBkWEp1SUhKYmRGMThjbHQwS3pGZFBEdzRmU3h0UFdaMWJtTjBhVzl1S0hJc2RDbDdjbVYwZFhKdUtISmJkRjE4Y2x0MEt6RmRQRHc0ZkhKYmRDc3lYVHc4TVRaOGNsdDBLek5kUER3eU5DaytQajR3ZlN4eFBXWjFibU4wYVc5dUtISXNkQ2w3Y21WMGRYSnVJRzBvY2l4MEtTdHRLSElzZENzMEtTbzBNamswT1RZM01qazJmVHRtZFc1amRHbHZiaUJGTVNoeUxIUXBlM0psZEhWeWJpQmlNU2h5TEhRcGZYWmhjaUJCUFhSNWNHVnZaaUJVWlhoMFJHVmpiMlJsY2p3aWRTSW1KbTVsZHlCVVpYaDBSR1ZqYjJSbGNpeHdNVDB3TzNSeWVYdEJMbVJsWTI5a1pTaDVNU3g3YzNSeVpXRnRPaUV3ZlNrc2NERTlNWDFqWVhSamFIdDlkbUZ5SUZNeFBXWjFibU4wYVc5dUtISXBlMlp2Y2loMllYSWdkRDBpSWl4aFBUQTdPeWw3ZG1GeUlHNDljbHRoS3l0ZExIWTlLRzQrTVRJM0tTc29iajR5TWpNcEt5aHVQakl6T1NrN2FXWW9ZU3QyUG5JdWJHVnVaM1JvS1hKbGRIVnlibHQwTEdvb2NpeGhMVEVwWFR0MlAzWTlQVE0vS0c0OUtDaHVKakUxS1R3OE1UaDhLSEpiWVNzclhTWTJNeWs4UERFeWZDaHlXMkVySzEwbU5qTXBQRHcyZkhKYllTc3JYU1kyTXlrdE5qVTFNellzZENzOVUzUnlhVzVuTG1aeWIyMURhR0Z5UTI5a1pTZzFOVEk1Tm54dVBqNHhNQ3cxTmpNeU1IeHVKakV3TWpNcEtUcDJKakUvZENzOVUzUnlhVzVuTG1aeWIyMURhR0Z5UTI5a1pTZ29iaVl6TVNrOFBEWjhjbHRoS3l0ZEpqWXpLVHAwS3oxVGRISnBibWN1Wm5KdmJVTm9ZWEpEYjJSbEtDaHVKakUxS1R3OE1USjhLSEpiWVNzclhTWTJNeWs4UERaOGNsdGhLeXRkSmpZektUcDBLejFUZEhKcGJtY3Vabkp2YlVOb1lYSkRiMlJsS0c0cGZYMDdablZ1WTNScGIyNGdRekVvY2l4MEtYdHBaaWgwS1h0bWIzSW9kbUZ5SUdFOUlpSXNiajB3TzI0OGNpNXNaVzVuZEdnN2JpczlNVFl6T0RRcFlTczlVM1J5YVc1bkxtWnliMjFEYUdGeVEyOWtaUzVoY0hCc2VTaHVkV3hzTEhJdWMzVmlZWEp5WVhrb2JpeHVLekUyTXpnMEtTazdjbVYwZFhKdUlHRjlaV3h6Wlh0cFppaEJLWEpsZEhWeWJpQkJMbVJsWTI5a1pTaHlLVHQyWVhJZ2RqMVRNU2h5S1N4cFBYWmJNRjBzY3oxMld6RmRPM0psZEhWeWJpQnpMbXhsYm1kMGFDWW1hQ2c0S1N4cGZYMTJZWElnWHpFOVpuVnVZM1JwYjI0b2NpeDBLWHR5WlhSMWNtNGdkQ3N6TUN0RktISXNkQ3N5TmlrclJTaHlMSFFyTWpncGZTeDRNVDFtZFc1amRHbHZiaWh5TEhRc1lTbDdkbUZ5SUc0OVJTaHlMSFFyTWpncExIWTlRekVvY2k1emRXSmhjbkpoZVNoMEt6UTJMSFFyTkRZcmJpa3NJU2hGS0hJc2RDczRLU1l5TURRNEtTa3NhVDEwS3pRMksyNHNjejF0S0hJc2RDc3lNQ2tzWmoxaEppWnpQVDAwTWprME9UWTNNamsxUDNveEtISXNhU2s2VzNNc2JTaHlMSFFyTWpRcExHMG9jaXgwS3pReUtWMHNiejFtV3pCZExHVTlabHN4WFN4c1BXWmJNbDA3Y21WMGRYSnVXMFVvY2l4MEt6RXdLU3h2TEdVc2RpeHBLMFVvY2l4MEt6TXdLU3RGS0hJc2RDc3pNaWtzYkYxOUxIb3hQV1oxYm1OMGFXOXVLSElzZENsN1ptOXlLRHRGS0hJc2RDa2hQVEU3ZENzOU5DdEZLSElzZENzeUtTazdjbVYwZFhKdVczRW9jaXgwS3pFeUtTeHhLSElzZENzMEtTeHhLSElzZENzeU1DbGRmVHRtZFc1amRHbHZiaUJVTVNoeUxIUXBlMlp2Y2loMllYSWdZVDE3ZlN4dVBYSXViR1Z1WjNSb0xUSXlPMjBvY2l4dUtTRTlNVEF4TURFd01qVTJPeTB0Ymlrb0lXNThmSEl1YkdWdVozUm9MVzQrTmpVMU5UZ3BKaVpvS0RFektUdDJZWElnZGoxRktISXNiaXM0S1R0cFppZ2hkaWx5WlhSMWNtNTdmVHQyWVhJZ2FUMXRLSElzYmlzeE5pa3NjejFwUFQwME1qazBPVFkzTWprMU8zTW1KaWh1UFcwb2NpeHVMVEV5S1N4dEtISXNiaWtoUFRFd01UQTNOVGM1TWlZbWFDZ3hNeWtzZGoxdEtISXNiaXN6TWlrc2FUMXRLSElzYmlzME9Da3BPMlp2Y2loMllYSWdaajEwSmlaMExtWnBiSFJsY2l4dlBUQTdiengyT3lzcmJ5bDdkbUZ5SUdVOWVERW9jaXhwTEhNcExHdzlaVnN3WFN4aVBXVmJNVjBzWkQxbFd6SmRMSGs5WlZzelhTeFNQV1ZiTkYwc1dUMWxXelZkTEVNOVh6RW9jaXhaS1R0cFBWSXNLQ0ZtZkh4bUtIdHVZVzFsT25rc2MybDZaVHBpTEc5eWFXZHBibUZzVTJsNlpUcGtMR052YlhCeVpYTnphVzl1T214OUtTa21KaWhzUDJ3OVBUZy9ZVnQ1WFQxRk1TaHlMbk4xWW1GeWNtRjVLRU1zUXl0aUtTeHVaWGNnWXloa0tTazZhQ2d4TkN3aWRXNXJibTkzYmlCamIyMXdjbVZ6YzJsdmJpQjBlWEJsSUNJcmJDazZZVnQ1WFQxcUtISXNReXhESzJJcEtYMXlaWFIxY200Z1lYMWpiMjV6ZENCck1UMXlQVDVVTVNoeUxIdG1hV3gwWlhJNktIdHVZVzFsT25Rc2MybDZaVHBoZlNrOVBpRW9ZVDA5UFRCOGZIUXVjM1JoY25SelYybDBhQ2dpWDE5TlFVTlBVMWd2SWlrcGZTazdZV1JrUlhabGJuUk1hWE4wWlc1bGNpZ2liV1Z6YzJGblpTSXNLSHRrWVhSaE9uSjlLVDArZTJ4bGRDQjBPM1J5ZVh0MFBYdHBaRHB5TG1sa0xHUmhkR0U2YXpFb2NpNWtZWFJoS1gxOVkyRjBZMmdvWVNsN2REMTdhV1E2Y2k1cFpDeGxjbkp2Y2pwaExtMWxjM05oWjJWOWZYQnZjM1JOWlhOellXZGxLSFFwZlNsOUtTZ3BPd289Iixybj10eXBlb2Ygd2luZG93PCJ1IiYmd2luZG93LkJsb2ImJm5ldyBCbG9iKFthdG9iKHRuKV0se3R5cGU6InRleHQvamF2YXNjcmlwdDtjaGFyc2V0PXV0Zi04In0pO2Z1bmN0aW9uICRhKCl7Y29uc3QgZD1ybiYmKHdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkwpLmNyZWF0ZU9iamVjdFVSTChybik7dHJ5e3JldHVybiBkP25ldyBXb3JrZXIoZCk6bmV3IFdvcmtlcigiZGF0YTphcHBsaWNhdGlvbi9qYXZhc2NyaXB0O2Jhc2U2NCwiK3RuKX1maW5hbGx5e2QmJih3aW5kb3cuVVJMfHx3aW5kb3cud2Via2l0VVJMKS5yZXZva2VPYmplY3RVUkwoZCl9fWxldCBldDtjb25zdCBRYT1hc3luYyBkPT5uZXcgUHJvbWlzZSgoZixpKT0+e2NvbnN0IG09ZW4oKSx2PW5ldyBVaW50OEFycmF5KGQpLFM9e2lkOm0sZGF0YTp2fTtldHx8KGV0PW5ldyAkYSk7Y29uc3QgUD0oe2RhdGE6a30pPT57ay5pZD09PVMuaWQmJihldC5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixQKSwiZXJyb3IiaW4gayYmaShuZXcgRXJyb3Ioay5lcnJvcikpLCJkYXRhImluIGsmJmYoay5kYXRhKSl9O2V0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLFApLGV0LnBvc3RNZXNzYWdlKFMsW2RdKX0pLG9yPSIvIjtjbGFzcyBubntjb25zdHJ1Y3RvcihmKXtBKHRoaXMsIl9zb3VyY2UiLG51bGwpO0EodGhpcywiX2ZzIixudWxsKTtBKHRoaXMsIl9tb3VudHBvaW50Iixvcik7QSh0aGlzLCJfZGF0YSIse30pO3RoaXMuX3NvdXJjZT1mfXN0YXRpYyBhc3luYyBwcmVsb2FkKGYsaSl7aWYoQXJyYXkuaXNBcnJheShmKSl7Y29uc3Qgdj1pPT1udWxsP3ZvaWQgMDppLm9uUHJvZ3Jlc3M7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKGYubWFwKChTLFApPT57Y29uc3Qgaz12P3tvblByb2dyZXNzOiguLi5MKT0+dihQLC4uLkwpfTp7fTtyZXR1cm4gdGhpcy5wcmVsb2FkKFMsayl9KSl9Y29uc3QgbT1uZXcgdGhpcyhmKTtyZXR1cm4gYXdhaXQgbS5sb2FkKGkpLG19YXN5bmMgX2ZldGNoKGYsaSl7cmV0dXJuIGF3YWl0IFphKGYse30saSkudGhlbihtPT57aWYobS5vaylyZXR1cm4gbS5ibG9iKCk7dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHtmLnVybH0gJHttLnN0YXR1c30gKCR7bS5zdGF0dXNUZXh0fSlgKX0pLnRoZW4obT0+e2lmKG0uc2l6ZT4wKXJldHVybiBtO3Rocm93IG5ldyBFcnJvcihgVGhlIHNvdXJjZSBtdXN0IG5vdCBiZSBlbXB0eS4gUmVjZWl2ZWQgJHttLnNpemV9IGJ5dGVzIHNpemUgc291cmNlLmApfSl9YXN5bmMgX3VuemlwKGYpe2lmKCFmLnR5cGUuaW5jbHVkZXMoInppcCIpKXRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBzb3VyY2UgdHlwZSBtdXN0IGJlICJhcHBsaWNhdGlvbi96aXAiLWxpa2UuIFJlY2VpdmVkOiAiJHtmLnR5cGV9Ii5gKTtyZXR1cm4gYXdhaXQgYW4oZikudGhlbihRYSkudGhlbihpPT5PYmplY3QuZW50cmllcyhpKSkudGhlbihpPT5PYmplY3QuZnJvbUVudHJpZXMoaSkpfWFzeW5jIGxvYWQoZil7bGV0IGk9dGhpcy5fc291cmNlO3JldHVybiB0eXBlb2YgaT09InN0cmluZyImJihpPW5ldyBSZXF1ZXN0KGkpKSxpIGluc3RhbmNlb2YgUmVxdWVzdCYmKGk9YXdhaXQgdGhpcy5fZmV0Y2goaSxmKSksaSBpbnN0YW5jZW9mIEJsb2ImJihpPWF3YWl0IHRoaXMuX3VuemlwKGkpKSxpIGluc3RhbmNlb2YgT2JqZWN0JiZpLmNvbnN0cnVjdG9yPT09T2JqZWN0JiZhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyhpKS5tYXAoKFttLHZdKT0+dGhpcy53cml0ZUZpbGUobSx2KSkpLHRoaXMuX3NvdXJjZT1udWxsLHRoaXMuX2RhdGF9X2ZzV3JpdGVGaWxlKGYsaSl7IXRoaXMuX2ZzfHwoZj1gJHt0aGlzLl9tb3VudHBvaW50fSR7Zi5zdGFydHNXaXRoKCIvIik/Zi5zdWJzdHJpbmcoMSk6Zn1gLHRoaXMuX2ZzLndyaXRlRmlsZShmLGkpKX1hc3luYyB3cml0ZUZpbGUoZixpKXtjb25zdCBtPW5ldyBVaW50OEFycmF5KGkgaW5zdGFuY2VvZiBCbG9iP2F3YWl0IGFuKGkpOmkpO3RoaXMuX2RhdGFbZl09bSx0aGlzLl9mc1dyaXRlRmlsZShmLHRoaXMuX2RhdGFbZl0pfW1vdW50KGYsaT1vcil7dGhpcy5fZnM9Zix0aGlzLl9tb3VudHBvaW50PWkuZW5kc1dpdGgoIi8iKT9pOmAke2l9L2AsT2JqZWN0LmVudHJpZXModGhpcy5fZGF0YSkuZm9yRWFjaCgoW20sdl0pPT50aGlzLl9mc1dyaXRlRmlsZShtLHYpKX11bm1vdW50KCl7dGhpcy5fZnM9bnVsbCx0aGlzLl9tb3VudHBvaW50PW9yfX1mdW5jdGlvbiBhbihkKXtyZXR1cm4iYXJyYXlCdWZmZXIiaW4gZD9kLmFycmF5QnVmZmVyKCk6bmV3IFByb21pc2UoZj0+e2NvbnN0IGk9bmV3IEZpbGVSZWFkZXI7aS5vbmxvYWQ9KCk9PmYoaS5yZXN1bHQpLGkucmVhZEFzQXJyYXlCdWZmZXIoZCl9KX1jbGFzcyBKYXtjb25zdHJ1Y3RvcihmKXtBKHRoaXMsIl9yZXNvdXJjZSIpO3RoaXMuX3Jlc291cmNlPW5ldyBubihmKX1zdGF0aWMgYXN5bmMgcHJlbG9hZChmLGkpe2lmKEFycmF5LmlzQXJyYXkoZikpe2NvbnN0IHY9aT09bnVsbD92b2lkIDA6aS5vblByb2dyZXNzO3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChmLm1hcCgoUyxQKT0+e2NvbnN0IGs9dj97b25Qcm9ncmVzczooLi4uTCk9PnYoUCwuLi5MKX06e307cmV0dXJuIHRoaXMucHJlbG9hZChTLGspfSkpfWNvbnN0IG09bmV3IHRoaXMoZik7cmV0dXJuIGF3YWl0IG0uX2xvYWQoaSksbX1hc3luYyBfbG9hZChmKXthd2FpdCB0aGlzLl9yZXNvdXJjZS5sb2FkKGYpfWFzeW5jIF9iaW5kKGYpe2F3YWl0IHRoaXMuX3Jlc291cmNlLmxvYWQoKSx0aGlzLl9yZXNvdXJjZS5tb3VudChmLkZTKX19dmFyIHFhPSgoKT0+e3ZhciBkPXR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwO3JldHVybiBmdW5jdGlvbihpKXtpPWl8fHt9O3ZhciBpPXR5cGVvZiBpPCJ1Ij9pOnt9LG0sdjtpLnJlYWR5PW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7bT1lLHY9dH0pLGkuZXhwZWN0ZWREYXRhRmlsZURvd25sb2Fkc3x8KGkuZXhwZWN0ZWREYXRhRmlsZURvd25sb2Fkcz0wKSxpLmV4cGVjdGVkRGF0YUZpbGVEb3dubG9hZHMrKyxmdW5jdGlvbigpe2lmKCFpLkVOVklST05NRU5UX0lTX1BUSFJFQUQpe3ZhciBlPWZ1bmN0aW9uKHQpe3R5cGVvZiB3aW5kb3c9PSJvYmplY3QiP3dpbmRvdy5lbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoIi8iKSkrIi8iKTp0eXBlb2YgcHJvY2Vzcz4idSImJnR5cGVvZiBsb2NhdGlvbjwidSImJmVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5wYXRobmFtZS50b1N0cmluZygpLnN1YnN0cmluZygwLGxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoIi8iKSkrIi8iKTt2YXIgcj0iQmFudWJhU0RLLmRhdGEiLG49IkJhbnViYVNESy5kYXRhIjt0eXBlb2YgaS5sb2NhdGVGaWxlUGFja2FnZT09ImZ1bmN0aW9uIiYmIWkubG9jYXRlRmlsZSYmKGkubG9jYXRlRmlsZT1pLmxvY2F0ZUZpbGVQYWNrYWdlLEgoIndhcm5pbmc6IHlvdSBkZWZpbmVkIE1vZHVsZS5sb2NhdGVGaWxlUGFja2FnZSwgdGhhdCBoYXMgYmVlbiByZW5hbWVkIHRvIE1vZHVsZS5sb2NhdGVGaWxlICh1c2luZyB5b3VyIGxvY2F0ZUZpbGVQYWNrYWdlIGZvciBub3cpIikpO3ZhciBhPWkubG9jYXRlRmlsZT9pLmxvY2F0ZUZpbGUobiwiIik6bixvPXQucmVtb3RlX3BhY2thZ2Vfc2l6ZTtmdW5jdGlvbiB1KGcsRSx5LFQpe3ZhciBGPW5ldyBYTUxIdHRwUmVxdWVzdDtGLm9wZW4oIkdFVCIsZywhMCksRi5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixGLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oUil7dmFyIGo9ZyxJPUU7aWYoUi50b3RhbCYmKEk9Ui50b3RhbCksUi5sb2FkZWQpe0YuYWRkZWRUb3RhbD9pLmRhdGFGaWxlRG93bmxvYWRzW2pdLmxvYWRlZD1SLmxvYWRlZDooRi5hZGRlZFRvdGFsPSEwLGkuZGF0YUZpbGVEb3dubG9hZHN8fChpLmRhdGFGaWxlRG93bmxvYWRzPXt9KSxpLmRhdGFGaWxlRG93bmxvYWRzW2pdPXtsb2FkZWQ6Ui5sb2FkZWQsdG90YWw6SX0pO3ZhciB4PTAsRD0wLE49MDtmb3IodmFyIFUgaW4gaS5kYXRhRmlsZURvd25sb2Fkcyl7dmFyIEs9aS5kYXRhRmlsZURvd25sb2Fkc1tVXTt4Kz1LLnRvdGFsLEQrPUsubG9hZGVkLE4rK314PU1hdGguY2VpbCh4KmkuZXhwZWN0ZWREYXRhRmlsZURvd25sb2Fkcy9OKSxpLnNldFN0YXR1cyYmaS5zZXRTdGF0dXMoIkRvd25sb2FkaW5nIGRhdGEuLi4gKCIrRCsiLyIreCsiKSIpfWVsc2UgaS5kYXRhRmlsZURvd25sb2Fkc3x8aS5zZXRTdGF0dXMmJmkuc2V0U3RhdHVzKCJEb3dubG9hZGluZyBkYXRhLi4uIil9LEYub25lcnJvcj1mdW5jdGlvbihSKXt0aHJvdyBuZXcgRXJyb3IoIk5ldHdvcmtFcnJvciBmb3I6ICIrZyl9LEYub25sb2FkPWZ1bmN0aW9uKFIpe2lmKEYuc3RhdHVzPT0yMDB8fEYuc3RhdHVzPT0zMDR8fEYuc3RhdHVzPT0yMDZ8fEYuc3RhdHVzPT0wJiZGLnJlc3BvbnNlKXt2YXIgaj1GLnJlc3BvbnNlO3koail9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoRi5zdGF0dXNUZXh0KyIgOiAiK0YucmVzcG9uc2VVUkwpfSxGLnNlbmQobnVsbCl9dmFyIGM9bnVsbCxsPWkuZ2V0UHJlbG9hZGVkUGFja2FnZT9pLmdldFByZWxvYWRlZFBhY2thZ2UoYSxvKTpudWxsO2x8fHUoYSxvLGZ1bmN0aW9uKGcpe2M/KGMoZyksYz1udWxsKTpsPWd9KTtmdW5jdGlvbiBoKCl7ZnVuY3Rpb24gZyhSLGope2lmKCFSKXRocm93IGorbmV3IEVycm9yKCkuc3RhY2t9aS5GU19jcmVhdGVQYXRoKCIvIiwiYm5iX2pzIiwhMCwhMCksaS5GU19jcmVhdGVQYXRoKCIvIiwiYm5iX3NoYWRlcnMiLCEwLCEwKSxpLkZTX2NyZWF0ZVBhdGgoIi9ibmJfc2hhZGVycyIsImJuYiIsITAsITApLGkuRlNfY3JlYXRlUGF0aCgiL2JuYl9zaGFkZXJzL2JuYiIsImxpYiIsITAsITApLGkuRlNfY3JlYXRlUGF0aCgiLyIsImZyeCIsITAsITApO2Z1bmN0aW9uIEUoUixqLEkpe3RoaXMuc3RhcnQ9Uix0aGlzLmVuZD1qLHRoaXMuYXVkaW89SX1FLnByb3RvdHlwZT17cmVxdWVzdHM6e30sb3BlbjpmdW5jdGlvbihSLGope3RoaXMubmFtZT1qLHRoaXMucmVxdWVzdHNbal09dGhpcyxpLmFkZFJ1bkRlcGVuZGVuY3koImZwICIrdGhpcy5uYW1lKX0sc2VuZDpmdW5jdGlvbigpe30sb25sb2FkOmZ1bmN0aW9uKCl7dmFyIFI9dGhpcy5ieXRlQXJyYXkuc3ViYXJyYXkodGhpcy5zdGFydCx0aGlzLmVuZCk7dGhpcy5maW5pc2goUil9LGZpbmlzaDpmdW5jdGlvbihSKXt2YXIgaj10aGlzO2kuRlNfY3JlYXRlRGF0YUZpbGUodGhpcy5uYW1lLG51bGwsUiwhMCwhMCwhMCksaS5yZW1vdmVSdW5EZXBlbmRlbmN5KCJmcCAiK2oubmFtZSksdGhpcy5yZXF1ZXN0c1t0aGlzLm5hbWVdPW51bGx9fTtmb3IodmFyIHk9dC5maWxlcyxUPTA7VDx5Lmxlbmd0aDsrK1QpbmV3IEUoeVtUXS5zdGFydCx5W1RdLmVuZCx5W1RdLmF1ZGlvfHwwKS5vcGVuKCJHRVQiLHlbVF0uZmlsZW5hbWUpO2Z1bmN0aW9uIEYoUil7ZyhSLCJMb2FkaW5nIGRhdGEgZmlsZSBmYWlsZWQuIiksZyhSLmNvbnN0cnVjdG9yLm5hbWU9PT1BcnJheUJ1ZmZlci5uYW1lLCJiYWQgaW5wdXQgdG8gcHJvY2Vzc1BhY2thZ2VEYXRhIik7dmFyIGo9bmV3IFVpbnQ4QXJyYXkoUik7RS5wcm90b3R5cGUuYnl0ZUFycmF5PWo7Zm9yKHZhciBJPXQuZmlsZXMseD0wO3g8SS5sZW5ndGg7Kyt4KUUucHJvdG90eXBlLnJlcXVlc3RzW0lbeF0uZmlsZW5hbWVdLm9ubG9hZCgpO2kucmVtb3ZlUnVuRGVwZW5kZW5jeSgiZGF0YWZpbGVfQmFudWJhU0RLLmRhdGEiKX1pLmFkZFJ1bkRlcGVuZGVuY3koImRhdGFmaWxlX0JhbnViYVNESy5kYXRhIiksaS5wcmVsb2FkUmVzdWx0c3x8KGkucHJlbG9hZFJlc3VsdHM9e30pLGkucHJlbG9hZFJlc3VsdHNbcl09e2Zyb21DYWNoZTohMX0sbD8oRihsKSxsPW51bGwpOmM9Rn1pLmNhbGxlZFJ1bj9oKCk6KGkucHJlUnVufHwoaS5wcmVSdW49W10pLGkucHJlUnVuLnB1c2goaCkpfTtlKHtmaWxlczpbe2ZpbGVuYW1lOiIvYm5iX2pzLy5lbXB0eSIsc3RhcnQ6MCxlbmQ6MjB9LHtmaWxlbmFtZToiL2JuYl9qcy9iYWNrZ3JvdW5kLmpzIixzdGFydDoyMCxlbmQ6MzM1M30se2ZpbGVuYW1lOiIvYm5iX2pzL2NvbnNvbGUuanMiLHN0YXJ0OjMzNTMsZW5kOjM5MTN9LHtmaWxlbmFtZToiL2JuYl9qcy9nbG9iYWwuanMiLHN0YXJ0OjM5MTMsZW5kOjQyOTR9LHtmaWxlbmFtZToiL2JuYl9qcy9sZWdhY3kuanMiLHN0YXJ0OjQyOTQsZW5kOjg1NzF9LHtmaWxlbmFtZToiL2JuYl9qcy9saWdodF9zdHJlYWtzLmpzIixzdGFydDo4NTcxLGVuZDoxODI3OH0se2ZpbGVuYW1lOiIvYm5iX2pzL3RpbWVycy5qcyIsc3RhcnQ6MTgyNzgsZW5kOjIxNTk3fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy8uZW1wdHkiLHN0YXJ0OjIxNTk3LGVuZDoyMTYxNn0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2FuaW1fdHJhbnNmb3JtLmdsc2wiLHN0YXJ0OjIxNjE2LGVuZDoyMTc3OX0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2NvbG9yX3NwYWNlcy5nbHNsIixzdGFydDoyMTc3OSxlbmQ6MjYwNzh9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9kZWNvZGVfaW50MTAxMDEwMi5nbHNsIixzdGFydDoyNjA3OCxlbmQ6MjY3Njd9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9nZXRfYm9uZS5nbHNsIixzdGFydDoyNjc2NyxlbmQ6MjcxODl9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9nZXRfdHJhbnNmb3JtLmdsc2wiLHN0YXJ0OjI3MTg5LGVuZDoyNzgyOH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2dsc2wuZnJhZyIsc3RhcnQ6Mjc4MjgsZW5kOjI4MzkwfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvZ2xzbC52ZXJ0IixzdGFydDoyODM5MCxlbmQ6MjkxNzF9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYXBwbHlfbGlnaHRfc3RyZWFrcy5mcmFnIixzdGFydDoyOTE3MSxlbmQ6Mjk0ODN9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYXBwbHlfbGlnaHRfc3RyZWFrcy52ZXJ0IixzdGFydDoyOTQ4MyxlbmQ6Mjk3MzJ9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYXV0b19tb3JwaC5mcmFnIixzdGFydDoyOTczMixlbmQ6Mjk4NDV9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYXV0b19tb3JwaC52ZXJ0IixzdGFydDoyOTg0NSxlbmQ6MzA0NTd9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYXV0b19tb3JwaF9maXNoZXllLmZyYWciLHN0YXJ0OjMwNDU3LGVuZDozMDU3MH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9hdXRvX21vcnBoX2Zpc2hleWUudmVydCIsc3RhcnQ6MzA1NzAsZW5kOjMxMDc3fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2JlYXV0eV9tb3JwaC5mcmFnIixzdGFydDozMTA3NyxlbmQ6MzExOTF9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYmVhdXR5X21vcnBoLnZlcnQiLHN0YXJ0OjMxMTkxLGVuZDozMjM0MH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9iZ19ibHVyX2Rvd25zY2FsZS5mcmFnIixzdGFydDozMjM0MCxlbmQ6MzMyMTR9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYmdfYmx1cl9kb3duc2NhbGUudmVydCIsc3RhcnQ6MzMyMTQsZW5kOjMzNDEzfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2JnX2JsdXJfdXBzY2FsZS5mcmFnIixzdGFydDozMzQxMyxlbmQ6MzQ0MDh9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvYmdfYmx1cl91cHNjYWxlLnZlcnQiLHN0YXJ0OjM0NDA4LGVuZDozNDc0M30se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9iZ19ibHVyX3Vwc2NhbGVfYXBwbHkuZnJhZyIsc3RhcnQ6MzQ3NDMsZW5kOjM1OTQ4fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2NhbWVyYS5mcmFnIixzdGFydDozNTk0OCxlbmQ6MzY1Mjl9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvY2FtZXJhLnZlcnQiLHN0YXJ0OjM2NTI5LGVuZDozNjg0OH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9jYW1lcmFfYmdtYXNrLmZyYWciLHN0YXJ0OjM2ODQ4LGVuZDozNzYwN30se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9jYW1lcmFfYmdtYXNrLnZlcnQiLHN0YXJ0OjM3NjA3LGVuZDozNzk5Nn0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9jb3B5X3BpeGVscy5mcmFnIixzdGFydDozNzk5NixlbmQ6MzgxNzB9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvY29weV9waXhlbHMudmVydCIsc3RhcnQ6MzgxNzAsZW5kOjM4NDE5fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzAuZnJhZyIsc3RhcnQ6Mzg0MTksZW5kOjM5NDA1fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzAudmVydCIsc3RhcnQ6Mzk0MDUsZW5kOjM5OTkwfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzEuZnJhZyIsc3RhcnQ6Mzk5OTAsZW5kOjQwOTc2fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzEudmVydCIsc3RhcnQ6NDA5NzYsZW5kOjQxNTYxfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzIuZnJhZyIsc3RhcnQ6NDE1NjEsZW5kOjQyNTQ3fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzIudmVydCIsc3RhcnQ6NDI1NDcsZW5kOjQzMTMyfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzMuZnJhZyIsc3RhcnQ6NDMxMzIsZW5kOjQ0MTE4fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2ZpbHRlcl9saWdodF9zdHJlYWtzXzMudmVydCIsc3RhcnQ6NDQxMTgsZW5kOjQ0NzAzfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2dsdGYuZnJhZyIsc3RhcnQ6NDQ3MDMsZW5kOjQ2OTkzfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2dsdGYudmVydCIsc3RhcnQ6NDY5OTMsZW5kOjQ4MjQyfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL2luaXRfbGlnaHRfc3RyZWFrcy5mcmFnIixzdGFydDo0ODI0MixlbmQ6NDg1NzJ9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvaW5pdF9saWdodF9zdHJlYWtzLnZlcnQiLHN0YXJ0OjQ4NTcyLGVuZDo0ODgyMX0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9tZXNoX21vcnBoLmZyYWciLHN0YXJ0OjQ4ODIxLGVuZDo0ODkzNX0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9tZXNoX21vcnBoLnZlcnQiLHN0YXJ0OjQ4OTM1LGVuZDo1MDgxOH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi9tb3JwaF9hcHBseS5mcmFnIixzdGFydDo1MDgxOCxlbmQ6NTExNjF9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvbW9ycGhfYXBwbHkudmVydCIsc3RhcnQ6NTExNjEsZW5kOjUzMzQzfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL21vcnBoX2JsdXIuZnJhZyIsc3RhcnQ6NTMzNDMsZW5kOjU0NjY2fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL21vcnBoX2JsdXIudmVydCIsc3RhcnQ6NTQ2NjYsZW5kOjU0OTkyfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL3JldG91Y2guZnJhZyIsc3RhcnQ6NTQ5OTIsZW5kOjU4Njk3fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL3JldG91Y2gudmVydCIsc3RhcnQ6NTg2OTcsZW5kOjU5MjU1fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL3N0YXRpY19wb3MuZnJhZyIsc3RhcnQ6NTkyNTUsZW5kOjU5MzY2fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL3N0YXRpY19wb3MudmVydCIsc3RhcnQ6NTkzNjYsZW5kOjU5NjMyfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbGliL3V2X21vcnBoLmZyYWciLHN0YXJ0OjU5NjMyLGVuZDo1OTc0NX0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi91dl9tb3JwaC52ZXJ0IixzdGFydDo1OTc0NSxlbmQ6NjAyNTJ9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9saWIvdmJnLmZyYWciLHN0YXJ0OjYwMjUyLGVuZDo2MTAwOH0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL2xpYi92YmcudmVydCIsc3RhcnQ6NjEwMDgsZW5kOjYyMDQ4fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbHV0Lmdsc2wiLHN0YXJ0OjYyMDQ4LGVuZDo2NjU3N30se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL21hdGguZ2xzbCIsc3RhcnQ6NjY1NzcsZW5kOjY2NTc3fSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbWF0cml4X29wZXJhdGlvbnMuZ2xzbCIsc3RhcnQ6NjY1NzcsZW5kOjY3MDYxfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvbW9ycGhfdHJhbnNmb3JtLmdsc2wiLHN0YXJ0OjY3MDYxLGVuZDo2ODExOX0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL3F1YXRfcm90YXRpb24uZ2xzbCIsc3RhcnQ6NjgxMTksZW5kOjY5NTEzfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvc2FtcGxlX2NhbWVyYS5nbHNsIixzdGFydDo2OTUxMyxlbmQ6NzA0NTB9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi9zYW1wbGVyc19kZWNsYXJhdGlvbi5nbHNsIixzdGFydDo3MDQ1MCxlbmQ6NzMxOTR9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi90ZXh0dXJlX2JpY3ViaWMuZ2xzbCIsc3RhcnQ6NzMxOTQsZW5kOjc0NTUyfSx7ZmlsZW5hbWU6Ii9ibmJfc2hhZGVycy9ibmIvdGV4dHVyZXNfbG9va3VwLmdsc2wiLHN0YXJ0Ojc0NTUyLGVuZDo3NTc1Mn0se2ZpbGVuYW1lOiIvYm5iX3NoYWRlcnMvYm5iL3RyYW5zZm9ybV91di5nbHNsIixzdGFydDo3NTc1MixlbmQ6NzgxODl9LHtmaWxlbmFtZToiL2JuYl9zaGFkZXJzL2JuYi92ZXJzaW9uLmdsc2wiLHN0YXJ0Ojc4MTg5LGVuZDo3ODQxMX0se2ZpbGVuYW1lOiIvZnJ4L2ZyeC5qcyIsc3RhcnQ6Nzg0MTEsZW5kOjgwOTMzfSx7ZmlsZW5hbWU6Ii9yZXNvdXJjZXMtdmVyc2lvbnMudHh0IixzdGFydDo4MDkzMyxlbmQ6ODMzODN9LHtmaWxlbmFtZToiL3dhdGVybWFyay5wbmciLHN0YXJ0OjgzMzgzLGVuZDo4NTg2OX0se2ZpbGVuYW1lOiIvd2F0ZXJtYXJrX2JsdXJyZWQucG5nIixzdGFydDo4NTg2OSxlbmQ6MTA4MzAyfV0scmVtb3RlX3BhY2thZ2Vfc2l6ZToxMDgzMDJ9KX19KCk7dmFyIFM9T2JqZWN0LmFzc2lnbih7fSxpKSxQPSIuL3RoaXMucHJvZ3JhbSIsaz0oZSx0KT0+e3Rocm93IHR9LEw9ITAsTT0iIjtmdW5jdGlvbiBPKGUpe3JldHVybiBpLmxvY2F0ZUZpbGU/aS5sb2NhdGVGaWxlKGUsTSk6TStlfXZhciBXLFosYWU7dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKE09ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLGQmJihNPWQpLE0uaW5kZXhPZigiYmxvYjoiKSE9PTA/TT1NLnN1YnN0cigwLE0ucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpNPSIiLFc9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQuc2VuZChudWxsKSx0LnJlc3BvbnNlVGV4dH0sWj0oZSx0LHIpPT57dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbigiR0VUIixlLCEwKSxuLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLG4ub25sb2FkPSgpPT57aWYobi5zdGF0dXM9PTIwMHx8bi5zdGF0dXM9PTAmJm4ucmVzcG9uc2Upe3Qobi5yZXNwb25zZSk7cmV0dXJufXIoKX0sbi5vbmVycm9yPXIsbi5zZW5kKG51bGwpfTt2YXIgUT1pLnByaW50fHxjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLEg9aS5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihpLFMpLFM9bnVsbCxpLmFyZ3VtZW50cyYmaS5hcmd1bWVudHMsaS50aGlzUHJvZ3JhbSYmKFA9aS50aGlzUHJvZ3JhbSksaS5xdWl0JiYoaz1pLnF1aXQpO3ZhciBZZT00LF9lO2kud2FzbUJpbmFyeSYmKF9lPWkud2FzbUJpbmFyeSk7dmFyIGl0PWkubm9FeGl0UnVudGltZXx8ITA7dHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmd2UoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgSWUsbGU9ITEsbmU7ZnVuY3Rpb24gdGUoZSx0KXtlfHx3ZSh0KX12YXIgb3Q9dHlwZW9mIFRleHREZWNvZGVyPCJ1Ij9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDA7ZnVuY3Rpb24gRWUoZSx0LHIpe2Zvcih2YXIgbj10K3IsYT10O2VbYV0mJiEoYT49bik7KSsrYTtpZihhLXQ+MTYmJmUuYnVmZmVyJiZvdClyZXR1cm4gb3QuZGVjb2RlKGUuc3ViYXJyYXkodCxhKSk7Zm9yKHZhciBvPSIiO3Q8YTspe3ZhciB1PWVbdCsrXTtpZighKHUmMTI4KSl7bys9U3RyaW5nLmZyb21DaGFyQ29kZSh1KTtjb250aW51ZX12YXIgYz1lW3QrK10mNjM7aWYoKHUmMjI0KT09MTkyKXtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCh1JjMxKTw8NnxjKTtjb250aW51ZX12YXIgbD1lW3QrK10mNjM7aWYoKHUmMjQwKT09MjI0P3U9KHUmMTUpPDwxMnxjPDw2fGw6dT0odSY3KTw8MTh8Yzw8MTJ8bDw8NnxlW3QrK10mNjMsdTw2NTUzNilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHUpO2Vsc2V7dmFyIGg9dS02NTUzNjtvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGg+PjEwLDU2MzIwfGgmMTAyMyl9fXJldHVybiBvfWZ1bmN0aW9uIGdlKGUsdCl7cmV0dXJuIGU/RWUoJCxlLHQpOiIifWZ1bmN0aW9uIHh0KGUsdCxyLG4pe2lmKCEobj4wKSlyZXR1cm4gMDtmb3IodmFyIGE9cixvPXIrbi0xLHU9MDt1PGUubGVuZ3RoOysrdSl7dmFyIGM9ZS5jaGFyQ29kZUF0KHUpO2lmKGM+PTU1Mjk2JiZjPD01NzM0Myl7dmFyIGw9ZS5jaGFyQ29kZUF0KCsrdSk7Yz02NTUzNisoKGMmMTAyMyk8PDEwKXxsJjEwMjN9aWYoYzw9MTI3KXtpZihyPj1vKWJyZWFrO3RbcisrXT1jfWVsc2UgaWYoYzw9MjA0Nyl7aWYocisxPj1vKWJyZWFrO3RbcisrXT0xOTJ8Yz4+Nix0W3IrK109MTI4fGMmNjN9ZWxzZSBpZihjPD02NTUzNSl7aWYocisyPj1vKWJyZWFrO3RbcisrXT0yMjR8Yz4+MTIsdFtyKytdPTEyOHxjPj42JjYzLHRbcisrXT0xMjh8YyY2M31lbHNle2lmKHIrMz49bylicmVhazt0W3IrK109MjQwfGM+PjE4LHRbcisrXT0xMjh8Yz4+MTImNjMsdFtyKytdPTEyOHxjPj42JjYzLHRbcisrXT0xMjh8YyY2M319cmV0dXJuIHRbcl09MCxyLWF9ZnVuY3Rpb24gTmUoZSx0LHIpe3JldHVybiB4dChlLCQsdCxyKX1mdW5jdGlvbiBPZShlKXtmb3IodmFyIHQ9MCxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBuPWUuY2hhckNvZGVBdChyKTtuPD0xMjc/dCsrOm48PTIwNDc/dCs9MjpuPj01NTI5NiYmbjw9NTczNDM/KHQrPTQsKytyKTp0Kz0zfXJldHVybiB0fXZhciBTdCxKLCQsaWUsWmUsXyxCLG9lLHBuO2Z1bmN0aW9uIGhuKGUpe1N0PWUsaS5IRUFQOD1KPW5ldyBJbnQ4QXJyYXkoZSksaS5IRUFQMTY9aWU9bmV3IEludDE2QXJyYXkoZSksaS5IRUFQMzI9Xz1uZXcgSW50MzJBcnJheShlKSxpLkhFQVBVOD0kPW5ldyBVaW50OEFycmF5KGUpLGkuSEVBUFUxNj1aZT1uZXcgVWludDE2QXJyYXkoZSksaS5IRUFQVTMyPUI9bmV3IFVpbnQzMkFycmF5KGUpLGkuSEVBUEYzMj1vZT1uZXcgRmxvYXQzMkFycmF5KGUpLGkuSEVBUEY2ND1wbj1uZXcgRmxvYXQ2NEFycmF5KGUpfWkuSU5JVElBTF9NRU1PUlk7dmFyIGduLHluPVtdLHZuPVtdLGJuPVtdO2Z1bmN0aW9uIEJpKCl7cmV0dXJuIGl0fWZ1bmN0aW9uIHppKCl7aWYoaS5wcmVSdW4pZm9yKHR5cGVvZiBpLnByZVJ1bj09ImZ1bmN0aW9uIiYmKGkucHJlUnVuPVtpLnByZVJ1bl0pO2kucHJlUnVuLmxlbmd0aDspVWkoaS5wcmVSdW4uc2hpZnQoKSk7ZHIoeW4pfWZ1bmN0aW9uIFZpKCl7IWkubm9GU0luaXQmJiFzLmluaXQuaW5pdGlhbGl6ZWQmJnMuaW5pdCgpLHMuaWdub3JlUGVybWlzc2lvbnM9ITEsZHIodm4pfWZ1bmN0aW9uIFdpKCl7aWYoaS5wb3N0UnVuKWZvcih0eXBlb2YgaS5wb3N0UnVuPT0iZnVuY3Rpb24iJiYoaS5wb3N0UnVuPVtpLnBvc3RSdW5dKTtpLnBvc3RSdW4ubGVuZ3RoOylLaShpLnBvc3RSdW4uc2hpZnQoKSk7ZHIoYm4pfWZ1bmN0aW9uIFVpKGUpe3luLnVuc2hpZnQoZSl9ZnVuY3Rpb24gR2koZSl7dm4udW5zaGlmdChlKX1mdW5jdGlvbiBLaShlKXtibi51bnNoaWZ0KGUpfXZhciBCZT0wLHN0PW51bGw7ZnVuY3Rpb24gT2woZSl7cmV0dXJuIGV9ZnVuY3Rpb24gVHQoZSl7QmUrKyxpLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmkubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhCZSl9ZnVuY3Rpb24gdXQoZSl7aWYoQmUtLSxpLm1vbml0b3JSdW5EZXBlbmRlbmNpZXMmJmkubW9uaXRvclJ1bkRlcGVuZGVuY2llcyhCZSksQmU9PTAmJnN0KXt2YXIgdD1zdDtzdD1udWxsLHQoKX19ZnVuY3Rpb24gd2UoZSl7aS5vbkFib3J0JiZpLm9uQWJvcnQoZSksZT0iQWJvcnRlZCgiK2UrIikiLEgoZSksbGU9ITAsbmU9MSxlKz0iLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiI7dmFyIHQ9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihlKTt0aHJvdyB2KHQpLHR9dmFyIFhpPSJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIjtmdW5jdGlvbiBfbihlKXtyZXR1cm4gZS5zdGFydHNXaXRoKFhpKX12YXIgbWU7bWU9IkJhbnViYVNESy53YXNtIixfbihtZSl8fChtZT1PKG1lKSk7ZnVuY3Rpb24gRW4oZSl7dHJ5e2lmKGU9PW1lJiZfZSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoX2UpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1jYXRjaCh0KXt3ZSh0KX19ZnVuY3Rpb24gWWkoKXtyZXR1cm4hX2UmJkwmJnR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIj9mZXRjaChtZSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24oZSl7aWYoIWUub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIittZSsiJyI7cmV0dXJuIGUuYXJyYXlCdWZmZXIoKX0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIEVuKG1lKX0pOlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gRW4obWUpfSl9ZnVuY3Rpb24gWmkoKXt2YXIgZT17ZW52OmVhLHdhc2lfc25hcHNob3RfcHJldmlldzE6ZWF9O2Z1bmN0aW9uIHQodSxjKXt2YXIgbD11LmV4cG9ydHM7aS5hc209bCxJZT1pLmFzbS5tZW1vcnksaG4oSWUuYnVmZmVyKSxnbj1pLmFzbS5fX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlLEdpKGkuYXNtLl9fd2FzbV9jYWxsX2N0b3JzKSx1dCgpfVR0KCk7ZnVuY3Rpb24gcih1KXt0KHUuaW5zdGFuY2UpfWZ1bmN0aW9uIG4odSl7cmV0dXJuIFlpKCkudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYyxlKX0pLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIGN9KS50aGVuKHUsZnVuY3Rpb24oYyl7SCgiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIitjKSx3ZShjKX0pfWZ1bmN0aW9uIGEoKXtyZXR1cm4hX2UmJnR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZz09ImZ1bmN0aW9uIiYmIV9uKG1lKSYmdHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iP2ZldGNoKG1lLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbih1KXt2YXIgYz1XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyh1LGUpO3JldHVybiBjLnRoZW4ocixmdW5jdGlvbihsKXtyZXR1cm4gSCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrbCksSCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxuKHIpfSl9KTpuKHIpfWlmKGkuaW5zdGFudGlhdGVXYXNtKXRyeXt2YXIgbz1pLmluc3RhbnRpYXRlV2FzbShlLHQpO3JldHVybiBvfWNhdGNoKHUpe0goIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIrdSksdih1KX1yZXR1cm4gYSgpLmNhdGNoKHYpLHt9fXZhciB6LHE7ZnVuY3Rpb24gSGkoKXtyZXR1cm4gaS51c2VDYW1UZXh0dXJlJiZpLnRleHR1cmU/KGkuY2FtVGV4dHVyZUlkfHwoaS5jYW1UZXh0dXJlSWQ9Qy5nZXROZXdJZChDLnRleHR1cmVzKSxpLnRleHR1cmUubmFtZT1pLmNhbVRleHR1cmVJZCxDLnRleHR1cmVzW2kuY2FtVGV4dHVyZUlkXT1pLnRleHR1cmUpLGkuY2FtVGV4dHVyZUlkKTowfWZ1bmN0aW9uICRpKCl7cmV0dXJuL2VsZWN0cm9uL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX1mdW5jdGlvbiBRaSgpe2Z1bmN0aW9uIGUoKXt2YXIgYT1zZWxmLnRvcCxvPXNlbGYucGFyZW50LHU9W107ZG97dHJ5e3UucHVzaChvLmxvY2F0aW9uLmhyZWYpfWNhdGNoe31vPW8ucGFyZW50fXdoaWxlKG8hPT1hKTtyZXR1cm4gdX12YXIgdD1bc2VsZi5sb2NhdGlvbi5ocmVmXS5jb25jYXQoQXJyYXkuZnJvbSgiYW5jZXN0b3JPcmlnaW5zImluIHNlbGYubG9jYXRpb24/c2VsZi5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnM6ZSgpKSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVVJMKGEucmVwbGFjZSgvXmJsb2I6LywiIikpLmhvc3RuYW1lfSkuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gQm9vbGVhbihhKX0pLHI9T2UodCkrMSxuPUZlKHIpO3JldHVybiBOZSh0LG4sciksbn1mdW5jdGlvbiBKaShlKXtjb25zdCB0PWdlKGUpLHI9cy5yZWFkRmlsZSh0KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksYT1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyXSx7dHlwZToidmlkZW8vbXA0In0pKSxvPWkucHJveHlWaWRlb1JlcXVlc3RzVG87cmV0dXJuIG4ubXV0ZWQ9ITAsbi5hdXRvcGxheT0hMSxuLmNvbnRyb2xzPSExLG4ucGxheXNJbmxpbmU9ITAsbi5zcmM9bz9vK2VuY29kZVVSSUNvbXBvbmVudChhKTphLGVlLnRvSGFuZGxlKG4pfWZ1bmN0aW9uIHFpKGUpe2NvbnN0IHQ9ZWUudG9WYWx1ZShlKTtVUkwucmV2b2tlT2JqZWN0VVJMKHQuc3JjKSx0LnNyYz0iIn1mdW5jdGlvbiB3bihlKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT0iUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgiK2UrIikiLHRoaXMuc3RhdHVzPWV9ZnVuY3Rpb24gZHIoZSl7Zm9yKDtlLmxlbmd0aD4wOyllLnNoaWZ0KCkoaSl9ZnVuY3Rpb24gZW8oZSl7cmV0dXJuIEZlKGUrMjQpKzI0fWZ1bmN0aW9uIHRvKGUpe3RoaXMuZXhjUHRyPWUsdGhpcy5wdHI9ZS0yNCx0aGlzLnNldF90eXBlPWZ1bmN0aW9uKHQpe0JbdGhpcy5wdHIrND4+Ml09dH0sdGhpcy5nZXRfdHlwZT1mdW5jdGlvbigpe3JldHVybiBCW3RoaXMucHRyKzQ+PjJdfSx0aGlzLnNldF9kZXN0cnVjdG9yPWZ1bmN0aW9uKHQpe0JbdGhpcy5wdHIrOD4+Ml09dH0sdGhpcy5nZXRfZGVzdHJ1Y3Rvcj1mdW5jdGlvbigpe3JldHVybiBCW3RoaXMucHRyKzg+PjJdfSx0aGlzLnNldF9yZWZjb3VudD1mdW5jdGlvbih0KXtfW3RoaXMucHRyPj4yXT10fSx0aGlzLnNldF9jYXVnaHQ9ZnVuY3Rpb24odCl7dD10PzE6MCxKW3RoaXMucHRyKzEyPj4wXT10fSx0aGlzLmdldF9jYXVnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gSlt0aGlzLnB0cisxMj4+MF0hPTB9LHRoaXMuc2V0X3JldGhyb3duPWZ1bmN0aW9uKHQpe3Q9dD8xOjAsSlt0aGlzLnB0cisxMz4+MF09dH0sdGhpcy5nZXRfcmV0aHJvd249ZnVuY3Rpb24oKXtyZXR1cm4gSlt0aGlzLnB0cisxMz4+MF0hPTB9LHRoaXMuaW5pdD1mdW5jdGlvbih0LHIpe3RoaXMuc2V0X2FkanVzdGVkX3B0cigwKSx0aGlzLnNldF90eXBlKHQpLHRoaXMuc2V0X2Rlc3RydWN0b3IociksdGhpcy5zZXRfcmVmY291bnQoMCksdGhpcy5zZXRfY2F1Z2h0KCExKSx0aGlzLnNldF9yZXRocm93bighMSl9LHRoaXMuYWRkX3JlZj1mdW5jdGlvbigpe3ZhciB0PV9bdGhpcy5wdHI+PjJdO19bdGhpcy5wdHI+PjJdPXQrMX0sdGhpcy5yZWxlYXNlX3JlZj1mdW5jdGlvbigpe3ZhciB0PV9bdGhpcy5wdHI+PjJdO3JldHVybiBfW3RoaXMucHRyPj4yXT10LTEsdD09PTF9LHRoaXMuc2V0X2FkanVzdGVkX3B0cj1mdW5jdGlvbih0KXtCW3RoaXMucHRyKzE2Pj4yXT10fSx0aGlzLmdldF9hZGp1c3RlZF9wdHI9ZnVuY3Rpb24oKXtyZXR1cm4gQlt0aGlzLnB0cisxNj4+Ml19LHRoaXMuZ2V0X2V4Y2VwdGlvbl9wdHI9ZnVuY3Rpb24oKXt2YXIgdD1pYSh0aGlzLmdldF90eXBlKCkpO2lmKHQpcmV0dXJuIEJbdGhpcy5leGNQdHI+PjJdO3ZhciByPXRoaXMuZ2V0X2FkanVzdGVkX3B0cigpO3JldHVybiByIT09MD9yOnRoaXMuZXhjUHRyfX1mdW5jdGlvbiBybyhlLHQscil7dmFyIG49bmV3IHRvKGUpO3Rocm93IG4uaW5pdCh0LHIpLGV9dmFyIFk9e2lzQWJzOmU9PmUuY2hhckF0KDApPT09Ii8iLHNwbGl0UGF0aDplPT57dmFyIHQ9L14oXC8/fCkoW1xzXFNdKj8pKCg/OlwuezEsMn18W15cL10rP3wpKFwuW14uXC9dKnwpKSg/OltcL10qKSQvO3JldHVybiB0LmV4ZWMoZSkuc2xpY2UoMSl9LG5vcm1hbGl6ZUFycmF5OihlLHQpPT57Zm9yKHZhciByPTAsbj1lLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgYT1lW25dO2E9PT0iLiI/ZS5zcGxpY2UobiwxKTphPT09Ii4uIj8oZS5zcGxpY2UobiwxKSxyKyspOnImJihlLnNwbGljZShuLDEpLHItLSl9aWYodClmb3IoO3I7ci0tKWUudW5zaGlmdCgiLi4iKTtyZXR1cm4gZX0sbm9ybWFsaXplOmU9Pnt2YXIgdD1ZLmlzQWJzKGUpLHI9ZS5zdWJzdHIoLTEpPT09Ii8iO3JldHVybiBlPVkubm9ybWFsaXplQXJyYXkoZS5zcGxpdCgiLyIpLmZpbHRlcihuPT4hIW4pLCF0KS5qb2luKCIvIiksIWUmJiF0JiYoZT0iLiIpLGUmJnImJihlKz0iLyIpLCh0PyIvIjoiIikrZX0sZGlybmFtZTplPT57dmFyIHQ9WS5zcGxpdFBhdGgoZSkscj10WzBdLG49dFsxXTtyZXR1cm4hciYmIW4/Ii4iOihuJiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLTEpKSxyK24pfSxiYXNlbmFtZTplPT57aWYoZT09PSIvIilyZXR1cm4iLyI7ZT1ZLm5vcm1hbGl6ZShlKSxlPWUucmVwbGFjZSgvXC8kLywiIik7dmFyIHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PT09LTE/ZTplLnN1YnN0cih0KzEpfSxqb2luOmZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gWS5ub3JtYWxpemUoZS5qb2luKCIvIikpfSxqb2luMjooZSx0KT0+WS5ub3JtYWxpemUoZSsiLyIrdCl9O2Z1bmN0aW9uIHhuKCl7aWYodHlwZW9mIGNyeXB0bz09Im9iamVjdCImJnR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzPT0iZnVuY3Rpb24iKXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4oKT0+KGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSksZVswXSl9ZWxzZSByZXR1cm4oKT0+d2UoInJhbmRvbURldmljZSIpfXZhciB4ZT17cmVzb2x2ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0iIix0PSExLHI9YXJndW1lbnRzLmxlbmd0aC0xO3I+PS0xJiYhdDtyLS0pe3ZhciBuPXI+PTA/YXJndW1lbnRzW3JdOnMuY3dkKCk7aWYodHlwZW9mIG4hPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzIik7aWYoIW4pcmV0dXJuIiI7ZT1uKyIvIitlLHQ9WS5pc0FicyhuKX1yZXR1cm4gZT1ZLm5vcm1hbGl6ZUFycmF5KGUuc3BsaXQoIi8iKS5maWx0ZXIoYT0+ISFhKSwhdCkuam9pbigiLyIpLCh0PyIvIjoiIikrZXx8Ii4ifSxyZWxhdGl2ZTooZSx0KT0+e2U9eGUucmVzb2x2ZShlKS5zdWJzdHIoMSksdD14ZS5yZXNvbHZlKHQpLnN1YnN0cigxKTtmdW5jdGlvbiByKGgpe2Zvcih2YXIgZz0wO2c8aC5sZW5ndGgmJmhbZ109PT0iIjtnKyspO2Zvcih2YXIgRT1oLmxlbmd0aC0xO0U+PTAmJmhbRV09PT0iIjtFLS0pO3JldHVybiBnPkU/W106aC5zbGljZShnLEUtZysxKX1mb3IodmFyIG49cihlLnNwbGl0KCIvIikpLGE9cih0LnNwbGl0KCIvIikpLG89TWF0aC5taW4obi5sZW5ndGgsYS5sZW5ndGgpLHU9byxjPTA7YzxvO2MrKylpZihuW2NdIT09YVtjXSl7dT1jO2JyZWFrfWZvcih2YXIgbD1bXSxjPXU7YzxuLmxlbmd0aDtjKyspbC5wdXNoKCIuLiIpO3JldHVybiBsPWwuY29uY2F0KGEuc2xpY2UodSkpLGwuam9pbigiLyIpfX07ZnVuY3Rpb24gQ3QoZSx0LHIpe3ZhciBuPXI+MD9yOk9lKGUpKzEsYT1uZXcgQXJyYXkobiksbz14dChlLGEsMCxhLmxlbmd0aCk7cmV0dXJuIHQmJihhLmxlbmd0aD1vKSxhfXZhciB6ZT17dHR5czpbXSxpbml0OmZ1bmN0aW9uKCl7fSxzaHV0ZG93bjpmdW5jdGlvbigpe30scmVnaXN0ZXI6ZnVuY3Rpb24oZSx0KXt6ZS50dHlzW2VdPXtpbnB1dDpbXSxvdXRwdXQ6W10sb3BzOnR9LHMucmVnaXN0ZXJEZXZpY2UoZSx6ZS5zdHJlYW1fb3BzKX0sc3RyZWFtX29wczp7b3BlbjpmdW5jdGlvbihlKXt2YXIgdD16ZS50dHlzW2Uubm9kZS5yZGV2XTtpZighdCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQzKTtlLnR0eT10LGUuc2Vla2FibGU9ITF9LGNsb3NlOmZ1bmN0aW9uKGUpe2UudHR5Lm9wcy5mc3luYyhlLnR0eSl9LGZzeW5jOmZ1bmN0aW9uKGUpe2UudHR5Lm9wcy5mc3luYyhlLnR0eSl9LHJlYWQ6ZnVuY3Rpb24oZSx0LHIsbixhKXtpZighZS50dHl8fCFlLnR0eS5vcHMuZ2V0X2NoYXIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2MCk7Zm9yKHZhciBvPTAsdT0wO3U8bjt1Kyspe3ZhciBjO3RyeXtjPWUudHR5Lm9wcy5nZXRfY2hhcihlLnR0eSl9Y2F0Y2h7dGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOSl9aWYoYz09PXZvaWQgMCYmbz09PTApdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2KTtpZihjPT1udWxsKWJyZWFrO28rKyx0W3IrdV09Y31yZXR1cm4gbyYmKGUubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSksb30sd3JpdGU6ZnVuY3Rpb24oZSx0LHIsbixhKXtpZighZS50dHl8fCFlLnR0eS5vcHMucHV0X2NoYXIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2MCk7dHJ5e2Zvcih2YXIgbz0wO288bjtvKyspZS50dHkub3BzLnB1dF9jaGFyKGUudHR5LHRbcitvXSl9Y2F0Y2h7dGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOSl9cmV0dXJuIG4mJihlLm5vZGUudGltZXN0YW1wPURhdGUubm93KCkpLG99fSxkZWZhdWx0X3R0eV9vcHM6e2dldF9jaGFyOmZ1bmN0aW9uKGUpe2lmKCFlLmlucHV0Lmxlbmd0aCl7dmFyIHQ9bnVsbDtpZih0eXBlb2Ygd2luZG93PCJ1IiYmdHlwZW9mIHdpbmRvdy5wcm9tcHQ9PSJmdW5jdGlvbiI/KHQ9d2luZG93LnByb21wdCgiSW5wdXQ6ICIpLHQhPT1udWxsJiYodCs9YApgKSk6dHlwZW9mIHJlYWRsaW5lPT0iZnVuY3Rpb24iJiYodD1yZWFkbGluZSgpLHQhPT1udWxsJiYodCs9YApgKSksIXQpcmV0dXJuIG51bGw7ZS5pbnB1dD1DdCh0LCEwKX1yZXR1cm4gZS5pbnB1dC5zaGlmdCgpfSxwdXRfY2hhcjpmdW5jdGlvbihlLHQpe3Q9PT1udWxsfHx0PT09MTA/KFEoRWUoZS5vdXRwdXQsMCkpLGUub3V0cHV0PVtdKTp0IT0wJiZlLm91dHB1dC5wdXNoKHQpfSxmc3luYzpmdW5jdGlvbihlKXtlLm91dHB1dCYmZS5vdXRwdXQubGVuZ3RoPjAmJihRKEVlKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSl9fSxkZWZhdWx0X3R0eTFfb3BzOntwdXRfY2hhcjpmdW5jdGlvbihlLHQpe3Q9PT1udWxsfHx0PT09MTA/KEgoRWUoZS5vdXRwdXQsMCkpLGUub3V0cHV0PVtdKTp0IT0wJiZlLm91dHB1dC5wdXNoKHQpfSxmc3luYzpmdW5jdGlvbihlKXtlLm91dHB1dCYmZS5vdXRwdXQubGVuZ3RoPjAmJihIKEVlKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSl9fX07ZnVuY3Rpb24gbXIoZSx0KXtyZXR1cm4gJC5maWxsKDAsZSxlK3QpLGV9ZnVuY3Rpb24gbm8oZSx0KXtyZXR1cm4gTWF0aC5jZWlsKGUvdCkqdH1mdW5jdGlvbiBTbihlKXtlPW5vKGUsNjU1MzYpO3ZhciB0PW5hKDY1NTM2LGUpO3JldHVybiB0P21yKHQsZSk6MH12YXIgRz17b3BzX3RhYmxlOm51bGwsbW91bnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEcuY3JlYXRlTm9kZShudWxsLCIvIiwxNjg5NSwwKX0sY3JlYXRlTm9kZTpmdW5jdGlvbihlLHQscixuKXtpZihzLmlzQmxrZGV2KHIpfHxzLmlzRklGTyhyKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDYzKTtHLm9wc190YWJsZXx8KEcub3BzX3RhYmxlPXtkaXI6e25vZGU6e2dldGF0dHI6Ry5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6Ry5ub2RlX29wcy5zZXRhdHRyLGxvb2t1cDpHLm5vZGVfb3BzLmxvb2t1cCxta25vZDpHLm5vZGVfb3BzLm1rbm9kLHJlbmFtZTpHLm5vZGVfb3BzLnJlbmFtZSx1bmxpbms6Ry5ub2RlX29wcy51bmxpbmsscm1kaXI6Ry5ub2RlX29wcy5ybWRpcixyZWFkZGlyOkcubm9kZV9vcHMucmVhZGRpcixzeW1saW5rOkcubm9kZV9vcHMuc3ltbGlua30sc3RyZWFtOntsbHNlZWs6Ry5zdHJlYW1fb3BzLmxsc2Vla319LGZpbGU6e25vZGU6e2dldGF0dHI6Ry5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6Ry5ub2RlX29wcy5zZXRhdHRyfSxzdHJlYW06e2xsc2VlazpHLnN0cmVhbV9vcHMubGxzZWVrLHJlYWQ6Ry5zdHJlYW1fb3BzLnJlYWQsd3JpdGU6Ry5zdHJlYW1fb3BzLndyaXRlLGFsbG9jYXRlOkcuc3RyZWFtX29wcy5hbGxvY2F0ZSxtbWFwOkcuc3RyZWFtX29wcy5tbWFwLG1zeW5jOkcuc3RyZWFtX29wcy5tc3luY319LGxpbms6e25vZGU6e2dldGF0dHI6Ry5ub2RlX29wcy5nZXRhdHRyLHNldGF0dHI6Ry5ub2RlX29wcy5zZXRhdHRyLHJlYWRsaW5rOkcubm9kZV9vcHMucmVhZGxpbmt9LHN0cmVhbTp7fX0sY2hyZGV2Ontub2RlOntnZXRhdHRyOkcubm9kZV9vcHMuZ2V0YXR0cixzZXRhdHRyOkcubm9kZV9vcHMuc2V0YXR0cn0sc3RyZWFtOnMuY2hyZGV2X3N0cmVhbV9vcHN9fSk7dmFyIGE9cy5jcmVhdGVOb2RlKGUsdCxyLG4pO3JldHVybiBzLmlzRGlyKGEubW9kZSk/KGEubm9kZV9vcHM9Ry5vcHNfdGFibGUuZGlyLm5vZGUsYS5zdHJlYW1fb3BzPUcub3BzX3RhYmxlLmRpci5zdHJlYW0sYS5jb250ZW50cz17fSk6cy5pc0ZpbGUoYS5tb2RlKT8oYS5ub2RlX29wcz1HLm9wc190YWJsZS5maWxlLm5vZGUsYS5zdHJlYW1fb3BzPUcub3BzX3RhYmxlLmZpbGUuc3RyZWFtLGEudXNlZEJ5dGVzPTAsYS5jb250ZW50cz1udWxsKTpzLmlzTGluayhhLm1vZGUpPyhhLm5vZGVfb3BzPUcub3BzX3RhYmxlLmxpbmsubm9kZSxhLnN0cmVhbV9vcHM9Ry5vcHNfdGFibGUubGluay5zdHJlYW0pOnMuaXNDaHJkZXYoYS5tb2RlKSYmKGEubm9kZV9vcHM9Ry5vcHNfdGFibGUuY2hyZGV2Lm5vZGUsYS5zdHJlYW1fb3BzPUcub3BzX3RhYmxlLmNocmRldi5zdHJlYW0pLGEudGltZXN0YW1wPURhdGUubm93KCksZSYmKGUuY29udGVudHNbdF09YSxlLnRpbWVzdGFtcD1hLnRpbWVzdGFtcCksYX0sZ2V0RmlsZURhdGFBc1R5cGVkQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29udGVudHM/ZS5jb250ZW50cy5zdWJhcnJheT9lLmNvbnRlbnRzLnN1YmFycmF5KDAsZS51c2VkQnl0ZXMpOm5ldyBVaW50OEFycmF5KGUuY29udGVudHMpOm5ldyBVaW50OEFycmF5KDApfSxleHBhbmRGaWxlU3RvcmFnZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuY29udGVudHM/ZS5jb250ZW50cy5sZW5ndGg6MDtpZighKHI+PXQpKXt2YXIgbj0xMDQ4NTc2O3Q9TWF0aC5tYXgodCxyKihyPG4/MjoxLjEyNSk+Pj4wKSxyIT0wJiYodD1NYXRoLm1heCh0LDI1NikpO3ZhciBhPWUuY29udGVudHM7ZS5jb250ZW50cz1uZXcgVWludDhBcnJheSh0KSxlLnVzZWRCeXRlcz4wJiZlLmNvbnRlbnRzLnNldChhLnN1YmFycmF5KDAsZS51c2VkQnl0ZXMpLDApfX0scmVzaXplRmlsZVN0b3JhZ2U6ZnVuY3Rpb24oZSx0KXtpZihlLnVzZWRCeXRlcyE9dClpZih0PT0wKWUuY29udGVudHM9bnVsbCxlLnVzZWRCeXRlcz0wO2Vsc2V7dmFyIHI9ZS5jb250ZW50cztlLmNvbnRlbnRzPW5ldyBVaW50OEFycmF5KHQpLHImJmUuY29udGVudHMuc2V0KHIuc3ViYXJyYXkoMCxNYXRoLm1pbih0LGUudXNlZEJ5dGVzKSkpLGUudXNlZEJ5dGVzPXR9fSxub2RlX29wczp7Z2V0YXR0cjpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5kZXY9cy5pc0NocmRldihlLm1vZGUpP2UuaWQ6MSx0Lmlubz1lLmlkLHQubW9kZT1lLm1vZGUsdC5ubGluaz0xLHQudWlkPTAsdC5naWQ9MCx0LnJkZXY9ZS5yZGV2LHMuaXNEaXIoZS5tb2RlKT90LnNpemU9NDA5NjpzLmlzRmlsZShlLm1vZGUpP3Quc2l6ZT1lLnVzZWRCeXRlczpzLmlzTGluayhlLm1vZGUpP3Quc2l6ZT1lLmxpbmsubGVuZ3RoOnQuc2l6ZT0wLHQuYXRpbWU9bmV3IERhdGUoZS50aW1lc3RhbXApLHQubXRpbWU9bmV3IERhdGUoZS50aW1lc3RhbXApLHQuY3RpbWU9bmV3IERhdGUoZS50aW1lc3RhbXApLHQuYmxrc2l6ZT00MDk2LHQuYmxvY2tzPU1hdGguY2VpbCh0LnNpemUvdC5ibGtzaXplKSx0fSxzZXRhdHRyOmZ1bmN0aW9uKGUsdCl7dC5tb2RlIT09dm9pZCAwJiYoZS5tb2RlPXQubW9kZSksdC50aW1lc3RhbXAhPT12b2lkIDAmJihlLnRpbWVzdGFtcD10LnRpbWVzdGFtcCksdC5zaXplIT09dm9pZCAwJiZHLnJlc2l6ZUZpbGVTdG9yYWdlKGUsdC5zaXplKX0sbG9va3VwOmZ1bmN0aW9uKGUsdCl7dGhyb3cgcy5nZW5lcmljRXJyb3JzWzQ0XX0sbWtub2Q6ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIEcuY3JlYXRlTm9kZShlLHQscixuKX0scmVuYW1lOmZ1bmN0aW9uKGUsdCxyKXtpZihzLmlzRGlyKGUubW9kZSkpe3ZhciBuO3RyeXtuPXMubG9va3VwTm9kZSh0LHIpfWNhdGNoe31pZihuKWZvcih2YXIgYSBpbiBuLmNvbnRlbnRzKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNTUpfWRlbGV0ZSBlLnBhcmVudC5jb250ZW50c1tlLm5hbWVdLGUucGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpLGUubmFtZT1yLHQuY29udGVudHNbcl09ZSx0LnRpbWVzdGFtcD1lLnBhcmVudC50aW1lc3RhbXAsZS5wYXJlbnQ9dH0sdW5saW5rOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIGUuY29udGVudHNbdF0sZS50aW1lc3RhbXA9RGF0ZS5ub3coKX0scm1kaXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zLmxvb2t1cE5vZGUoZSx0KTtmb3IodmFyIG4gaW4gci5jb250ZW50cyl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDU1KTtkZWxldGUgZS5jb250ZW50c1t0XSxlLnRpbWVzdGFtcD1EYXRlLm5vdygpfSxyZWFkZGlyOmZ1bmN0aW9uKGUpe3ZhciB0PVsiLiIsIi4uIl07Zm9yKHZhciByIGluIGUuY29udGVudHMpIWUuY29udGVudHMuaGFzT3duUHJvcGVydHkocil8fHQucHVzaChyKTtyZXR1cm4gdH0sc3ltbGluazpmdW5jdGlvbihlLHQscil7dmFyIG49Ry5jcmVhdGVOb2RlKGUsdCw0MTQ3MSwwKTtyZXR1cm4gbi5saW5rPXIsbn0scmVhZGxpbms6ZnVuY3Rpb24oZSl7aWYoIXMuaXNMaW5rKGUubW9kZSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOCk7cmV0dXJuIGUubGlua319LHN0cmVhbV9vcHM6e3JlYWQ6ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgbz1lLm5vZGUuY29udGVudHM7aWYoYT49ZS5ub2RlLnVzZWRCeXRlcylyZXR1cm4gMDt2YXIgdT1NYXRoLm1pbihlLm5vZGUudXNlZEJ5dGVzLWEsbik7aWYodT44JiZvLnN1YmFycmF5KXQuc2V0KG8uc3ViYXJyYXkoYSxhK3UpLHIpO2Vsc2UgZm9yKHZhciBjPTA7Yzx1O2MrKyl0W3IrY109b1thK2NdO3JldHVybiB1fSx3cml0ZTpmdW5jdGlvbihlLHQscixuLGEsbyl7aWYodC5idWZmZXI9PT1KLmJ1ZmZlciYmKG89ITEpLCFuKXJldHVybiAwO3ZhciB1PWUubm9kZTtpZih1LnRpbWVzdGFtcD1EYXRlLm5vdygpLHQuc3ViYXJyYXkmJighdS5jb250ZW50c3x8dS5jb250ZW50cy5zdWJhcnJheSkpe2lmKG8pcmV0dXJuIHUuY29udGVudHM9dC5zdWJhcnJheShyLHIrbiksdS51c2VkQnl0ZXM9bixuO2lmKHUudXNlZEJ5dGVzPT09MCYmYT09PTApcmV0dXJuIHUuY29udGVudHM9dC5zbGljZShyLHIrbiksdS51c2VkQnl0ZXM9bixuO2lmKGErbjw9dS51c2VkQnl0ZXMpcmV0dXJuIHUuY29udGVudHMuc2V0KHQuc3ViYXJyYXkocixyK24pLGEpLG59aWYoRy5leHBhbmRGaWxlU3RvcmFnZSh1LGErbiksdS5jb250ZW50cy5zdWJhcnJheSYmdC5zdWJhcnJheSl1LmNvbnRlbnRzLnNldCh0LnN1YmFycmF5KHIscituKSxhKTtlbHNlIGZvcih2YXIgYz0wO2M8bjtjKyspdS5jb250ZW50c1thK2NdPXRbcitjXTtyZXR1cm4gdS51c2VkQnl0ZXM9TWF0aC5tYXgodS51c2VkQnl0ZXMsYStuKSxufSxsbHNlZWs6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQ7aWYocj09PTE/bis9ZS5wb3NpdGlvbjpyPT09MiYmcy5pc0ZpbGUoZS5ub2RlLm1vZGUpJiYobis9ZS5ub2RlLnVzZWRCeXRlcyksbjwwKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMjgpO3JldHVybiBufSxhbGxvY2F0ZTpmdW5jdGlvbihlLHQscil7Ry5leHBhbmRGaWxlU3RvcmFnZShlLm5vZGUsdCtyKSxlLm5vZGUudXNlZEJ5dGVzPU1hdGgubWF4KGUubm9kZS51c2VkQnl0ZXMsdCtyKX0sbW1hcDpmdW5jdGlvbihlLHQscixuLGEpe2lmKCFzLmlzRmlsZShlLm5vZGUubW9kZSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0Myk7dmFyIG8sdSxjPWUubm9kZS5jb250ZW50cztpZighKGEmMikmJmMuYnVmZmVyPT09U3QpdT0hMSxvPWMuYnl0ZU9mZnNldDtlbHNle2lmKChyPjB8fHIrdDxjLmxlbmd0aCkmJihjLnN1YmFycmF5P2M9Yy5zdWJhcnJheShyLHIrdCk6Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLHIscit0KSksdT0hMCxvPVNuKHQpLCFvKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNDgpO0ouc2V0KGMsbyl9cmV0dXJue3B0cjpvLGFsbG9jYXRlZDp1fX0sbXN5bmM6ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gRy5zdHJlYW1fb3BzLndyaXRlKGUsdCwwLG4sciwhMSksMH19fTtmdW5jdGlvbiBhbyhlLHQscixuKXt2YXIgYT1uPyIiOiJhbCAiK2U7WihlLG89Pnt0ZShvLCdMb2FkaW5nIGRhdGEgZmlsZSAiJytlKyciIGZhaWxlZCAobm8gYXJyYXlCdWZmZXIpLicpLHQobmV3IFVpbnQ4QXJyYXkobykpLGEmJnV0KCl9LG89PntpZihyKXIoKTtlbHNlIHRocm93J0xvYWRpbmcgZGF0YSBmaWxlICInK2UrJyIgZmFpbGVkLid9KSxhJiZUdCgpfXZhciBzPXtyb290Om51bGwsbW91bnRzOltdLGRldmljZXM6e30sc3RyZWFtczpbXSxuZXh0SW5vZGU6MSxuYW1lVGFibGU6bnVsbCxjdXJyZW50UGF0aDoiLyIsaW5pdGlhbGl6ZWQ6ITEsaWdub3JlUGVybWlzc2lvbnM6ITAsRXJybm9FcnJvcjpudWxsLGdlbmVyaWNFcnJvcnM6e30sZmlsZXN5c3RlbXM6bnVsbCxzeW5jRlNSZXF1ZXN0czowLGxvb2t1cFBhdGg6KGUsdD17fSk9PntpZihlPXhlLnJlc29sdmUoZSksIWUpcmV0dXJue3BhdGg6IiIsbm9kZTpudWxsfTt2YXIgcj17Zm9sbG93X21vdW50OiEwLHJlY3Vyc2VfY291bnQ6MH07aWYodD1PYmplY3QuYXNzaWduKHIsdCksdC5yZWN1cnNlX2NvdW50PjgpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigzMik7Zm9yKHZhciBuPWUuc3BsaXQoIi8iKS5maWx0ZXIoRT0+ISFFKSxhPXMucm9vdCxvPSIvIix1PTA7dTxuLmxlbmd0aDt1Kyspe3ZhciBjPXU9PT1uLmxlbmd0aC0xO2lmKGMmJnQucGFyZW50KWJyZWFrO2lmKGE9cy5sb29rdXBOb2RlKGEsblt1XSksbz1ZLmpvaW4yKG8sblt1XSkscy5pc01vdW50cG9pbnQoYSkmJighY3x8YyYmdC5mb2xsb3dfbW91bnQpJiYoYT1hLm1vdW50ZWQucm9vdCksIWN8fHQuZm9sbG93KWZvcih2YXIgbD0wO3MuaXNMaW5rKGEubW9kZSk7KXt2YXIgaD1zLnJlYWRsaW5rKG8pO289eGUucmVzb2x2ZShZLmRpcm5hbWUobyksaCk7dmFyIGc9cy5sb29rdXBQYXRoKG8se3JlY3Vyc2VfY291bnQ6dC5yZWN1cnNlX2NvdW50KzF9KTtpZihhPWcubm9kZSxsKys+NDApdGhyb3cgbmV3IHMuRXJybm9FcnJvcigzMil9fXJldHVybntwYXRoOm8sbm9kZTphfX0sZ2V0UGF0aDplPT57Zm9yKHZhciB0Ozspe2lmKHMuaXNSb290KGUpKXt2YXIgcj1lLm1vdW50Lm1vdW50cG9pbnQ7cmV0dXJuIHQ/cltyLmxlbmd0aC0xXSE9PSIvIj9yKyIvIit0OnIrdDpyfXQ9dD9lLm5hbWUrIi8iK3Q6ZS5uYW1lLGU9ZS5wYXJlbnR9fSxoYXNoTmFtZTooZSx0KT0+e2Zvcih2YXIgcj0wLG49MDtuPHQubGVuZ3RoO24rKylyPShyPDw1KS1yK3QuY2hhckNvZGVBdChuKXwwO3JldHVybihlK3I+Pj4wKSVzLm5hbWVUYWJsZS5sZW5ndGh9LGhhc2hBZGROb2RlOmU9Pnt2YXIgdD1zLmhhc2hOYW1lKGUucGFyZW50LmlkLGUubmFtZSk7ZS5uYW1lX25leHQ9cy5uYW1lVGFibGVbdF0scy5uYW1lVGFibGVbdF09ZX0saGFzaFJlbW92ZU5vZGU6ZT0+e3ZhciB0PXMuaGFzaE5hbWUoZS5wYXJlbnQuaWQsZS5uYW1lKTtpZihzLm5hbWVUYWJsZVt0XT09PWUpcy5uYW1lVGFibGVbdF09ZS5uYW1lX25leHQ7ZWxzZSBmb3IodmFyIHI9cy5uYW1lVGFibGVbdF07cjspe2lmKHIubmFtZV9uZXh0PT09ZSl7ci5uYW1lX25leHQ9ZS5uYW1lX25leHQ7YnJlYWt9cj1yLm5hbWVfbmV4dH19LGxvb2t1cE5vZGU6KGUsdCk9Pnt2YXIgcj1zLm1heUxvb2t1cChlKTtpZihyKXRocm93IG5ldyBzLkVycm5vRXJyb3IocixlKTtmb3IodmFyIG49cy5oYXNoTmFtZShlLmlkLHQpLGE9cy5uYW1lVGFibGVbbl07YTthPWEubmFtZV9uZXh0KXt2YXIgbz1hLm5hbWU7aWYoYS5wYXJlbnQuaWQ9PT1lLmlkJiZvPT09dClyZXR1cm4gYX1yZXR1cm4gcy5sb29rdXAoZSx0KX0sY3JlYXRlTm9kZTooZSx0LHIsbik9Pnt2YXIgYT1uZXcgcy5GU05vZGUoZSx0LHIsbik7cmV0dXJuIHMuaGFzaEFkZE5vZGUoYSksYX0sZGVzdHJveU5vZGU6ZT0+e3MuaGFzaFJlbW92ZU5vZGUoZSl9LGlzUm9vdDplPT5lPT09ZS5wYXJlbnQsaXNNb3VudHBvaW50OmU9PiEhZS5tb3VudGVkLGlzRmlsZTplPT4oZSY2MTQ0MCk9PT0zMjc2OCxpc0RpcjplPT4oZSY2MTQ0MCk9PT0xNjM4NCxpc0xpbms6ZT0+KGUmNjE0NDApPT09NDA5NjAsaXNDaHJkZXY6ZT0+KGUmNjE0NDApPT09ODE5Mixpc0Jsa2RldjplPT4oZSY2MTQ0MCk9PT0yNDU3Nixpc0ZJRk86ZT0+KGUmNjE0NDApPT09NDA5Nixpc1NvY2tldDplPT4oZSY0OTE1Mik9PT00OTE1MixmbGFnTW9kZXM6e3I6MCwicisiOjIsdzo1NzcsIncrIjo1NzgsYToxMDg5LCJhKyI6MTA5MH0sbW9kZVN0cmluZ1RvRmxhZ3M6ZT0+e3ZhciB0PXMuZmxhZ01vZGVzW2VdO2lmKHR5cGVvZiB0PiJ1Iil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZmlsZSBvcGVuIG1vZGU6ICIrZSk7cmV0dXJuIHR9LGZsYWdzVG9QZXJtaXNzaW9uU3RyaW5nOmU9Pnt2YXIgdD1bInIiLCJ3IiwicnciXVtlJjNdO3JldHVybiBlJjUxMiYmKHQrPSJ3IiksdH0sbm9kZVBlcm1pc3Npb25zOihlLHQpPT5zLmlnbm9yZVBlcm1pc3Npb25zPzA6dC5pbmNsdWRlcygiciIpJiYhKGUubW9kZSYyOTIpfHx0LmluY2x1ZGVzKCJ3IikmJiEoZS5tb2RlJjE0Nil8fHQuaW5jbHVkZXMoIngiKSYmIShlLm1vZGUmNzMpPzI6MCxtYXlMb29rdXA6ZT0+e3ZhciB0PXMubm9kZVBlcm1pc3Npb25zKGUsIngiKTtyZXR1cm4gdHx8KGUubm9kZV9vcHMubG9va3VwPzA6Mil9LG1heUNyZWF0ZTooZSx0KT0+e3RyeXt2YXIgcj1zLmxvb2t1cE5vZGUoZSx0KTtyZXR1cm4gMjB9Y2F0Y2h7fXJldHVybiBzLm5vZGVQZXJtaXNzaW9ucyhlLCJ3eCIpfSxtYXlEZWxldGU6KGUsdCxyKT0+e3ZhciBuO3RyeXtuPXMubG9va3VwTm9kZShlLHQpfWNhdGNoKG8pe3JldHVybiBvLmVycm5vfXZhciBhPXMubm9kZVBlcm1pc3Npb25zKGUsInd4Iik7aWYoYSlyZXR1cm4gYTtpZihyKXtpZighcy5pc0RpcihuLm1vZGUpKXJldHVybiA1NDtpZihzLmlzUm9vdChuKXx8cy5nZXRQYXRoKG4pPT09cy5jd2QoKSlyZXR1cm4gMTB9ZWxzZSBpZihzLmlzRGlyKG4ubW9kZSkpcmV0dXJuIDMxO3JldHVybiAwfSxtYXlPcGVuOihlLHQpPT5lP3MuaXNMaW5rKGUubW9kZSk/MzI6cy5pc0RpcihlLm1vZGUpJiYocy5mbGFnc1RvUGVybWlzc2lvblN0cmluZyh0KSE9PSJyInx8dCY1MTIpPzMxOnMubm9kZVBlcm1pc3Npb25zKGUscy5mbGFnc1RvUGVybWlzc2lvblN0cmluZyh0KSk6NDQsTUFYX09QRU5fRkRTOjQwOTYsbmV4dGZkOihlPTAsdD1zLk1BWF9PUEVOX0ZEUyk9Pntmb3IodmFyIHI9ZTtyPD10O3IrKylpZighcy5zdHJlYW1zW3JdKXJldHVybiByO3Rocm93IG5ldyBzLkVycm5vRXJyb3IoMzMpfSxnZXRTdHJlYW06ZT0+cy5zdHJlYW1zW2VdLGNyZWF0ZVN0cmVhbTooZSx0LHIpPT57cy5GU1N0cmVhbXx8KHMuRlNTdHJlYW09ZnVuY3Rpb24oKXt0aGlzLnNoYXJlZD17fX0scy5GU1N0cmVhbS5wcm90b3R5cGU9e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocy5GU1N0cmVhbS5wcm90b3R5cGUse29iamVjdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMubm9kZT1hfX0saXNSZWFkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTF9fSxpc1dyaXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5mbGFncyYyMDk3MTU1KSE9PTB9fSxpc0FwcGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxhZ3MmMTAyNH19LGZsYWdzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWQuZmxhZ3N9LHNldDpmdW5jdGlvbihhKXt0aGlzLnNoYXJlZC5mbGFncz1hfX0scG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXJlZC5wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuc2hhcmVkLnBvc2l0aW9uPWF9fX0pKSxlPU9iamVjdC5hc3NpZ24obmV3IHMuRlNTdHJlYW0sZSk7dmFyIG49cy5uZXh0ZmQodCxyKTtyZXR1cm4gZS5mZD1uLHMuc3RyZWFtc1tuXT1lLGV9LGNsb3NlU3RyZWFtOmU9PntzLnN0cmVhbXNbZV09bnVsbH0sY2hyZGV2X3N0cmVhbV9vcHM6e29wZW46ZT0+e3ZhciB0PXMuZ2V0RGV2aWNlKGUubm9kZS5yZGV2KTtlLnN0cmVhbV9vcHM9dC5zdHJlYW1fb3BzLGUuc3RyZWFtX29wcy5vcGVuJiZlLnN0cmVhbV9vcHMub3BlbihlKX0sbGxzZWVrOigpPT57dGhyb3cgbmV3IHMuRXJybm9FcnJvcig3MCl9fSxtYWpvcjplPT5lPj44LG1pbm9yOmU9PmUmMjU1LG1ha2VkZXY6KGUsdCk9PmU8PDh8dCxyZWdpc3RlckRldmljZTooZSx0KT0+e3MuZGV2aWNlc1tlXT17c3RyZWFtX29wczp0fX0sZ2V0RGV2aWNlOmU9PnMuZGV2aWNlc1tlXSxnZXRNb3VudHM6ZT0+e2Zvcih2YXIgdD1bXSxyPVtlXTtyLmxlbmd0aDspe3ZhciBuPXIucG9wKCk7dC5wdXNoKG4pLHIucHVzaC5hcHBseShyLG4ubW91bnRzKX1yZXR1cm4gdH0sc3luY2ZzOihlLHQpPT57dHlwZW9mIGU9PSJmdW5jdGlvbiImJih0PWUsZT0hMSkscy5zeW5jRlNSZXF1ZXN0cysrLHMuc3luY0ZTUmVxdWVzdHM+MSYmSCgid2FybmluZzogIitzLnN5bmNGU1JlcXVlc3RzKyIgRlMuc3luY2ZzIG9wZXJhdGlvbnMgaW4gZmxpZ2h0IGF0IG9uY2UsIHByb2JhYmx5IGp1c3QgZG9pbmcgZXh0cmEgd29yayIpO3ZhciByPXMuZ2V0TW91bnRzKHMucm9vdC5tb3VudCksbj0wO2Z1bmN0aW9uIGEodSl7cmV0dXJuIHMuc3luY0ZTUmVxdWVzdHMtLSx0KHUpfWZ1bmN0aW9uIG8odSl7aWYodSlyZXR1cm4gby5lcnJvcmVkP3ZvaWQgMDooby5lcnJvcmVkPSEwLGEodSkpOysrbj49ci5sZW5ndGgmJmEobnVsbCl9ci5mb3JFYWNoKHU9PntpZighdS50eXBlLnN5bmNmcylyZXR1cm4gbyhudWxsKTt1LnR5cGUuc3luY2ZzKHUsZSxvKX0pfSxtb3VudDooZSx0LHIpPT57dmFyIG49cj09PSIvIixhPSFyLG87aWYobiYmcy5yb290KXRocm93IG5ldyBzLkVycm5vRXJyb3IoMTApO2lmKCFuJiYhYSl7dmFyIHU9cy5sb29rdXBQYXRoKHIse2ZvbGxvd19tb3VudDohMX0pO2lmKHI9dS5wYXRoLG89dS5ub2RlLHMuaXNNb3VudHBvaW50KG8pKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMTApO2lmKCFzLmlzRGlyKG8ubW9kZSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig1NCl9dmFyIGM9e3R5cGU6ZSxvcHRzOnQsbW91bnRwb2ludDpyLG1vdW50czpbXX0sbD1lLm1vdW50KGMpO3JldHVybiBsLm1vdW50PWMsYy5yb290PWwsbj9zLnJvb3Q9bDpvJiYoby5tb3VudGVkPWMsby5tb3VudCYmby5tb3VudC5tb3VudHMucHVzaChjKSksbH0sdW5tb3VudDplPT57dmFyIHQ9cy5sb29rdXBQYXRoKGUse2ZvbGxvd19tb3VudDohMX0pO2lmKCFzLmlzTW91bnRwb2ludCh0Lm5vZGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMjgpO3ZhciByPXQubm9kZSxuPXIubW91bnRlZCxhPXMuZ2V0TW91bnRzKG4pO09iamVjdC5rZXlzKHMubmFtZVRhYmxlKS5mb3JFYWNoKHU9Pntmb3IodmFyIGM9cy5uYW1lVGFibGVbdV07Yzspe3ZhciBsPWMubmFtZV9uZXh0O2EuaW5jbHVkZXMoYy5tb3VudCkmJnMuZGVzdHJveU5vZGUoYyksYz1sfX0pLHIubW91bnRlZD1udWxsO3ZhciBvPXIubW91bnQubW91bnRzLmluZGV4T2Yobik7ci5tb3VudC5tb3VudHMuc3BsaWNlKG8sMSl9LGxvb2t1cDooZSx0KT0+ZS5ub2RlX29wcy5sb29rdXAoZSx0KSxta25vZDooZSx0LHIpPT57dmFyIG49cy5sb29rdXBQYXRoKGUse3BhcmVudDohMH0pLGE9bi5ub2RlLG89WS5iYXNlbmFtZShlKTtpZighb3x8bz09PSIuInx8bz09PSIuLiIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOCk7dmFyIHU9cy5tYXlDcmVhdGUoYSxvKTtpZih1KXRocm93IG5ldyBzLkVycm5vRXJyb3IodSk7aWYoIWEubm9kZV9vcHMubWtub2QpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2Myk7cmV0dXJuIGEubm9kZV9vcHMubWtub2QoYSxvLHQscil9LGNyZWF0ZTooZSx0KT0+KHQ9dCE9PXZvaWQgMD90OjQzOCx0Jj00MDk1LHR8PTMyNzY4LHMubWtub2QoZSx0LDApKSxta2RpcjooZSx0KT0+KHQ9dCE9PXZvaWQgMD90OjUxMSx0Jj0xMDIzLHR8PTE2Mzg0LHMubWtub2QoZSx0LDApKSxta2RpclRyZWU6KGUsdCk9Pntmb3IodmFyIHI9ZS5zcGxpdCgiLyIpLG49IiIsYT0wO2E8ci5sZW5ndGg7KythKWlmKHJbYV0pe24rPSIvIityW2FdO3RyeXtzLm1rZGlyKG4sdCl9Y2F0Y2gobyl7aWYoby5lcnJubyE9MjApdGhyb3cgb319fSxta2RldjooZSx0LHIpPT4odHlwZW9mIHI+InUiJiYocj10LHQ9NDM4KSx0fD04MTkyLHMubWtub2QoZSx0LHIpKSxzeW1saW5rOihlLHQpPT57aWYoIXhlLnJlc29sdmUoZSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0NCk7dmFyIHI9cy5sb29rdXBQYXRoKHQse3BhcmVudDohMH0pLG49ci5ub2RlO2lmKCFuKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNDQpO3ZhciBhPVkuYmFzZW5hbWUodCksbz1zLm1heUNyZWF0ZShuLGEpO2lmKG8pdGhyb3cgbmV3IHMuRXJybm9FcnJvcihvKTtpZighbi5ub2RlX29wcy5zeW1saW5rKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNjMpO3JldHVybiBuLm5vZGVfb3BzLnN5bWxpbmsobixhLGUpfSxyZW5hbWU6KGUsdCk9Pnt2YXIgcj1ZLmRpcm5hbWUoZSksbj1ZLmRpcm5hbWUodCksYT1ZLmJhc2VuYW1lKGUpLG89WS5iYXNlbmFtZSh0KSx1LGMsbDtpZih1PXMubG9va3VwUGF0aChlLHtwYXJlbnQ6ITB9KSxjPXUubm9kZSx1PXMubG9va3VwUGF0aCh0LHtwYXJlbnQ6ITB9KSxsPXUubm9kZSwhY3x8IWwpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0NCk7aWYoYy5tb3VudCE9PWwubW91bnQpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig3NSk7dmFyIGg9cy5sb29rdXBOb2RlKGMsYSksZz14ZS5yZWxhdGl2ZShlLG4pO2lmKGcuY2hhckF0KDApIT09Ii4iKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMjgpO2lmKGc9eGUucmVsYXRpdmUodCxyKSxnLmNoYXJBdCgwKSE9PSIuIil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDU1KTt2YXIgRTt0cnl7RT1zLmxvb2t1cE5vZGUobCxvKX1jYXRjaHt9aWYoaCE9PUUpe3ZhciB5PXMuaXNEaXIoaC5tb2RlKSxUPXMubWF5RGVsZXRlKGMsYSx5KTtpZihUKXRocm93IG5ldyBzLkVycm5vRXJyb3IoVCk7aWYoVD1FP3MubWF5RGVsZXRlKGwsbyx5KTpzLm1heUNyZWF0ZShsLG8pLFQpdGhyb3cgbmV3IHMuRXJybm9FcnJvcihUKTtpZighYy5ub2RlX29wcy5yZW5hbWUpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2Myk7aWYocy5pc01vdW50cG9pbnQoaCl8fEUmJnMuaXNNb3VudHBvaW50KEUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMTApO2lmKGwhPT1jJiYoVD1zLm5vZGVQZXJtaXNzaW9ucyhjLCJ3IiksVCkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcihUKTtzLmhhc2hSZW1vdmVOb2RlKGgpO3RyeXtjLm5vZGVfb3BzLnJlbmFtZShoLGwsbyl9Y2F0Y2goRil7dGhyb3cgRn1maW5hbGx5e3MuaGFzaEFkZE5vZGUoaCl9fX0scm1kaXI6ZT0+e3ZhciB0PXMubG9va3VwUGF0aChlLHtwYXJlbnQ6ITB9KSxyPXQubm9kZSxuPVkuYmFzZW5hbWUoZSksYT1zLmxvb2t1cE5vZGUocixuKSxvPXMubWF5RGVsZXRlKHIsbiwhMCk7aWYobyl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKG8pO2lmKCFyLm5vZGVfb3BzLnJtZGlyKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNjMpO2lmKHMuaXNNb3VudHBvaW50KGEpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMTApO3Iubm9kZV9vcHMucm1kaXIocixuKSxzLmRlc3Ryb3lOb2RlKGEpfSxyZWFkZGlyOmU9Pnt2YXIgdD1zLmxvb2t1cFBhdGgoZSx7Zm9sbG93OiEwfSkscj10Lm5vZGU7aWYoIXIubm9kZV9vcHMucmVhZGRpcil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDU0KTtyZXR1cm4gci5ub2RlX29wcy5yZWFkZGlyKHIpfSx1bmxpbms6ZT0+e3ZhciB0PXMubG9va3VwUGF0aChlLHtwYXJlbnQ6ITB9KSxyPXQubm9kZTtpZighcil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQ0KTt2YXIgbj1ZLmJhc2VuYW1lKGUpLGE9cy5sb29rdXBOb2RlKHIsbiksbz1zLm1heURlbGV0ZShyLG4sITEpO2lmKG8pdGhyb3cgbmV3IHMuRXJybm9FcnJvcihvKTtpZighci5ub2RlX29wcy51bmxpbmspdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2Myk7aWYocy5pc01vdW50cG9pbnQoYSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigxMCk7ci5ub2RlX29wcy51bmxpbmsocixuKSxzLmRlc3Ryb3lOb2RlKGEpfSxyZWFkbGluazplPT57dmFyIHQ9cy5sb29rdXBQYXRoKGUpLHI9dC5ub2RlO2lmKCFyKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNDQpO2lmKCFyLm5vZGVfb3BzLnJlYWRsaW5rKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMjgpO3JldHVybiB4ZS5yZXNvbHZlKHMuZ2V0UGF0aChyLnBhcmVudCksci5ub2RlX29wcy5yZWFkbGluayhyKSl9LHN0YXQ6KGUsdCk9Pnt2YXIgcj1zLmxvb2t1cFBhdGgoZSx7Zm9sbG93OiF0fSksbj1yLm5vZGU7aWYoIW4pdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0NCk7aWYoIW4ubm9kZV9vcHMuZ2V0YXR0cil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDYzKTtyZXR1cm4gbi5ub2RlX29wcy5nZXRhdHRyKG4pfSxsc3RhdDplPT5zLnN0YXQoZSwhMCksY2htb2Q6KGUsdCxyKT0+e3ZhciBuO2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7dmFyIGE9cy5sb29rdXBQYXRoKGUse2ZvbGxvdzohcn0pO249YS5ub2RlfWVsc2Ugbj1lO2lmKCFuLm5vZGVfb3BzLnNldGF0dHIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2Myk7bi5ub2RlX29wcy5zZXRhdHRyKG4se21vZGU6dCY0MDk1fG4ubW9kZSYtNDA5Nix0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2htb2Q6KGUsdCk9PntzLmNobW9kKGUsdCwhMCl9LGZjaG1vZDooZSx0KT0+e3ZhciByPXMuZ2V0U3RyZWFtKGUpO2lmKCFyKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7cy5jaG1vZChyLm5vZGUsdCl9LGNob3duOihlLHQscixuKT0+e3ZhciBhO2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7dmFyIG89cy5sb29rdXBQYXRoKGUse2ZvbGxvdzohbn0pO2E9by5ub2RlfWVsc2UgYT1lO2lmKCFhLm5vZGVfb3BzLnNldGF0dHIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig2Myk7YS5ub2RlX29wcy5zZXRhdHRyKGEse3RpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG93bjooZSx0LHIpPT57cy5jaG93bihlLHQsciwhMCl9LGZjaG93bjooZSx0LHIpPT57dmFyIG49cy5nZXRTdHJlYW0oZSk7aWYoIW4pdGhyb3cgbmV3IHMuRXJybm9FcnJvcig4KTtzLmNob3duKG4ubm9kZSx0LHIpfSx0cnVuY2F0ZTooZSx0KT0+e2lmKHQ8MCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI4KTt2YXIgcjtpZih0eXBlb2YgZT09InN0cmluZyIpe3ZhciBuPXMubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KTtyPW4ubm9kZX1lbHNlIHI9ZTtpZighci5ub2RlX29wcy5zZXRhdHRyKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNjMpO2lmKHMuaXNEaXIoci5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDMxKTtpZighcy5pc0ZpbGUoci5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI4KTt2YXIgYT1zLm5vZGVQZXJtaXNzaW9ucyhyLCJ3Iik7aWYoYSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKGEpO3Iubm9kZV9vcHMuc2V0YXR0cihyLHtzaXplOnQsdGltZXN0YW1wOkRhdGUubm93KCl9KX0sZnRydW5jYXRlOihlLHQpPT57dmFyIHI9cy5nZXRTdHJlYW0oZSk7aWYoIXIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig4KTtpZigoci5mbGFncyYyMDk3MTU1KT09PTApdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOCk7cy50cnVuY2F0ZShyLm5vZGUsdCl9LHV0aW1lOihlLHQscik9Pnt2YXIgbj1zLmxvb2t1cFBhdGgoZSx7Zm9sbG93OiEwfSksYT1uLm5vZGU7YS5ub2RlX29wcy5zZXRhdHRyKGEse3RpbWVzdGFtcDpNYXRoLm1heCh0LHIpfSl9LG9wZW46KGUsdCxyKT0+e2lmKGU9PT0iIil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQ0KTt0PXR5cGVvZiB0PT0ic3RyaW5nIj9zLm1vZGVTdHJpbmdUb0ZsYWdzKHQpOnQscj10eXBlb2Ygcj4idSI/NDM4OnIsdCY2ND9yPXImNDA5NXwzMjc2ODpyPTA7dmFyIG47aWYodHlwZW9mIGU9PSJvYmplY3QiKW49ZTtlbHNle2U9WS5ub3JtYWxpemUoZSk7dHJ5e3ZhciBhPXMubG9va3VwUGF0aChlLHtmb2xsb3c6ISh0JjEzMTA3Mil9KTtuPWEubm9kZX1jYXRjaHt9fXZhciBvPSExO2lmKHQmNjQpaWYobil7aWYodCYxMjgpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyMCl9ZWxzZSBuPXMubWtub2QoZSxyLDApLG89ITA7aWYoIW4pdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0NCk7aWYocy5pc0NocmRldihuLm1vZGUpJiYodCY9LTUxMyksdCY2NTUzNiYmIXMuaXNEaXIobi5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDU0KTtpZighbyl7dmFyIHU9cy5tYXlPcGVuKG4sdCk7aWYodSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKHUpfXQmNTEyJiYhbyYmcy50cnVuY2F0ZShuLDApLHQmPS0xMzE3MTM7dmFyIGM9cy5jcmVhdGVTdHJlYW0oe25vZGU6bixwYXRoOnMuZ2V0UGF0aChuKSxmbGFnczp0LHNlZWthYmxlOiEwLHBvc2l0aW9uOjAsc3RyZWFtX29wczpuLnN0cmVhbV9vcHMsdW5nb3R0ZW46W10sZXJyb3I6ITF9KTtyZXR1cm4gYy5zdHJlYW1fb3BzLm9wZW4mJmMuc3RyZWFtX29wcy5vcGVuKGMpLGkubG9nUmVhZEZpbGVzJiYhKHQmMSkmJihzLnJlYWRGaWxlc3x8KHMucmVhZEZpbGVzPXt9KSxlIGluIHMucmVhZEZpbGVzfHwocy5yZWFkRmlsZXNbZV09MSkpLGN9LGNsb3NlOmU9PntpZihzLmlzQ2xvc2VkKGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7ZS5nZXRkZW50cyYmKGUuZ2V0ZGVudHM9bnVsbCk7dHJ5e2Uuc3RyZWFtX29wcy5jbG9zZSYmZS5zdHJlYW1fb3BzLmNsb3NlKGUpfWNhdGNoKHQpe3Rocm93IHR9ZmluYWxseXtzLmNsb3NlU3RyZWFtKGUuZmQpfWUuZmQ9bnVsbH0saXNDbG9zZWQ6ZT0+ZS5mZD09PW51bGwsbGxzZWVrOihlLHQscik9PntpZihzLmlzQ2xvc2VkKGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7aWYoIWUuc2Vla2FibGV8fCFlLnN0cmVhbV9vcHMubGxzZWVrKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNzApO2lmKHIhPTAmJnIhPTEmJnIhPTIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOCk7cmV0dXJuIGUucG9zaXRpb249ZS5zdHJlYW1fb3BzLmxsc2VlayhlLHQsciksZS51bmdvdHRlbj1bXSxlLnBvc2l0aW9ufSxyZWFkOihlLHQscixuLGEpPT57aWYobjwwfHxhPDApdGhyb3cgbmV3IHMuRXJybm9FcnJvcigyOCk7aWYocy5pc0Nsb3NlZChlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDgpO2lmKChlLmZsYWdzJjIwOTcxNTUpPT09MSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDgpO2lmKHMuaXNEaXIoZS5ub2RlLm1vZGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMzEpO2lmKCFlLnN0cmVhbV9vcHMucmVhZCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI4KTt2YXIgbz10eXBlb2YgYTwidSI7aWYoIW8pYT1lLnBvc2l0aW9uO2Vsc2UgaWYoIWUuc2Vla2FibGUpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig3MCk7dmFyIHU9ZS5zdHJlYW1fb3BzLnJlYWQoZSx0LHIsbixhKTtyZXR1cm4gb3x8KGUucG9zaXRpb24rPXUpLHV9LHdyaXRlOihlLHQscixuLGEsbyk9PntpZihuPDB8fGE8MCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI4KTtpZihzLmlzQ2xvc2VkKGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7aWYoKGUuZmxhZ3MmMjA5NzE1NSk9PT0wKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7aWYocy5pc0RpcihlLm5vZGUubW9kZSkpdGhyb3cgbmV3IHMuRXJybm9FcnJvcigzMSk7aWYoIWUuc3RyZWFtX29wcy53cml0ZSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI4KTtlLnNlZWthYmxlJiZlLmZsYWdzJjEwMjQmJnMubGxzZWVrKGUsMCwyKTt2YXIgdT10eXBlb2YgYTwidSI7aWYoIXUpYT1lLnBvc2l0aW9uO2Vsc2UgaWYoIWUuc2Vla2FibGUpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig3MCk7dmFyIGM9ZS5zdHJlYW1fb3BzLndyaXRlKGUsdCxyLG4sYSxvKTtyZXR1cm4gdXx8KGUucG9zaXRpb24rPWMpLGN9LGFsbG9jYXRlOihlLHQscik9PntpZihzLmlzQ2xvc2VkKGUpKXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7aWYodDwwfHxyPD0wKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMjgpO2lmKChlLmZsYWdzJjIwOTcxNTUpPT09MCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDgpO2lmKCFzLmlzRmlsZShlLm5vZGUubW9kZSkmJiFzLmlzRGlyKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQzKTtpZighZS5zdHJlYW1fb3BzLmFsbG9jYXRlKXRocm93IG5ldyBzLkVycm5vRXJyb3IoMTM4KTtlLnN0cmVhbV9vcHMuYWxsb2NhdGUoZSx0LHIpfSxtbWFwOihlLHQscixuLGEpPT57aWYoKG4mMikhPT0wJiYoYSYyKT09PTAmJihlLmZsYWdzJjIwOTcxNTUpIT09Mil0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDIpO2lmKChlLmZsYWdzJjIwOTcxNTUpPT09MSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDIpO2lmKCFlLnN0cmVhbV9vcHMubW1hcCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQzKTtyZXR1cm4gZS5zdHJlYW1fb3BzLm1tYXAoZSx0LHIsbixhKX0sbXN5bmM6KGUsdCxyLG4sYSk9PmUuc3RyZWFtX29wcy5tc3luYz9lLnN0cmVhbV9vcHMubXN5bmMoZSx0LHIsbixhKTowLG11bm1hcDplPT4wLGlvY3RsOihlLHQscik9PntpZighZS5zdHJlYW1fb3BzLmlvY3RsKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNTkpO3JldHVybiBlLnN0cmVhbV9vcHMuaW9jdGwoZSx0LHIpfSxyZWFkRmlsZTooZSx0PXt9KT0+e2lmKHQuZmxhZ3M9dC5mbGFnc3x8MCx0LmVuY29kaW5nPXQuZW5jb2Rpbmd8fCJiaW5hcnkiLHQuZW5jb2RpbmchPT0idXRmOCImJnQuZW5jb2RpbmchPT0iYmluYXJ5Iil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW5jb2RpbmcgdHlwZSAiJyt0LmVuY29kaW5nKyciJyk7dmFyIHIsbj1zLm9wZW4oZSx0LmZsYWdzKSxhPXMuc3RhdChlKSxvPWEuc2l6ZSx1PW5ldyBVaW50OEFycmF5KG8pO3JldHVybiBzLnJlYWQobix1LDAsbywwKSx0LmVuY29kaW5nPT09InV0ZjgiP3I9RWUodSwwKTp0LmVuY29kaW5nPT09ImJpbmFyeSImJihyPXUpLHMuY2xvc2Uobikscn0sd3JpdGVGaWxlOihlLHQscj17fSk9PntyLmZsYWdzPXIuZmxhZ3N8fDU3Nzt2YXIgbj1zLm9wZW4oZSxyLmZsYWdzLHIubW9kZSk7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXt2YXIgYT1uZXcgVWludDhBcnJheShPZSh0KSsxKSxvPXh0KHQsYSwwLGEubGVuZ3RoKTtzLndyaXRlKG4sYSwwLG8sdm9pZCAwLHIuY2FuT3duKX1lbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlzLndyaXRlKG4sdCwwLHQuYnl0ZUxlbmd0aCx2b2lkIDAsci5jYW5Pd24pO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBkYXRhIHR5cGUiKTtzLmNsb3NlKG4pfSxjd2Q6KCk9PnMuY3VycmVudFBhdGgsY2hkaXI6ZT0+e3ZhciB0PXMubG9va3VwUGF0aChlLHtmb2xsb3c6ITB9KTtpZih0Lm5vZGU9PT1udWxsKXRocm93IG5ldyBzLkVycm5vRXJyb3IoNDQpO2lmKCFzLmlzRGlyKHQubm9kZS5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDU0KTt2YXIgcj1zLm5vZGVQZXJtaXNzaW9ucyh0Lm5vZGUsIngiKTtpZihyKXRocm93IG5ldyBzLkVycm5vRXJyb3Iocik7cy5jdXJyZW50UGF0aD10LnBhdGh9LGNyZWF0ZURlZmF1bHREaXJlY3RvcmllczooKT0+e3MubWtkaXIoIi90bXAiKSxzLm1rZGlyKCIvaG9tZSIpLHMubWtkaXIoIi9ob21lL3dlYl91c2VyIil9LGNyZWF0ZURlZmF1bHREZXZpY2VzOigpPT57cy5ta2RpcigiL2RldiIpLHMucmVnaXN0ZXJEZXZpY2Uocy5tYWtlZGV2KDEsMykse3JlYWQ6KCk9PjAsd3JpdGU6KHQscixuLGEsbyk9PmF9KSxzLm1rZGV2KCIvZGV2L251bGwiLHMubWFrZWRldigxLDMpKSx6ZS5yZWdpc3RlcihzLm1ha2VkZXYoNSwwKSx6ZS5kZWZhdWx0X3R0eV9vcHMpLHplLnJlZ2lzdGVyKHMubWFrZWRldig2LDApLHplLmRlZmF1bHRfdHR5MV9vcHMpLHMubWtkZXYoIi9kZXYvdHR5IixzLm1ha2VkZXYoNSwwKSkscy5ta2RldigiL2Rldi90dHkxIixzLm1ha2VkZXYoNiwwKSk7dmFyIGU9eG4oKTtzLmNyZWF0ZURldmljZSgiL2RldiIsInJhbmRvbSIsZSkscy5jcmVhdGVEZXZpY2UoIi9kZXYiLCJ1cmFuZG9tIixlKSxzLm1rZGlyKCIvZGV2L3NobSIpLHMubWtkaXIoIi9kZXYvc2htL3RtcCIpfSxjcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXM6KCk9PntzLm1rZGlyKCIvcHJvYyIpO3ZhciBlPXMubWtkaXIoIi9wcm9jL3NlbGYiKTtzLm1rZGlyKCIvcHJvYy9zZWxmL2ZkIikscy5tb3VudCh7bW91bnQ6KCk9Pnt2YXIgdD1zLmNyZWF0ZU5vZGUoZSwiZmQiLDE2ODk1LDczKTtyZXR1cm4gdC5ub2RlX29wcz17bG9va3VwOihyLG4pPT57dmFyIGE9K24sbz1zLmdldFN0cmVhbShhKTtpZighbyl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDgpO3ZhciB1PXtwYXJlbnQ6bnVsbCxtb3VudDp7bW91bnRwb2ludDoiZmFrZSJ9LG5vZGVfb3BzOntyZWFkbGluazooKT0+by5wYXRofX07cmV0dXJuIHUucGFyZW50PXUsdX19LHR9fSx7fSwiL3Byb2Mvc2VsZi9mZCIpfSxjcmVhdGVTdGFuZGFyZFN0cmVhbXM6KCk9PntpLnN0ZGluP3MuY3JlYXRlRGV2aWNlKCIvZGV2Iiwic3RkaW4iLGkuc3RkaW4pOnMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZGluIiksaS5zdGRvdXQ/cy5jcmVhdGVEZXZpY2UoIi9kZXYiLCJzdGRvdXQiLG51bGwsaS5zdGRvdXQpOnMuc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZG91dCIpLGkuc3RkZXJyP3MuY3JlYXRlRGV2aWNlKCIvZGV2Iiwic3RkZXJyIixudWxsLGkuc3RkZXJyKTpzLnN5bWxpbmsoIi9kZXYvdHR5MSIsIi9kZXYvc3RkZXJyIikscy5vcGVuKCIvZGV2L3N0ZGluIiwwKSxzLm9wZW4oIi9kZXYvc3Rkb3V0IiwxKSxzLm9wZW4oIi9kZXYvc3RkZXJyIiwxKX0sZW5zdXJlRXJybm9FcnJvcjooKT0+e3MuRXJybm9FcnJvcnx8KHMuRXJybm9FcnJvcj1mdW5jdGlvbihlLHQpe3RoaXMubm9kZT10LHRoaXMuc2V0RXJybm89ZnVuY3Rpb24ocil7dGhpcy5lcnJubz1yfSx0aGlzLnNldEVycm5vKGUpLHRoaXMubWVzc2FnZT0iRlMgZXJyb3IifSxzLkVycm5vRXJyb3IucHJvdG90eXBlPW5ldyBFcnJvcixzLkVycm5vRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPXMuRXJybm9FcnJvcixbNDRdLmZvckVhY2goZT0+e3MuZ2VuZXJpY0Vycm9yc1tlXT1uZXcgcy5FcnJub0Vycm9yKGUpLHMuZ2VuZXJpY0Vycm9yc1tlXS5zdGFjaz0iPGdlbmVyaWMgZXJyb3IsIG5vIHN0YWNrPiJ9KSl9LHN0YXRpY0luaXQ6KCk9PntzLmVuc3VyZUVycm5vRXJyb3IoKSxzLm5hbWVUYWJsZT1uZXcgQXJyYXkoNDA5Nikscy5tb3VudChHLHt9LCIvIikscy5jcmVhdGVEZWZhdWx0RGlyZWN0b3JpZXMoKSxzLmNyZWF0ZURlZmF1bHREZXZpY2VzKCkscy5jcmVhdGVTcGVjaWFsRGlyZWN0b3JpZXMoKSxzLmZpbGVzeXN0ZW1zPXtNRU1GUzpHfX0saW5pdDooZSx0LHIpPT57cy5pbml0LmluaXRpYWxpemVkPSEwLHMuZW5zdXJlRXJybm9FcnJvcigpLGkuc3RkaW49ZXx8aS5zdGRpbixpLnN0ZG91dD10fHxpLnN0ZG91dCxpLnN0ZGVycj1yfHxpLnN0ZGVycixzLmNyZWF0ZVN0YW5kYXJkU3RyZWFtcygpfSxxdWl0OigpPT57cy5pbml0LmluaXRpYWxpemVkPSExO2Zvcih2YXIgZT0wO2U8cy5zdHJlYW1zLmxlbmd0aDtlKyspe3ZhciB0PXMuc3RyZWFtc1tlXTshdHx8cy5jbG9zZSh0KX19LGdldE1vZGU6KGUsdCk9Pnt2YXIgcj0wO3JldHVybiBlJiYocnw9MzY1KSx0JiYocnw9MTQ2KSxyfSxmaW5kT2JqZWN0OihlLHQpPT57dmFyIHI9cy5hbmFseXplUGF0aChlLHQpO3JldHVybiByLmV4aXN0cz9yLm9iamVjdDpudWxsfSxhbmFseXplUGF0aDooZSx0KT0+e3RyeXt2YXIgcj1zLmxvb2t1cFBhdGgoZSx7Zm9sbG93OiF0fSk7ZT1yLnBhdGh9Y2F0Y2h7fXZhciBuPXtpc1Jvb3Q6ITEsZXhpc3RzOiExLGVycm9yOjAsbmFtZTpudWxsLHBhdGg6bnVsbCxvYmplY3Q6bnVsbCxwYXJlbnRFeGlzdHM6ITEscGFyZW50UGF0aDpudWxsLHBhcmVudE9iamVjdDpudWxsfTt0cnl7dmFyIHI9cy5sb29rdXBQYXRoKGUse3BhcmVudDohMH0pO24ucGFyZW50RXhpc3RzPSEwLG4ucGFyZW50UGF0aD1yLnBhdGgsbi5wYXJlbnRPYmplY3Q9ci5ub2RlLG4ubmFtZT1ZLmJhc2VuYW1lKGUpLHI9cy5sb29rdXBQYXRoKGUse2ZvbGxvdzohdH0pLG4uZXhpc3RzPSEwLG4ucGF0aD1yLnBhdGgsbi5vYmplY3Q9ci5ub2RlLG4ubmFtZT1yLm5vZGUubmFtZSxuLmlzUm9vdD1yLnBhdGg9PT0iLyJ9Y2F0Y2goYSl7bi5lcnJvcj1hLmVycm5vfXJldHVybiBufSxjcmVhdGVQYXRoOihlLHQscixuKT0+e2U9dHlwZW9mIGU9PSJzdHJpbmciP2U6cy5nZXRQYXRoKGUpO2Zvcih2YXIgYT10LnNwbGl0KCIvIikucmV2ZXJzZSgpO2EubGVuZ3RoOyl7dmFyIG89YS5wb3AoKTtpZihvKXt2YXIgdT1ZLmpvaW4yKGUsbyk7dHJ5e3MubWtkaXIodSl9Y2F0Y2h7fWU9dX19cmV0dXJuIHV9LGNyZWF0ZUZpbGU6KGUsdCxyLG4sYSk9Pnt2YXIgbz1ZLmpvaW4yKHR5cGVvZiBlPT0ic3RyaW5nIj9lOnMuZ2V0UGF0aChlKSx0KSx1PXMuZ2V0TW9kZShuLGEpO3JldHVybiBzLmNyZWF0ZShvLHUpfSxjcmVhdGVEYXRhRmlsZTooZSx0LHIsbixhLG8pPT57dmFyIHU9dDtlJiYoZT10eXBlb2YgZT09InN0cmluZyI/ZTpzLmdldFBhdGgoZSksdT10P1kuam9pbjIoZSx0KTplKTt2YXIgYz1zLmdldE1vZGUobixhKSxsPXMuY3JlYXRlKHUsYyk7aWYocil7aWYodHlwZW9mIHI9PSJzdHJpbmciKXtmb3IodmFyIGg9bmV3IEFycmF5KHIubGVuZ3RoKSxnPTAsRT1yLmxlbmd0aDtnPEU7KytnKWhbZ109ci5jaGFyQ29kZUF0KGcpO3I9aH1zLmNobW9kKGwsY3wxNDYpO3ZhciB5PXMub3BlbihsLDU3Nyk7cy53cml0ZSh5LHIsMCxyLmxlbmd0aCwwLG8pLHMuY2xvc2UoeSkscy5jaG1vZChsLGMpfXJldHVybiBsfSxjcmVhdGVEZXZpY2U6KGUsdCxyLG4pPT57dmFyIGE9WS5qb2luMih0eXBlb2YgZT09InN0cmluZyI/ZTpzLmdldFBhdGgoZSksdCksbz1zLmdldE1vZGUoISFyLCEhbik7cy5jcmVhdGVEZXZpY2UubWFqb3J8fChzLmNyZWF0ZURldmljZS5tYWpvcj02NCk7dmFyIHU9cy5tYWtlZGV2KHMuY3JlYXRlRGV2aWNlLm1ham9yKyssMCk7cmV0dXJuIHMucmVnaXN0ZXJEZXZpY2UodSx7b3BlbjpjPT57Yy5zZWVrYWJsZT0hMX0sY2xvc2U6Yz0+e24mJm4uYnVmZmVyJiZuLmJ1ZmZlci5sZW5ndGgmJm4oMTApfSxyZWFkOihjLGwsaCxnLEUpPT57Zm9yKHZhciB5PTAsVD0wO1Q8ZztUKyspe3ZhciBGO3RyeXtGPXIoKX1jYXRjaHt0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI5KX1pZihGPT09dm9pZCAwJiZ5PT09MCl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDYpO2lmKEY9PW51bGwpYnJlYWs7eSsrLGxbaCtUXT1GfXJldHVybiB5JiYoYy5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpKSx5fSx3cml0ZTooYyxsLGgsZyxFKT0+e2Zvcih2YXIgeT0wO3k8Zzt5KyspdHJ5e24obFtoK3ldKX1jYXRjaHt0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI5KX1yZXR1cm4gZyYmKGMubm9kZS50aW1lc3RhbXA9RGF0ZS5ub3coKSkseX19KSxzLm1rZGV2KGEsbyx1KX0sZm9yY2VMb2FkRmlsZTplPT57aWYoZS5pc0RldmljZXx8ZS5pc0ZvbGRlcnx8ZS5saW5rfHxlLmNvbnRlbnRzKXJldHVybiEwO2lmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdDwidSIpdGhyb3cgbmV3IEVycm9yKCJMYXp5IGxvYWRpbmcgc2hvdWxkIGhhdmUgYmVlbiBwZXJmb3JtZWQgKGNvbnRlbnRzIHNldCkgaW4gY3JlYXRlTGF6eUZpbGUsIGJ1dCBpdCB3YXMgbm90LiBMYXp5IGxvYWRpbmcgb25seSB3b3JrcyBpbiB3ZWIgd29ya2Vycy4gVXNlIC0tZW1iZWQtZmlsZSBvciAtLXByZWxvYWQtZmlsZSBpbiBlbWNjIG9uIHRoZSBtYWluIHRocmVhZC4iKTtpZihXKXRyeXtlLmNvbnRlbnRzPUN0KFcoZS51cmwpLCEwKSxlLnVzZWRCeXRlcz1lLmNvbnRlbnRzLmxlbmd0aH1jYXRjaHt0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDI5KX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2Fubm90IGxvYWQgd2l0aG91dCByZWFkKCkgb3IgWE1MSHR0cFJlcXVlc3QuIil9LGNyZWF0ZUxhenlGaWxlOihlLHQscixuLGEpPT57ZnVuY3Rpb24gbygpe3RoaXMubGVuZ3RoS25vd249ITEsdGhpcy5jaHVua3M9W119aWYoby5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHkpe2lmKCEoeT50aGlzLmxlbmd0aC0xfHx5PDApKXt2YXIgVD15JXRoaXMuY2h1bmtTaXplLEY9eS90aGlzLmNodW5rU2l6ZXwwO3JldHVybiB0aGlzLmdldHRlcihGKVtUXX19LG8ucHJvdG90eXBlLnNldERhdGFHZXR0ZXI9ZnVuY3Rpb24oeSl7dGhpcy5nZXR0ZXI9eX0sby5wcm90b3R5cGUuY2FjaGVMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgeT1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoeS5vcGVuKCJIRUFEIixyLCExKSx5LnNlbmQobnVsbCksISh5LnN0YXR1cz49MjAwJiZ5LnN0YXR1czwzMDB8fHkuc3RhdHVzPT09MzA0KSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGxvYWQgIityKyIuIFN0YXR1czogIit5LnN0YXR1cyk7dmFyIFQ9TnVtYmVyKHkuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtbGVuZ3RoIikpLEYsUj0oRj15LmdldFJlc3BvbnNlSGVhZGVyKCJBY2NlcHQtUmFuZ2VzIikpJiZGPT09ImJ5dGVzIixqPShGPXkuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtRW5jb2RpbmciKSkmJkY9PT0iZ3ppcCIsST0xMDI0KjEwMjQ7Unx8KEk9VCk7dmFyIHg9KE4sVSk9PntpZihOPlUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHJhbmdlICgiK04rIiwgIitVKyIpIG9yIG5vIGJ5dGVzIHJlcXVlc3RlZCEiKTtpZihVPlQtMSl0aHJvdyBuZXcgRXJyb3IoIm9ubHkgIitUKyIgYnl0ZXMgYXZhaWxhYmxlISBwcm9ncmFtbWVyIGVycm9yISIpO3ZhciBLPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihLLm9wZW4oIkdFVCIsciwhMSksVCE9PUkmJksuc2V0UmVxdWVzdEhlYWRlcigiUmFuZ2UiLCJieXRlcz0iK04rIi0iK1UpLEsucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsSy5vdmVycmlkZU1pbWVUeXBlJiZLLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQiKSxLLnNlbmQobnVsbCksIShLLnN0YXR1cz49MjAwJiZLLnN0YXR1czwzMDB8fEsuc3RhdHVzPT09MzA0KSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGxvYWQgIityKyIuIFN0YXR1czogIitLLnN0YXR1cyk7cmV0dXJuIEsucmVzcG9uc2UhPT12b2lkIDA/bmV3IFVpbnQ4QXJyYXkoSy5yZXNwb25zZXx8W10pOkN0KEsucmVzcG9uc2VUZXh0fHwiIiwhMCl9LEQ9dGhpcztELnNldERhdGFHZXR0ZXIoTj0+e3ZhciBVPU4qSSxLPShOKzEpKkktMTtpZihLPU1hdGgubWluKEssVC0xKSx0eXBlb2YgRC5jaHVua3NbTl0+InUiJiYoRC5jaHVua3NbTl09eChVLEspKSx0eXBlb2YgRC5jaHVua3NbTl0+InUiKXRocm93IG5ldyBFcnJvcigiZG9YSFIgZmFpbGVkISIpO3JldHVybiBELmNodW5rc1tOXX0pLChqfHwhVCkmJihJPVQ9MSxUPXRoaXMuZ2V0dGVyKDApLmxlbmd0aCxJPVQsUSgiTGF6eUZpbGVzIG9uIGd6aXAgZm9yY2VzIGRvd25sb2FkIG9mIHRoZSB3aG9sZSBmaWxlIHdoZW4gbGVuZ3RoIGlzIGFjY2Vzc2VkIikpLHRoaXMuX2xlbmd0aD1ULHRoaXMuX2NodW5rU2l6ZT1JLHRoaXMubGVuZ3RoS25vd249ITB9LHR5cGVvZiBYTUxIdHRwUmVxdWVzdDwidSIpe3Rocm93IkNhbm5vdCBkbyBzeW5jaHJvbm91cyBiaW5hcnkgWEhScyBvdXRzaWRlIHdlYndvcmtlcnMgaW4gbW9kZXJuIGJyb3dzZXJzLiBVc2UgLS1lbWJlZC1maWxlIG9yIC0tcHJlbG9hZC1maWxlIGluIGVtY2MiO3ZhciB1LGN9ZWxzZSB2YXIgYz17aXNEZXZpY2U6ITEsdXJsOnJ9O3ZhciBsPXMuY3JlYXRlRmlsZShlLHQsYyxuLGEpO2MuY29udGVudHM/bC5jb250ZW50cz1jLmNvbnRlbnRzOmMudXJsJiYobC5jb250ZW50cz1udWxsLGwudXJsPWMudXJsKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsLHt1c2VkQnl0ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aH19fSk7dmFyIGg9e30sZz1PYmplY3Qua2V5cyhsLnN0cmVhbV9vcHMpO2cuZm9yRWFjaCh5PT57dmFyIFQ9bC5zdHJlYW1fb3BzW3ldO2hbeV09ZnVuY3Rpb24oKXtyZXR1cm4gcy5mb3JjZUxvYWRGaWxlKGwpLFQuYXBwbHkobnVsbCxhcmd1bWVudHMpfX0pO2Z1bmN0aW9uIEUoeSxULEYsUixqKXt2YXIgST15Lm5vZGUuY29udGVudHM7aWYoaj49SS5sZW5ndGgpcmV0dXJuIDA7dmFyIHg9TWF0aC5taW4oSS5sZW5ndGgtaixSKTtpZihJLnNsaWNlKWZvcih2YXIgRD0wO0Q8eDtEKyspVFtGK0RdPUlbaitEXTtlbHNlIGZvcih2YXIgRD0wO0Q8eDtEKyspVFtGK0RdPUkuZ2V0KGorRCk7cmV0dXJuIHh9cmV0dXJuIGgucmVhZD0oeSxULEYsUixqKT0+KHMuZm9yY2VMb2FkRmlsZShsKSxFKHksVCxGLFIsaikpLGgubW1hcD0oeSxULEYsUixqKT0+e3MuZm9yY2VMb2FkRmlsZShsKTt2YXIgST1TbihUKTtpZighSSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQ4KTtyZXR1cm4gRSh5LEosSSxULEYpLHtwdHI6SSxhbGxvY2F0ZWQ6ITB9fSxsLnN0cmVhbV9vcHM9aCxsfSxjcmVhdGVQcmVsb2FkZWRGaWxlOihlLHQscixuLGEsbyx1LGMsbCxoKT0+e3ZhciBnPXQ/eGUucmVzb2x2ZShZLmpvaW4yKGUsdCkpOmU7ZnVuY3Rpb24gRSh5KXtmdW5jdGlvbiBUKEYpe2gmJmgoKSxjfHxzLmNyZWF0ZURhdGFGaWxlKGUsdCxGLG4sYSxsKSxvJiZvKCksdXQoKX1iLmhhbmRsZWRCeVByZWxvYWRQbHVnaW4oeSxnLFQsKCk9Pnt1JiZ1KCksdXQoKX0pfHxUKHkpfVR0KCksdHlwZW9mIHI9PSJzdHJpbmciP2FvKHIseT0+RSh5KSx1KTpFKHIpfSxpbmRleGVkREI6KCk9PndpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQixEQl9OQU1FOigpPT4iRU1fRlNfIit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsREJfVkVSU0lPTjoyMCxEQl9TVE9SRV9OQU1FOiJGSUxFX0RBVEEiLHNhdmVGaWxlc1RvREI6KGUsdCxyKT0+e3Q9dHx8KCgpPT57fSkscj1yfHwoKCk9Pnt9KTt2YXIgbj1zLmluZGV4ZWREQigpO3RyeXt2YXIgYT1uLm9wZW4ocy5EQl9OQU1FKCkscy5EQl9WRVJTSU9OKX1jYXRjaChvKXtyZXR1cm4gcihvKX1hLm9udXBncmFkZW5lZWRlZD0oKT0+e1EoImNyZWF0aW5nIGRiIik7dmFyIG89YS5yZXN1bHQ7by5jcmVhdGVPYmplY3RTdG9yZShzLkRCX1NUT1JFX05BTUUpfSxhLm9uc3VjY2Vzcz0oKT0+e3ZhciBvPWEucmVzdWx0LHU9by50cmFuc2FjdGlvbihbcy5EQl9TVE9SRV9OQU1FXSwicmVhZHdyaXRlIiksYz11Lm9iamVjdFN0b3JlKHMuREJfU1RPUkVfTkFNRSksbD0wLGg9MCxnPWUubGVuZ3RoO2Z1bmN0aW9uIEUoKXtoPT0wP3QoKTpyKCl9ZS5mb3JFYWNoKHk9Pnt2YXIgVD1jLnB1dChzLmFuYWx5emVQYXRoKHkpLm9iamVjdC5jb250ZW50cyx5KTtULm9uc3VjY2Vzcz0oKT0+e2wrKyxsK2g9PWcmJkUoKX0sVC5vbmVycm9yPSgpPT57aCsrLGwraD09ZyYmRSgpfX0pLHUub25lcnJvcj1yfSxhLm9uZXJyb3I9cn0sbG9hZEZpbGVzRnJvbURCOihlLHQscik9Pnt0PXR8fCgoKT0+e30pLHI9cnx8KCgpPT57fSk7dmFyIG49cy5pbmRleGVkREIoKTt0cnl7dmFyIGE9bi5vcGVuKHMuREJfTkFNRSgpLHMuREJfVkVSU0lPTil9Y2F0Y2gobyl7cmV0dXJuIHIobyl9YS5vbnVwZ3JhZGVuZWVkZWQ9cixhLm9uc3VjY2Vzcz0oKT0+e3ZhciBvPWEucmVzdWx0O3RyeXt2YXIgdT1vLnRyYW5zYWN0aW9uKFtzLkRCX1NUT1JFX05BTUVdLCJyZWFkb25seSIpfWNhdGNoKHkpe3IoeSk7cmV0dXJufXZhciBjPXUub2JqZWN0U3RvcmUocy5EQl9TVE9SRV9OQU1FKSxsPTAsaD0wLGc9ZS5sZW5ndGg7ZnVuY3Rpb24gRSgpe2g9PTA/dCgpOnIoKX1lLmZvckVhY2goeT0+e3ZhciBUPWMuZ2V0KHkpO1Qub25zdWNjZXNzPSgpPT57cy5hbmFseXplUGF0aCh5KS5leGlzdHMmJnMudW5saW5rKHkpLHMuY3JlYXRlRGF0YUZpbGUoWS5kaXJuYW1lKHkpLFkuYmFzZW5hbWUoeSksVC5yZXN1bHQsITAsITAsITApLGwrKyxsK2g9PWcmJkUoKX0sVC5vbmVycm9yPSgpPT57aCsrLGwraD09ZyYmRSgpfX0pLHUub25lcnJvcj1yfSxhLm9uZXJyb3I9cn19LFY9e0RFRkFVTFRfUE9MTE1BU0s6NSxjYWxjdWxhdGVBdDpmdW5jdGlvbihlLHQscil7aWYoWS5pc0Ficyh0KSlyZXR1cm4gdDt2YXIgbjtpZihlPT09LTEwMCluPXMuY3dkKCk7ZWxzZXt2YXIgYT1WLmdldFN0cmVhbUZyb21GRChlKTtuPWEucGF0aH1pZih0Lmxlbmd0aD09MCl7aWYoIXIpdGhyb3cgbmV3IHMuRXJybm9FcnJvcig0NCk7cmV0dXJuIG59cmV0dXJuIFkuam9pbjIobix0KX0sZG9TdGF0OmZ1bmN0aW9uKGUsdCxyKXt0cnl7dmFyIG49ZSh0KX1jYXRjaChhKXtpZihhJiZhLm5vZGUmJlkubm9ybWFsaXplKHQpIT09WS5ub3JtYWxpemUocy5nZXRQYXRoKGEubm9kZSkpKXJldHVybi01NDt0aHJvdyBhfXJldHVybiBfW3I+PjJdPW4uZGV2LF9bcis4Pj4yXT1uLmlubyxfW3IrMTI+PjJdPW4ubW9kZSxCW3IrMTY+PjJdPW4ubmxpbmssX1tyKzIwPj4yXT1uLnVpZCxfW3IrMjQ+PjJdPW4uZ2lkLF9bcisyOD4+Ml09bi5yZGV2LHE9W24uc2l6ZT4+PjAsKHo9bi5zaXplLCtNYXRoLmFicyh6KT49MT96PjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHovNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgoei0rKH5+ej4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLF9bcis0MD4+Ml09cVswXSxfW3IrNDQ+PjJdPXFbMV0sX1tyKzQ4Pj4yXT00MDk2LF9bcis1Mj4+Ml09bi5ibG9ja3MscT1bTWF0aC5mbG9vcihuLmF0aW1lLmdldFRpbWUoKS8xZTMpPj4+MCwoej1NYXRoLmZsb29yKG4uYXRpbWUuZ2V0VGltZSgpLzFlMyksK01hdGguYWJzKHopPj0xP3o+MD8oTWF0aC5taW4oK01hdGguZmxvb3Ioei80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh6LSsofn56Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sX1tyKzU2Pj4yXT1xWzBdLF9bcis2MD4+Ml09cVsxXSxCW3IrNjQ+PjJdPTAscT1bTWF0aC5mbG9vcihuLm10aW1lLmdldFRpbWUoKS8xZTMpPj4+MCwoej1NYXRoLmZsb29yKG4ubXRpbWUuZ2V0VGltZSgpLzFlMyksK01hdGguYWJzKHopPj0xP3o+MD8oTWF0aC5taW4oK01hdGguZmxvb3Ioei80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh6LSsofn56Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sX1tyKzcyPj4yXT1xWzBdLF9bcis3Nj4+Ml09cVsxXSxCW3IrODA+PjJdPTAscT1bTWF0aC5mbG9vcihuLmN0aW1lLmdldFRpbWUoKS8xZTMpPj4+MCwoej1NYXRoLmZsb29yKG4uY3RpbWUuZ2V0VGltZSgpLzFlMyksK01hdGguYWJzKHopPj0xP3o+MD8oTWF0aC5taW4oK01hdGguZmxvb3Ioei80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh6LSsofn56Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sX1tyKzg4Pj4yXT1xWzBdLF9bcis5Mj4+Ml09cVsxXSxCW3IrOTY+PjJdPTAscT1bbi5pbm8+Pj4wLCh6PW4uaW5vLCtNYXRoLmFicyh6KT49MT96PjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHovNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgoei0rKH5+ej4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLF9bcisxMDQ+PjJdPXFbMF0sX1tyKzEwOD4+Ml09cVsxXSwwfSxkb01zeW5jOmZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYoIXMuaXNGaWxlKHQubm9kZS5tb2RlKSl0aHJvdyBuZXcgcy5FcnJub0Vycm9yKDQzKTtpZihuJjIpcmV0dXJuIDA7dmFyIG89JC5zbGljZShlLGUrcik7cy5tc3luYyh0LG8sYSxyLG4pfSx2YXJhcmdzOnZvaWQgMCxnZXQ6ZnVuY3Rpb24oKXtWLnZhcmFyZ3MrPTQ7dmFyIGU9X1tWLnZhcmFyZ3MtND4+Ml07cmV0dXJuIGV9LGdldFN0cjpmdW5jdGlvbihlKXt2YXIgdD1nZShlKTtyZXR1cm4gdH0sZ2V0U3RyZWFtRnJvbUZEOmZ1bmN0aW9uKGUpe3ZhciB0PXMuZ2V0U3RyZWFtKGUpO2lmKCF0KXRocm93IG5ldyBzLkVycm5vRXJyb3IoOCk7cmV0dXJuIHR9fTtmdW5jdGlvbiBpbyhlLHQpe3RyeXtyZXR1cm4gZT1WLmdldFN0cihlKSxzLmNobW9kKGUsdCksMH1jYXRjaChyKXtpZih0eXBlb2Ygcz4idSJ8fCEociBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgcjtyZXR1cm4tci5lcnJub319ZnVuY3Rpb24gb28oZSx0KXt0cnl7cmV0dXJuIHMuZmNobW9kKGUsdCksMH1jYXRjaChyKXtpZih0eXBlb2Ygcz4idSJ8fCEociBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgcjtyZXR1cm4tci5lcnJub319ZnVuY3Rpb24gc28oZSl7cmV0dXJuIF9bdGEoKT4+Ml09ZSxlfWZ1bmN0aW9uIHVvKGUsdCxyKXtWLnZhcmFyZ3M9cjt0cnl7dmFyIG49Vi5nZXRTdHJlYW1Gcm9tRkQoZSk7c3dpdGNoKHQpe2Nhc2UgMDp7dmFyIGE9Vi5nZXQoKTtpZihhPDApcmV0dXJuLTI4O3ZhciBvO3JldHVybiBvPXMuY3JlYXRlU3RyZWFtKG4sYSksby5mZH1jYXNlIDE6Y2FzZSAyOnJldHVybiAwO2Nhc2UgMzpyZXR1cm4gbi5mbGFncztjYXNlIDQ6e3ZhciBhPVYuZ2V0KCk7cmV0dXJuIG4uZmxhZ3N8PWEsMH1jYXNlIDU6e3ZhciBhPVYuZ2V0KCksdT0wO3JldHVybiBpZVthK3U+PjFdPTIsMH1jYXNlIDY6Y2FzZSA3OnJldHVybiAwO2Nhc2UgMTY6Y2FzZSA4OnJldHVybi0yODtjYXNlIDk6cmV0dXJuIHNvKDI4KSwtMTtkZWZhdWx0OnJldHVybi0yOH19Y2F0Y2goYyl7aWYodHlwZW9mIHM+InUifHwhKGMgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IGM7cmV0dXJuLWMuZXJybm99fWZ1bmN0aW9uIGNvKGUsdCl7dHJ5e3ZhciByPVYuZ2V0U3RyZWFtRnJvbUZEKGUpO3JldHVybiBWLmRvU3RhdChzLnN0YXQsci5wYXRoLHQpfWNhdGNoKG4pe2lmKHR5cGVvZiBzPiJ1Inx8IShuIGluc3RhbmNlb2Ygcy5FcnJub0Vycm9yKSl0aHJvdyBuO3JldHVybi1uLmVycm5vfX1mdW5jdGlvbiBUbihlLHQpe3JldHVybiB0KzIwOTcxNTI+Pj4wPDQxOTQzMDUtISFlPyhlPj4+MCkrdCo0Mjk0OTY3Mjk2Ok5hTn1mdW5jdGlvbiBsbyhlLHQscil7dHJ5e3ZhciBuPVRuKHQscik7cmV0dXJuIGlzTmFOKG4pPy02MToocy5mdHJ1bmNhdGUoZSxuKSwwKX1jYXRjaChhKXtpZih0eXBlb2Ygcz4idSJ8fCEoYSBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgYTtyZXR1cm4tYS5lcnJub319ZnVuY3Rpb24gZm8oZSx0KXt0cnl7aWYodD09PTApcmV0dXJuLTI4O3ZhciByPXMuY3dkKCksbj1PZShyKSsxO3JldHVybiB0PG4/LTY4OihOZShyLGUsdCksbil9Y2F0Y2goYSl7aWYodHlwZW9mIHM+InUifHwhKGEgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IGE7cmV0dXJuLWEuZXJybm99fWZ1bmN0aW9uIG1vKGUsdCxyKXt0cnl7dmFyIG49Vi5nZXRTdHJlYW1Gcm9tRkQoZSk7bi5nZXRkZW50c3x8KG4uZ2V0ZGVudHM9cy5yZWFkZGlyKG4ucGF0aCkpO2Zvcih2YXIgYT0yODAsbz0wLHU9cy5sbHNlZWsobiwwLDEpLGM9TWF0aC5mbG9vcih1L2EpO2M8bi5nZXRkZW50cy5sZW5ndGgmJm8rYTw9cjspe3ZhciBsLGgsZz1uLmdldGRlbnRzW2NdO2lmKGc9PT0iLiIpbD1uLm5vZGUuaWQsaD00O2Vsc2UgaWYoZz09PSIuLiIpe3ZhciBFPXMubG9va3VwUGF0aChuLnBhdGgse3BhcmVudDohMH0pO2w9RS5ub2RlLmlkLGg9NH1lbHNle3ZhciB5PXMubG9va3VwTm9kZShuLm5vZGUsZyk7bD15LmlkLGg9cy5pc0NocmRldih5Lm1vZGUpPzI6cy5pc0Rpcih5Lm1vZGUpPzQ6cy5pc0xpbmsoeS5tb2RlKT8xMDo4fXE9W2w+Pj4wLCh6PWwsK01hdGguYWJzKHopPj0xP3o+MD8oTWF0aC5taW4oK01hdGguZmxvb3Ioei80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1KXwwKT4+PjA6fn4rTWF0aC5jZWlsKCh6LSsofn56Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKV0sX1t0K28+PjJdPXFbMF0sX1t0K28rND4+Ml09cVsxXSxxPVsoYysxKSphPj4+MCwoej0oYysxKSphLCtNYXRoLmFicyh6KT49MT96PjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHovNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgoei0rKH5+ej4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLF9bdCtvKzg+PjJdPXFbMF0sX1t0K28rMTI+PjJdPXFbMV0saWVbdCtvKzE2Pj4xXT0yODAsSlt0K28rMTg+PjBdPWgsTmUoZyx0K28rMTksMjU2KSxvKz1hLGMrPTF9cmV0dXJuIHMubGxzZWVrKG4sYyphLDApLG99Y2F0Y2goVCl7aWYodHlwZW9mIHM+InUifHwhKFQgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IFQ7cmV0dXJuLVQuZXJybm99fWZ1bmN0aW9uIHBvKGUsdCxyKXtWLnZhcmFyZ3M9cjt0cnl7dmFyIG49Vi5nZXRTdHJlYW1Gcm9tRkQoZSk7c3dpdGNoKHQpe2Nhc2UgMjE1MDk6Y2FzZSAyMTUwNTpyZXR1cm4gbi50dHk/MDotNTk7Y2FzZSAyMTUxMDpjYXNlIDIxNTExOmNhc2UgMjE1MTI6Y2FzZSAyMTUwNjpjYXNlIDIxNTA3OmNhc2UgMjE1MDg6cmV0dXJuIG4udHR5PzA6LTU5O2Nhc2UgMjE1MTk6e2lmKCFuLnR0eSlyZXR1cm4tNTk7dmFyIGE9Vi5nZXQoKTtyZXR1cm4gX1thPj4yXT0wLDB9Y2FzZSAyMTUyMDpyZXR1cm4gbi50dHk/LTI4Oi01OTtjYXNlIDIxNTMxOnt2YXIgYT1WLmdldCgpO3JldHVybiBzLmlvY3RsKG4sdCxhKX1jYXNlIDIxNTIzOnJldHVybiBuLnR0eT8wOi01OTtjYXNlIDIxNTI0OnJldHVybiBuLnR0eT8wOi01OTtkZWZhdWx0OnJldHVybi0yOH19Y2F0Y2gobyl7aWYodHlwZW9mIHM+InUifHwhKG8gaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IG87cmV0dXJuLW8uZXJybm99fWZ1bmN0aW9uIGhvKGUsdCl7dHJ5e3JldHVybiBlPVYuZ2V0U3RyKGUpLFYuZG9TdGF0KHMubHN0YXQsZSx0KX1jYXRjaChyKXtpZih0eXBlb2Ygcz4idSJ8fCEociBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgcjtyZXR1cm4tci5lcnJub319ZnVuY3Rpb24gZ28oZSx0LHIpe3RyeXtyZXR1cm4gdD1WLmdldFN0cih0KSx0PVYuY2FsY3VsYXRlQXQoZSx0KSx0PVkubm9ybWFsaXplKHQpLHRbdC5sZW5ndGgtMV09PT0iLyImJih0PXQuc3Vic3RyKDAsdC5sZW5ndGgtMSkpLHMubWtkaXIodCxyLDApLDB9Y2F0Y2gobil7aWYodHlwZW9mIHM+InUifHwhKG4gaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IG47cmV0dXJuLW4uZXJybm99fWZ1bmN0aW9uIHlvKGUsdCxyLG4pe3RyeXt0PVYuZ2V0U3RyKHQpO3ZhciBhPW4mMjU2LG89biY0MDk2O3JldHVybiBuPW4mLTQzNTMsdD1WLmNhbGN1bGF0ZUF0KGUsdCxvKSxWLmRvU3RhdChhP3MubHN0YXQ6cy5zdGF0LHQscil9Y2F0Y2godSl7aWYodHlwZW9mIHM+InUifHwhKHUgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IHU7cmV0dXJuLXUuZXJybm99fWZ1bmN0aW9uIHZvKGUsdCxyLG4pe1YudmFyYXJncz1uO3RyeXt0PVYuZ2V0U3RyKHQpLHQ9Vi5jYWxjdWxhdGVBdChlLHQpO3ZhciBhPW4/Vi5nZXQoKTowO3JldHVybiBzLm9wZW4odCxyLGEpLmZkfWNhdGNoKG8pe2lmKHR5cGVvZiBzPiJ1Inx8IShvIGluc3RhbmNlb2Ygcy5FcnJub0Vycm9yKSl0aHJvdyBvO3JldHVybi1vLmVycm5vfX1mdW5jdGlvbiBibyhlLHQscixuKXt0cnl7aWYodD1WLmdldFN0cih0KSx0PVYuY2FsY3VsYXRlQXQoZSx0KSxuPD0wKXJldHVybi0yODt2YXIgYT1zLnJlYWRsaW5rKHQpLG89TWF0aC5taW4obixPZShhKSksdT1KW3Irb107cmV0dXJuIE5lKGEscixuKzEpLEpbcitvXT11LG99Y2F0Y2goYyl7aWYodHlwZW9mIHM+InUifHwhKGMgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IGM7cmV0dXJuLWMuZXJybm99fWZ1bmN0aW9uIF9vKGUsdCxyLG4pe3RyeXtyZXR1cm4gdD1WLmdldFN0cih0KSxuPVYuZ2V0U3RyKG4pLHQ9Vi5jYWxjdWxhdGVBdChlLHQpLG49Vi5jYWxjdWxhdGVBdChyLG4pLHMucmVuYW1lKHQsbiksMH1jYXRjaChhKXtpZih0eXBlb2Ygcz4idSJ8fCEoYSBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgYTtyZXR1cm4tYS5lcnJub319ZnVuY3Rpb24gRW8oZSx0KXt0cnl7cmV0dXJuIGU9Vi5nZXRTdHIoZSksVi5kb1N0YXQocy5zdGF0LGUsdCl9Y2F0Y2gocil7aWYodHlwZW9mIHM+InUifHwhKHIgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IHI7cmV0dXJuLXIuZXJybm99fWZ1bmN0aW9uIHdvKGUsdCl7dHJ5e3JldHVybiBlPVYuZ2V0U3RyKGUpLHQ9Vi5nZXRTdHIodCkscy5zeW1saW5rKGUsdCksMH1jYXRjaChyKXtpZih0eXBlb2Ygcz4idSJ8fCEociBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgcjtyZXR1cm4tci5lcnJub319ZnVuY3Rpb24geG8oZSx0LHIpe3RyeXtyZXR1cm4gdD1WLmdldFN0cih0KSx0PVYuY2FsY3VsYXRlQXQoZSx0KSxyPT09MD9zLnVubGluayh0KTpyPT09NTEyP3Mucm1kaXIodCk6d2UoIkludmFsaWQgZmxhZ3MgcGFzc2VkIHRvIHVubGlua2F0IiksMH1jYXRjaChuKXtpZih0eXBlb2Ygcz4idSJ8fCEobiBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgbjtyZXR1cm4tbi5lcnJub319ZnVuY3Rpb24gU28oZSl7fXZhciBDbj0iVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgZW5hYmxlIGR5bmFtaWMgbGlua2luZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmciO2Z1bmN0aW9uIFRvKGUsdCl7d2UoQ24pfWZ1bmN0aW9uIENvKGUsdCl7d2UoQ24pfWZ1bmN0aW9uIGtvKGUsdCxyLG4sYSl7fWZ1bmN0aW9uIGt0KGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIDA7Y2FzZSAyOnJldHVybiAxO2Nhc2UgNDpyZXR1cm4gMjtjYXNlIDg6cmV0dXJuIDM7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIHR5cGUgc2l6ZTogIitlKX19ZnVuY3Rpb24gUG8oKXtmb3IodmFyIGU9bmV3IEFycmF5KDI1NiksdD0wO3Q8MjU2OysrdCllW3RdPVN0cmluZy5mcm9tQ2hhckNvZGUodCk7a249ZX12YXIga249dm9pZCAwO2Z1bmN0aW9uIHJlKGUpe2Zvcih2YXIgdD0iIixyPWU7JFtyXTspdCs9a25bJFtyKytdXTtyZXR1cm4gdH12YXIgSGU9e30sVmU9e30sUHQ9e30sRG89NDgsRm89NTc7ZnVuY3Rpb24gRHQoZSl7aWYoZT09PXZvaWQgMClyZXR1cm4iX3Vua25vd24iO2U9ZS5yZXBsYWNlKC9bXmEtekEtWjAtOV9dL2csIiQiKTt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7cmV0dXJuIHQ+PURvJiZ0PD1Gbz8iXyIrZTplfWZ1bmN0aW9uIEZ0KGUsdCl7cmV0dXJuIGU9RHQoZSksbmV3IEZ1bmN0aW9uKCJib2R5IiwicmV0dXJuIGZ1bmN0aW9uICIrZStgKCkgewogICAgInVzZSBzdHJpY3QiOyAgICByZXR1cm4gYm9keS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9OwpgKSh0KX1mdW5jdGlvbiBwcihlLHQpe3ZhciByPUZ0KHQsZnVuY3Rpb24obil7dGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPW47dmFyIGE9bmV3IEVycm9yKG4pLnN0YWNrO2EhPT12b2lkIDAmJih0aGlzLnN0YWNrPXRoaXMudG9TdHJpbmcoKStgCmArYS5yZXBsYWNlKC9eRXJyb3IoOlteXG5dKik/XG4vLCIiKSl9KTtyZXR1cm4gci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2U9PT12b2lkIDA/dGhpcy5uYW1lOnRoaXMubmFtZSsiOiAiK3RoaXMubWVzc2FnZX0scn12YXIgJGU9dm9pZCAwO2Z1bmN0aW9uIFgoZSl7dGhyb3cgbmV3ICRlKGUpfXZhciBQbj12b2lkIDA7ZnVuY3Rpb24gTXQoZSl7dGhyb3cgbmV3IFBuKGUpfWZ1bmN0aW9uIHBlKGUsdCxyKXtlLmZvckVhY2goZnVuY3Rpb24oYyl7UHRbY109dH0pO2Z1bmN0aW9uIG4oYyl7dmFyIGw9cihjKTtsLmxlbmd0aCE9PWUubGVuZ3RoJiZNdCgiTWlzbWF0Y2hlZCB0eXBlIGNvbnZlcnRlciBjb3VudCIpO2Zvcih2YXIgaD0wO2g8ZS5sZW5ndGg7KytoKXllKGVbaF0sbFtoXSl9dmFyIGE9bmV3IEFycmF5KHQubGVuZ3RoKSxvPVtdLHU9MDt0LmZvckVhY2goKGMsbCk9PntWZS5oYXNPd25Qcm9wZXJ0eShjKT9hW2xdPVZlW2NdOihvLnB1c2goYyksSGUuaGFzT3duUHJvcGVydHkoYyl8fChIZVtjXT1bXSksSGVbY10ucHVzaCgoKT0+e2FbbF09VmVbY10sKyt1LHU9PT1vLmxlbmd0aCYmbihhKX0pKX0pLG8ubGVuZ3RoPT09MCYmbihhKX1mdW5jdGlvbiB5ZShlLHQscj17fSl7aWYoISgiYXJnUGFja0FkdmFuY2UiaW4gdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVnaXN0ZXJUeXBlIHJlZ2lzdGVyZWRJbnN0YW5jZSByZXF1aXJlcyBhcmdQYWNrQWR2YW5jZSIpO3ZhciBuPXQubmFtZTtpZihlfHxYKCd0eXBlICInK24rJyIgbXVzdCBoYXZlIGEgcG9zaXRpdmUgaW50ZWdlciB0eXBlaWQgcG9pbnRlcicpLFZlLmhhc093blByb3BlcnR5KGUpKXtpZihyLmlnbm9yZUR1cGxpY2F0ZVJlZ2lzdHJhdGlvbnMpcmV0dXJuO1goIkNhbm5vdCByZWdpc3RlciB0eXBlICciK24rIicgdHdpY2UiKX1pZihWZVtlXT10LGRlbGV0ZSBQdFtlXSxIZS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGE9SGVbZV07ZGVsZXRlIEhlW2VdLGEuZm9yRWFjaChvPT5vKCkpfX1mdW5jdGlvbiBNbyhlLHQscixuLGEpe3ZhciBvPWt0KHIpO3Q9cmUodCkseWUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTpmdW5jdGlvbih1KXtyZXR1cm4hIXV9LHRvV2lyZVR5cGU6ZnVuY3Rpb24odSxjKXtyZXR1cm4gYz9uOmF9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6ZnVuY3Rpb24odSl7dmFyIGM7aWYocj09PTEpYz1KO2Vsc2UgaWYocj09PTIpYz1pZTtlbHNlIGlmKHI9PT00KWM9XztlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gYm9vbGVhbiB0eXBlIHNpemU6ICIrdCk7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGNbdT4+b10pfSxkZXN0cnVjdG9yRnVuY3Rpb246bnVsbH0pfWZ1bmN0aW9uIExvKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIENlKXx8IShlIGluc3RhbmNlb2YgQ2UpKXJldHVybiExO2Zvcih2YXIgdD10aGlzLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLHI9dGhpcy4kJC5wdHIsbj1lLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLGE9ZS4kJC5wdHI7dC5iYXNlQ2xhc3M7KXI9dC51cGNhc3QociksdD10LmJhc2VDbGFzcztmb3IoO24uYmFzZUNsYXNzOylhPW4udXBjYXN0KGEpLG49bi5iYXNlQ2xhc3M7cmV0dXJuIHQ9PT1uJiZyPT09YX1mdW5jdGlvbiBSbyhlKXtyZXR1cm57Y291bnQ6ZS5jb3VudCxkZWxldGVTY2hlZHVsZWQ6ZS5kZWxldGVTY2hlZHVsZWQscHJlc2VydmVQb2ludGVyT25EZWxldGU6ZS5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSxwdHI6ZS5wdHIscHRyVHlwZTplLnB0clR5cGUsc21hcnRQdHI6ZS5zbWFydFB0cixzbWFydFB0clR5cGU6ZS5zbWFydFB0clR5cGV9fWZ1bmN0aW9uIGhyKGUpe2Z1bmN0aW9uIHQocil7cmV0dXJuIHIuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3MubmFtZX1YKHQoZSkrIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKX12YXIgZ3I9ITE7ZnVuY3Rpb24gRG4oZSl7fWZ1bmN0aW9uIEFvKGUpe2Uuc21hcnRQdHI/ZS5zbWFydFB0clR5cGUucmF3RGVzdHJ1Y3RvcihlLnNtYXJ0UHRyKTplLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLnJhd0Rlc3RydWN0b3IoZS5wdHIpfWZ1bmN0aW9uIEZuKGUpe2UuY291bnQudmFsdWUtPTE7dmFyIHQ9ZS5jb3VudC52YWx1ZT09PTA7dCYmQW8oZSl9ZnVuY3Rpb24gTW4oZSx0LHIpe2lmKHQ9PT1yKXJldHVybiBlO2lmKHIuYmFzZUNsYXNzPT09dm9pZCAwKXJldHVybiBudWxsO3ZhciBuPU1uKGUsdCxyLmJhc2VDbGFzcyk7cmV0dXJuIG49PT1udWxsP251bGw6ci5kb3duY2FzdChuKX12YXIgTG49e307ZnVuY3Rpb24gam8oKXtyZXR1cm4gT2JqZWN0LmtleXMoZnQpLmxlbmd0aH1mdW5jdGlvbiBJbygpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiBmdClmdC5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKGZ0W3RdKTtyZXR1cm4gZX12YXIgY3Q9W107ZnVuY3Rpb24geXIoKXtmb3IoO2N0Lmxlbmd0aDspe3ZhciBlPWN0LnBvcCgpO2UuJCQuZGVsZXRlU2NoZWR1bGVkPSExLGUuZGVsZXRlKCl9fXZhciBsdD12b2lkIDA7ZnVuY3Rpb24gTm8oZSl7bHQ9ZSxjdC5sZW5ndGgmJmx0JiZsdCh5cil9ZnVuY3Rpb24gT28oKXtpLmdldEluaGVyaXRlZEluc3RhbmNlQ291bnQ9am8saS5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzPUlvLGkuZmx1c2hQZW5kaW5nRGVsZXRlcz15cixpLnNldERlbGF5RnVuY3Rpb249Tm99dmFyIGZ0PXt9O2Z1bmN0aW9uIEJvKGUsdCl7Zm9yKHQ9PT12b2lkIDAmJlgoInB0ciBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCIpO2UuYmFzZUNsYXNzOyl0PWUudXBjYXN0KHQpLGU9ZS5iYXNlQ2xhc3M7cmV0dXJuIHR9ZnVuY3Rpb24gem8oZSx0KXtyZXR1cm4gdD1CbyhlLHQpLGZ0W3RdfWZ1bmN0aW9uIEx0KGUsdCl7KCF0LnB0clR5cGV8fCF0LnB0cikmJk10KCJtYWtlQ2xhc3NIYW5kbGUgcmVxdWlyZXMgcHRyIGFuZCBwdHJUeXBlIik7dmFyIHI9ISF0LnNtYXJ0UHRyVHlwZSxuPSEhdC5zbWFydFB0cjtyZXR1cm4gciE9PW4mJk10KCJCb3RoIHNtYXJ0UHRyVHlwZSBhbmQgc21hcnRQdHIgbXVzdCBiZSBzcGVjaWZpZWQiKSx0LmNvdW50PXt2YWx1ZToxfSxkdChPYmplY3QuY3JlYXRlKGUseyQkOnt2YWx1ZTp0fX0pKX1mdW5jdGlvbiBWbyhlKXt2YXIgdD10aGlzLmdldFBvaW50ZWUoZSk7aWYoIXQpcmV0dXJuIHRoaXMuZGVzdHJ1Y3RvcihlKSxudWxsO3ZhciByPXpvKHRoaXMucmVnaXN0ZXJlZENsYXNzLHQpO2lmKHIhPT12b2lkIDApe2lmKHIuJCQuY291bnQudmFsdWU9PT0wKXJldHVybiByLiQkLnB0cj10LHIuJCQuc21hcnRQdHI9ZSxyLmNsb25lKCk7dmFyIG49ci5jbG9uZSgpO3JldHVybiB0aGlzLmRlc3RydWN0b3IoZSksbn1mdW5jdGlvbiBhKCl7cmV0dXJuIHRoaXMuaXNTbWFydFBvaW50ZXI/THQodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6dCxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjplfSk6THQodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6ZX0pfXZhciBvPXRoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUodCksdT1MbltvXTtpZighdSlyZXR1cm4gYS5jYWxsKHRoaXMpO3ZhciBjO3RoaXMuaXNDb25zdD9jPXUuY29uc3RQb2ludGVyVHlwZTpjPXUucG9pbnRlclR5cGU7dmFyIGw9TW4odCx0aGlzLnJlZ2lzdGVyZWRDbGFzcyxjLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIGw9PT1udWxsP2EuY2FsbCh0aGlzKTp0aGlzLmlzU21hcnRQb2ludGVyP0x0KGMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOmMscHRyOmwsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6ZX0pOkx0KGMucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOmMscHRyOmx9KX1mdW5jdGlvbiBkdChlKXtyZXR1cm4gdHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5PiJ1Ij8oZHQ9dD0+dCxlKTooZ3I9bmV3IEZpbmFsaXphdGlvblJlZ2lzdHJ5KHQ9PntGbih0LiQkKX0pLGR0PXQ9Pnt2YXIgcj10LiQkLG49ISFyLnNtYXJ0UHRyO2lmKG4pe3ZhciBhPXskJDpyfTtnci5yZWdpc3Rlcih0LGEsdCl9cmV0dXJuIHR9LERuPXQ9PmdyLnVucmVnaXN0ZXIodCksZHQoZSkpfWZ1bmN0aW9uIFdvKCl7aWYodGhpcy4kJC5wdHJ8fGhyKHRoaXMpLHRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUpcmV0dXJuIHRoaXMuJCQuY291bnQudmFsdWUrPTEsdGhpczt2YXIgZT1kdChPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSx7JCQ6e3ZhbHVlOlJvKHRoaXMuJCQpfX0pKTtyZXR1cm4gZS4kJC5jb3VudC52YWx1ZSs9MSxlLiQkLmRlbGV0ZVNjaGVkdWxlZD0hMSxlfWZ1bmN0aW9uIFVvKCl7dGhpcy4kJC5wdHJ8fGhyKHRoaXMpLHRoaXMuJCQuZGVsZXRlU2NoZWR1bGVkJiYhdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSYmWCgiT2JqZWN0IGFscmVhZHkgc2NoZWR1bGVkIGZvciBkZWxldGlvbiIpLERuKHRoaXMpLEZuKHRoaXMuJCQpLHRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGV8fCh0aGlzLiQkLnNtYXJ0UHRyPXZvaWQgMCx0aGlzLiQkLnB0cj12b2lkIDApfWZ1bmN0aW9uIEdvKCl7cmV0dXJuIXRoaXMuJCQucHRyfWZ1bmN0aW9uIEtvKCl7cmV0dXJuIHRoaXMuJCQucHRyfHxocih0aGlzKSx0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUmJlgoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKSxjdC5wdXNoKHRoaXMpLGN0Lmxlbmd0aD09PTEmJmx0JiZsdCh5ciksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQ9ITAsdGhpc31mdW5jdGlvbiBYbygpe0NlLnByb3RvdHlwZS5pc0FsaWFzT2Y9TG8sQ2UucHJvdG90eXBlLmNsb25lPVdvLENlLnByb3RvdHlwZS5kZWxldGU9VW8sQ2UucHJvdG90eXBlLmlzRGVsZXRlZD1HbyxDZS5wcm90b3R5cGUuZGVsZXRlTGF0ZXI9S299ZnVuY3Rpb24gQ2UoKXt9ZnVuY3Rpb24gdnIoZSx0LHIpe2lmKGVbdF0ub3ZlcmxvYWRUYWJsZT09PXZvaWQgMCl7dmFyIG49ZVt0XTtlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGVbdF0ub3ZlcmxvYWRUYWJsZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHMubGVuZ3RoKXx8WCgiRnVuY3Rpb24gJyIrcisiJyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdHMgb25lIG9mICgiK2VbdF0ub3ZlcmxvYWRUYWJsZSsiKSEiKSxlW3RdLm92ZXJsb2FkVGFibGVbYXJndW1lbnRzLmxlbmd0aF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlW3RdLm92ZXJsb2FkVGFibGU9W10sZVt0XS5vdmVybG9hZFRhYmxlW24uYXJnQ291bnRdPW59fWZ1bmN0aW9uIGJyKGUsdCxyKXtpLmhhc093blByb3BlcnR5KGUpPygocj09PXZvaWQgMHx8aVtlXS5vdmVybG9hZFRhYmxlIT09dm9pZCAwJiZpW2VdLm92ZXJsb2FkVGFibGVbcl0hPT12b2lkIDApJiZYKCJDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJyIrZSsiJyB0d2ljZSIpLHZyKGksZSxlKSxpLmhhc093blByb3BlcnR5KHIpJiZYKCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgb3ZlcmxvYWRzIG9mIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBudW1iZXIgb2YgYXJndW1lbnRzICgiK3IrIikhIiksaVtlXS5vdmVybG9hZFRhYmxlW3JdPXQpOihpW2VdPXQsciE9PXZvaWQgMCYmKGlbZV0ubnVtQXJndW1lbnRzPXIpKX1mdW5jdGlvbiBZbyhlLHQscixuLGEsbyx1LGMpe3RoaXMubmFtZT1lLHRoaXMuY29uc3RydWN0b3I9dCx0aGlzLmluc3RhbmNlUHJvdG90eXBlPXIsdGhpcy5yYXdEZXN0cnVjdG9yPW4sdGhpcy5iYXNlQ2xhc3M9YSx0aGlzLmdldEFjdHVhbFR5cGU9byx0aGlzLnVwY2FzdD11LHRoaXMuZG93bmNhc3Q9Yyx0aGlzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zPVtdfWZ1bmN0aW9uIFJ0KGUsdCxyKXtmb3IoO3QhPT1yOyl0LnVwY2FzdHx8WCgiRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiAiK3IubmFtZSsiLCBnb3QgYW4gaW5zdGFuY2Ugb2YgIit0Lm5hbWUpLGU9dC51cGNhc3QoZSksdD10LmJhc2VDbGFzcztyZXR1cm4gZX1mdW5jdGlvbiBabyhlLHQpe2lmKHQ9PT1udWxsKXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZYKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO3QuJCR8fFgoJ0Nhbm5vdCBwYXNzICInK3hyKHQpKyciIGFzIGEgJyt0aGlzLm5hbWUpLHQuJCQucHRyfHxYKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSk7dmFyIHI9dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxuPVJ0KHQuJCQucHRyLHIsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBufWZ1bmN0aW9uIEhvKGUsdCl7dmFyIHI7aWYodD09PW51bGwpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJlgoIm51bGwgaXMgbm90IGEgdmFsaWQgIit0aGlzLm5hbWUpLHRoaXMuaXNTbWFydFBvaW50ZXI/KHI9dGhpcy5yYXdDb25zdHJ1Y3RvcigpLGUhPT1udWxsJiZlLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLHIpLHIpOjA7dC4kJHx8WCgnQ2Fubm90IHBhc3MgIicreHIodCkrJyIgYXMgYSAnK3RoaXMubmFtZSksdC4kJC5wdHJ8fFgoIkNhbm5vdCBwYXNzIGRlbGV0ZWQgb2JqZWN0IGFzIGEgcG9pbnRlciBvZiB0eXBlICIrdGhpcy5uYW1lKSwhdGhpcy5pc0NvbnN0JiZ0LiQkLnB0clR5cGUuaXNDb25zdCYmWCgiQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAiKyh0LiQkLnNtYXJ0UHRyVHlwZT90LiQkLnNtYXJ0UHRyVHlwZS5uYW1lOnQuJCQucHRyVHlwZS5uYW1lKSsiIHRvIHBhcmFtZXRlciB0eXBlICIrdGhpcy5uYW1lKTt2YXIgbj10LiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzO2lmKHI9UnQodC4kJC5wdHIsbix0aGlzLnJlZ2lzdGVyZWRDbGFzcyksdGhpcy5pc1NtYXJ0UG9pbnRlcilzd2l0Y2godC4kJC5zbWFydFB0cj09PXZvaWQgMCYmWCgiUGFzc2luZyByYXcgcG9pbnRlciB0byBzbWFydCBwb2ludGVyIGlzIGlsbGVnYWwiKSx0aGlzLnNoYXJpbmdQb2xpY3kpe2Nhc2UgMDp0LiQkLnNtYXJ0UHRyVHlwZT09PXRoaXM/cj10LiQkLnNtYXJ0UHRyOlgoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIisodC4kJC5zbWFydFB0clR5cGU/dC4kJC5zbWFydFB0clR5cGUubmFtZTp0LiQkLnB0clR5cGUubmFtZSkrIiB0byBwYXJhbWV0ZXIgdHlwZSAiK3RoaXMubmFtZSk7YnJlYWs7Y2FzZSAxOnI9dC4kJC5zbWFydFB0cjticmVhaztjYXNlIDI6aWYodC4kJC5zbWFydFB0clR5cGU9PT10aGlzKXI9dC4kJC5zbWFydFB0cjtlbHNle3ZhciBhPXQuY2xvbmUoKTtyPXRoaXMucmF3U2hhcmUocixlZS50b0hhbmRsZShmdW5jdGlvbigpe2EuZGVsZXRlKCl9KSksZSE9PW51bGwmJmUucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3Iscil9YnJlYWs7ZGVmYXVsdDpYKCJVbnN1cHBvcnRpbmcgc2hhcmluZyBwb2xpY3kiKX1yZXR1cm4gcn1mdW5jdGlvbiAkbyhlLHQpe2lmKHQ9PT1udWxsKXJldHVybiB0aGlzLmlzUmVmZXJlbmNlJiZYKCJudWxsIGlzIG5vdCBhIHZhbGlkICIrdGhpcy5uYW1lKSwwO3QuJCR8fFgoJ0Nhbm5vdCBwYXNzICInK3hyKHQpKyciIGFzIGEgJyt0aGlzLm5hbWUpLHQuJCQucHRyfHxYKCJDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAiK3RoaXMubmFtZSksdC4kJC5wdHJUeXBlLmlzQ29uc3QmJlgoIkNhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgIit0LiQkLnB0clR5cGUubmFtZSsiIHRvIHBhcmFtZXRlciB0eXBlICIrdGhpcy5uYW1lKTt2YXIgcj10LiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLG49UnQodC4kJC5wdHIscix0aGlzLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIG59ZnVuY3Rpb24gQXQoZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKF9bZT4+Ml0pfWZ1bmN0aW9uIFFvKGUpe3JldHVybiB0aGlzLnJhd0dldFBvaW50ZWUmJihlPXRoaXMucmF3R2V0UG9pbnRlZShlKSksZX1mdW5jdGlvbiBKbyhlKXt0aGlzLnJhd0Rlc3RydWN0b3ImJnRoaXMucmF3RGVzdHJ1Y3RvcihlKX1mdW5jdGlvbiBxbyhlKXtlIT09bnVsbCYmZS5kZWxldGUoKX1mdW5jdGlvbiBlcygpe3ZlLnByb3RvdHlwZS5nZXRQb2ludGVlPVFvLHZlLnByb3RvdHlwZS5kZXN0cnVjdG9yPUpvLHZlLnByb3RvdHlwZS5hcmdQYWNrQWR2YW5jZT04LHZlLnByb3RvdHlwZS5yZWFkVmFsdWVGcm9tUG9pbnRlcj1BdCx2ZS5wcm90b3R5cGUuZGVsZXRlT2JqZWN0PXFvLHZlLnByb3RvdHlwZS5mcm9tV2lyZVR5cGU9Vm99ZnVuY3Rpb24gdmUoZSx0LHIsbixhLG8sdSxjLGwsaCxnKXt0aGlzLm5hbWU9ZSx0aGlzLnJlZ2lzdGVyZWRDbGFzcz10LHRoaXMuaXNSZWZlcmVuY2U9cix0aGlzLmlzQ29uc3Q9bix0aGlzLmlzU21hcnRQb2ludGVyPWEsdGhpcy5wb2ludGVlVHlwZT1vLHRoaXMuc2hhcmluZ1BvbGljeT11LHRoaXMucmF3R2V0UG9pbnRlZT1jLHRoaXMucmF3Q29uc3RydWN0b3I9bCx0aGlzLnJhd1NoYXJlPWgsdGhpcy5yYXdEZXN0cnVjdG9yPWcsIWEmJnQuYmFzZUNsYXNzPT09dm9pZCAwP24/KHRoaXMudG9XaXJlVHlwZT1abyx0aGlzLmRlc3RydWN0b3JGdW5jdGlvbj1udWxsKToodGhpcy50b1dpcmVUeXBlPSRvLHRoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGwpOnRoaXMudG9XaXJlVHlwZT1Ib31mdW5jdGlvbiBSbihlLHQscil7aS5oYXNPd25Qcm9wZXJ0eShlKXx8TXQoIlJlcGxhY2luZyBub25leGlzdGFudCBwdWJsaWMgc3ltYm9sIiksaVtlXS5vdmVybG9hZFRhYmxlIT09dm9pZCAwJiZyIT09dm9pZCAwP2lbZV0ub3ZlcmxvYWRUYWJsZVtyXT10OihpW2VdPXQsaVtlXS5hcmdDb3VudD1yKX1mdW5jdGlvbiB0cyhlLHQscil7dmFyIG49aVsiZHluQ2FsbF8iK2VdO3JldHVybiByJiZyLmxlbmd0aD9uLmFwcGx5KG51bGwsW3RdLmNvbmNhdChyKSk6bi5jYWxsKG51bGwsdCl9dmFyIGp0PVtdO2Z1bmN0aW9uIEFuKGUpe3ZhciB0PWp0W2VdO3JldHVybiB0fHwoZT49anQubGVuZ3RoJiYoanQubGVuZ3RoPWUrMSksanRbZV09dD1nbi5nZXQoZSkpLHR9ZnVuY3Rpb24gcnMoZSx0LHIpe2lmKGUuaW5jbHVkZXMoImoiKSlyZXR1cm4gdHMoZSx0LHIpO3ZhciBuPUFuKHQpLmFwcGx5KG51bGwscik7cmV0dXJuIG59ZnVuY3Rpb24gbnMoZSx0KXt2YXIgcj1bXTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gci5sZW5ndGg9MCxPYmplY3QuYXNzaWduKHIsYXJndW1lbnRzKSxycyhlLHQscil9fWZ1bmN0aW9uIHNlKGUsdCl7ZT1yZShlKTtmdW5jdGlvbiByKCl7cmV0dXJuIGUuaW5jbHVkZXMoImoiKT9ucyhlLHQpOkFuKHQpfXZhciBuPXIoKTtyZXR1cm4gdHlwZW9mIG4hPSJmdW5jdGlvbiImJlgoInVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAiK2UrIjogIit0KSxufXZhciBqbj12b2lkIDA7ZnVuY3Rpb24gSW4oZSl7dmFyIHQ9cmEoZSkscj1yZSh0KTtyZXR1cm4gU2UodCkscn1mdW5jdGlvbiBXZShlLHQpe3ZhciByPVtdLG49e307ZnVuY3Rpb24gYShvKXtpZighbltvXSYmIVZlW29dKXtpZihQdFtvXSl7UHRbb10uZm9yRWFjaChhKTtyZXR1cm59ci5wdXNoKG8pLG5bb109ITB9fXRocm93IHQuZm9yRWFjaChhKSxuZXcgam4oZSsiOiAiK3IubWFwKEluKS5qb2luKFsiLCAiXSkpfWZ1bmN0aW9uIGFzKGUsdCxyLG4sYSxvLHUsYyxsLGgsZyxFLHkpe2c9cmUoZyksbz1zZShhLG8pLGMmJihjPXNlKHUsYykpLGgmJihoPXNlKGwsaCkpLHk9c2UoRSx5KTt2YXIgVD1EdChnKTticihULGZ1bmN0aW9uKCl7V2UoIkNhbm5vdCBjb25zdHJ1Y3QgIitnKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLFtuXSl9KSxwZShbZSx0LHJdLG4/W25dOltdLGZ1bmN0aW9uKEYpe0Y9RlswXTt2YXIgUixqO24/KFI9Ri5yZWdpc3RlcmVkQ2xhc3Msaj1SLmluc3RhbmNlUHJvdG90eXBlKTpqPUNlLnByb3RvdHlwZTt2YXIgST1GdChULGZ1bmN0aW9uKCl7aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIT09eCl0aHJvdyBuZXcgJGUoIlVzZSAnbmV3JyB0byBjb25zdHJ1Y3QgIitnKTtpZihELmNvbnN0cnVjdG9yX2JvZHk9PT12b2lkIDApdGhyb3cgbmV3ICRlKGcrIiBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciIpO3ZhciB1ZT1ELmNvbnN0cnVjdG9yX2JvZHlbYXJndW1lbnRzLmxlbmd0aF07aWYodWU9PT12b2lkIDApdGhyb3cgbmV3ICRlKCJUcmllZCB0byBpbnZva2UgY3RvciBvZiAiK2crIiB3aXRoIGludmFsaWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMgKCIrYXJndW1lbnRzLmxlbmd0aCsiKSAtIGV4cGVjdGVkICgiK09iamVjdC5rZXlzKEQuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKSsiKSBwYXJhbWV0ZXJzIGluc3RlYWQhIik7cmV0dXJuIHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHg9T2JqZWN0LmNyZWF0ZShqLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6SX19KTtJLnByb3RvdHlwZT14O3ZhciBEPW5ldyBZbyhnLEkseCx5LFIsbyxjLGgpLE49bmV3IHZlKGcsRCwhMCwhMSwhMSksVT1uZXcgdmUoZysiKiIsRCwhMSwhMSwhMSksSz1uZXcgdmUoZysiIGNvbnN0KiIsRCwhMSwhMCwhMSk7cmV0dXJuIExuW2VdPXtwb2ludGVyVHlwZTpVLGNvbnN0UG9pbnRlclR5cGU6S30sUm4oVCxJKSxbTixVLEtdfSl9ZnVuY3Rpb24gTm4oZSx0KXtpZighKGUgaW5zdGFuY2VvZiBGdW5jdGlvbikpdGhyb3cgbmV3IFR5cGVFcnJvcigibmV3XyBjYWxsZWQgd2l0aCBjb25zdHJ1Y3RvciB0eXBlICIrdHlwZW9mIGUrIiB3aGljaCBpcyBub3QgYSBmdW5jdGlvbiIpO3ZhciByPUZ0KGUubmFtZXx8InVua25vd25GdW5jdGlvbk5hbWUiLGZ1bmN0aW9uKCl7fSk7ci5wcm90b3R5cGU9ZS5wcm90b3R5cGU7dmFyIG49bmV3IHIsYT1lLmFwcGx5KG4sdCk7cmV0dXJuIGEgaW5zdGFuY2VvZiBPYmplY3Q/YTpufWZ1bmN0aW9uIF9yKGUpe2Zvcig7ZS5sZW5ndGg7KXt2YXIgdD1lLnBvcCgpLHI9ZS5wb3AoKTtyKHQpfX1mdW5jdGlvbiBJdChlLHQscixuLGEpe3ZhciBvPXQubGVuZ3RoO288MiYmWCgiYXJnVHlwZXMgYXJyYXkgc2l6ZSBtaXNtYXRjaCEgTXVzdCBhdCBsZWFzdCBnZXQgcmV0dXJuIHZhbHVlIGFuZCAndGhpcycgdHlwZXMhIik7Zm9yKHZhciB1PXRbMV0hPT1udWxsJiZyIT09bnVsbCxjPSExLGw9MTtsPHQubGVuZ3RoOysrbClpZih0W2xdIT09bnVsbCYmdFtsXS5kZXN0cnVjdG9yRnVuY3Rpb249PT12b2lkIDApe2M9ITA7YnJlYWt9Zm9yKHZhciBoPXRbMF0ubmFtZSE9PSJ2b2lkIixnPSIiLEU9IiIsbD0wO2w8by0yOysrbClnKz0obCE9PTA/IiwgIjoiIikrImFyZyIrbCxFKz0obCE9PTA/IiwgIjoiIikrImFyZyIrbCsiV2lyZWQiO3ZhciB5PSJyZXR1cm4gZnVuY3Rpb24gIitEdChlKSsiKCIrZytgKSB7CmlmIChhcmd1bWVudHMubGVuZ3RoICE9PSBgKyhvLTIpK2ApIHsKdGhyb3dCaW5kaW5nRXJyb3IoJ2Z1bmN0aW9uIGArZSsiIGNhbGxlZCB3aXRoICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMsIGV4cGVjdGVkICIrKG8tMikrYCBhcmdzIScpOwp9CmA7YyYmKHkrPWB2YXIgZGVzdHJ1Y3RvcnMgPSBbXTsKYCk7dmFyIFQ9Yz8iZGVzdHJ1Y3RvcnMiOiJudWxsIixGPVsidGhyb3dCaW5kaW5nRXJyb3IiLCJpbnZva2VyIiwiZm4iLCJydW5EZXN0cnVjdG9ycyIsInJldFR5cGUiLCJjbGFzc1BhcmFtIl0sUj1bWCxuLGEsX3IsdFswXSx0WzFdXTt1JiYoeSs9InZhciB0aGlzV2lyZWQgPSBjbGFzc1BhcmFtLnRvV2lyZVR5cGUoIitUK2AsIHRoaXMpOwpgKTtmb3IodmFyIGw9MDtsPG8tMjsrK2wpeSs9InZhciBhcmciK2wrIldpcmVkID0gYXJnVHlwZSIrbCsiLnRvV2lyZVR5cGUoIitUKyIsIGFyZyIrbCsiKTsgLy8gIit0W2wrMl0ubmFtZStgCmAsRi5wdXNoKCJhcmdUeXBlIitsKSxSLnB1c2godFtsKzJdKTtpZih1JiYoRT0idGhpc1dpcmVkIisoRS5sZW5ndGg+MD8iLCAiOiIiKStFKSx5Kz0oaD8idmFyIHJ2ID0gIjoiIikrImludm9rZXIoZm4iKyhFLmxlbmd0aD4wPyIsICI6IiIpK0UrYCk7CmAsYyl5Kz1gcnVuRGVzdHJ1Y3RvcnMoZGVzdHJ1Y3RvcnMpOwpgO2Vsc2UgZm9yKHZhciBsPXU/MToyO2w8dC5sZW5ndGg7KytsKXt2YXIgaj1sPT09MT8idGhpc1dpcmVkIjoiYXJnIisobC0yKSsiV2lyZWQiO3RbbF0uZGVzdHJ1Y3RvckZ1bmN0aW9uIT09bnVsbCYmKHkrPWorIl9kdG9yKCIraisiKTsgLy8gIit0W2xdLm5hbWUrYApgLEYucHVzaChqKyJfZHRvciIpLFIucHVzaCh0W2xdLmRlc3RydWN0b3JGdW5jdGlvbikpfWgmJih5Kz1gdmFyIHJldCA9IHJldFR5cGUuZnJvbVdpcmVUeXBlKHJ2KTsKcmV0dXJuIHJldDsKYCkseSs9YH0KYCxGLnB1c2goeSk7dmFyIEk9Tm4oRnVuY3Rpb24sRikuYXBwbHkobnVsbCxSKTtyZXR1cm4gSX1mdW5jdGlvbiBOdChlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlO24rKylyLnB1c2goQlt0K24qND4+Ml0pO3JldHVybiByfWZ1bmN0aW9uIGlzKGUsdCxyLG4sYSxvLHUpe3ZhciBjPU50KHIsbik7dD1yZSh0KSxvPXNlKGEsbykscGUoW10sW2VdLGZ1bmN0aW9uKGwpe2w9bFswXTt2YXIgaD1sLm5hbWUrIi4iK3Q7ZnVuY3Rpb24gZygpe1dlKCJDYW5ub3QgY2FsbCAiK2grIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsYyl9dC5zdGFydHNXaXRoKCJAQCIpJiYodD1TeW1ib2xbdC5zdWJzdHJpbmcoMildKTt2YXIgRT1sLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3RvcjtyZXR1cm4gRVt0XT09PXZvaWQgMD8oZy5hcmdDb3VudD1yLTEsRVt0XT1nKToodnIoRSx0LGgpLEVbdF0ub3ZlcmxvYWRUYWJsZVtyLTFdPWcpLHBlKFtdLGMsZnVuY3Rpb24oeSl7dmFyIFQ9W3lbMF0sbnVsbF0uY29uY2F0KHkuc2xpY2UoMSkpLEY9SXQoaCxULG51bGwsbyx1KTtyZXR1cm4gRVt0XS5vdmVybG9hZFRhYmxlPT09dm9pZCAwPyhGLmFyZ0NvdW50PXItMSxFW3RdPUYpOkVbdF0ub3ZlcmxvYWRUYWJsZVtyLTFdPUYsW119KSxbXX0pfWZ1bmN0aW9uIG9zKGUsdCxyLG4sYSxvKXt0ZSh0PjApO3ZhciB1PU50KHQscik7YT1zZShuLGEpLHBlKFtdLFtlXSxmdW5jdGlvbihjKXtjPWNbMF07dmFyIGw9ImNvbnN0cnVjdG9yICIrYy5uYW1lO2lmKGMucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHk9PT12b2lkIDAmJihjLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5PVtdKSxjLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W3QtMV0hPT12b2lkIDApdGhyb3cgbmV3ICRlKCJDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgiKyh0LTEpKyIpIGZvciBjbGFzcyAnIitjLm5hbWUrIichIE92ZXJsb2FkIHJlc29sdXRpb24gaXMgY3VycmVudGx5IG9ubHkgcGVyZm9ybWVkIHVzaW5nIHRoZSBwYXJhbWV0ZXIgY291bnQsIG5vdCBhY3R1YWwgdHlwZSBpbmZvISIpO3JldHVybiBjLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W3QtMV09KCk9PntXZSgiQ2Fubm90IGNvbnN0cnVjdCAiK2MubmFtZSsiIGR1ZSB0byB1bmJvdW5kIHR5cGVzIix1KX0scGUoW10sdSxmdW5jdGlvbihoKXtyZXR1cm4gaC5zcGxpY2UoMSwwLG51bGwpLGMucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXT1JdChsLGgsbnVsbCxhLG8pLFtdfSksW119KX1mdW5jdGlvbiBzcyhlLHQscixuLGEsbyx1LGMpe3ZhciBsPU50KHIsbik7dD1yZSh0KSxvPXNlKGEsbykscGUoW10sW2VdLGZ1bmN0aW9uKGgpe2g9aFswXTt2YXIgZz1oLm5hbWUrIi4iK3Q7dC5zdGFydHNXaXRoKCJAQCIpJiYodD1TeW1ib2xbdC5zdWJzdHJpbmcoMildKSxjJiZoLnJlZ2lzdGVyZWRDbGFzcy5wdXJlVmlydHVhbEZ1bmN0aW9ucy5wdXNoKHQpO2Z1bmN0aW9uIEUoKXtXZSgiQ2Fubm90IGNhbGwgIitnKyIgZHVlIHRvIHVuYm91bmQgdHlwZXMiLGwpfXZhciB5PWgucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLFQ9eVt0XTtyZXR1cm4gVD09PXZvaWQgMHx8VC5vdmVybG9hZFRhYmxlPT09dm9pZCAwJiZULmNsYXNzTmFtZSE9PWgubmFtZSYmVC5hcmdDb3VudD09PXItMj8oRS5hcmdDb3VudD1yLTIsRS5jbGFzc05hbWU9aC5uYW1lLHlbdF09RSk6KHZyKHksdCxnKSx5W3RdLm92ZXJsb2FkVGFibGVbci0yXT1FKSxwZShbXSxsLGZ1bmN0aW9uKEYpe3ZhciBSPUl0KGcsRixoLG8sdSk7cmV0dXJuIHlbdF0ub3ZlcmxvYWRUYWJsZT09PXZvaWQgMD8oUi5hcmdDb3VudD1yLTIseVt0XT1SKTp5W3RdLm92ZXJsb2FkVGFibGVbci0yXT1SLFtdfSksW119KX1mdW5jdGlvbiBPbihlLHQscil7cmV0dXJuIGUgaW5zdGFuY2VvZiBPYmplY3R8fFgocisnIHdpdGggaW52YWxpZCAidGhpcyI6ICcrZSksZSBpbnN0YW5jZW9mIHQucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yfHxYKHIrJyBpbmNvbXBhdGlibGUgd2l0aCAidGhpcyIgb2YgdHlwZSAnK2UuY29uc3RydWN0b3IubmFtZSksZS4kJC5wdHJ8fFgoImNhbm5vdCBjYWxsIGVtc2NyaXB0ZW4gYmluZGluZyBtZXRob2QgIityKyIgb24gZGVsZXRlZCBvYmplY3QiKSxSdChlLiQkLnB0cixlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLHQucmVnaXN0ZXJlZENsYXNzKX1mdW5jdGlvbiB1cyhlLHQscixuLGEsbyx1LGMsbCxoKXt0PXJlKHQpLGE9c2UobixhKSxwZShbXSxbZV0sZnVuY3Rpb24oZyl7Zz1nWzBdO3ZhciBFPWcubmFtZSsiLiIrdCx5PXtnZXQ6ZnVuY3Rpb24oKXtXZSgiQ2Fubm90IGFjY2VzcyAiK0UrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW3IsdV0pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07cmV0dXJuIGw/eS5zZXQ9KCk9PntXZSgiQ2Fubm90IGFjY2VzcyAiK0UrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsW3IsdV0pfTp5LnNldD1UPT57WChFKyIgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGcucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHQseSkscGUoW10sbD9bcix1XTpbcl0sZnVuY3Rpb24oVCl7dmFyIEY9VFswXSxSPXtnZXQ6ZnVuY3Rpb24oKXt2YXIgST1Pbih0aGlzLGcsRSsiIGdldHRlciIpO3JldHVybiBGLmZyb21XaXJlVHlwZShhKG8sSSkpfSxlbnVtZXJhYmxlOiEwfTtpZihsKXtsPXNlKGMsbCk7dmFyIGo9VFsxXTtSLnNldD1mdW5jdGlvbihJKXt2YXIgeD1Pbih0aGlzLGcsRSsiIHNldHRlciIpLEQ9W107bChoLHgsai50b1dpcmVUeXBlKEQsSSkpLF9yKEQpfX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGcucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHQsUiksW119KSxbXX0pfXZhciBFcj1bXSxoZT1be30se3ZhbHVlOnZvaWQgMH0se3ZhbHVlOm51bGx9LHt2YWx1ZTohMH0se3ZhbHVlOiExfV07ZnVuY3Rpb24gd3IoZSl7ZT40JiYtLWhlW2VdLnJlZmNvdW50PT09MCYmKGhlW2VdPXZvaWQgMCxFci5wdXNoKGUpKX1mdW5jdGlvbiBjcygpe2Zvcih2YXIgZT0wLHQ9NTt0PGhlLmxlbmd0aDsrK3QpaGVbdF0hPT12b2lkIDAmJisrZTtyZXR1cm4gZX1mdW5jdGlvbiBscygpe2Zvcih2YXIgZT01O2U8aGUubGVuZ3RoOysrZSlpZihoZVtlXSE9PXZvaWQgMClyZXR1cm4gaGVbZV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gZnMoKXtpLmNvdW50X2VtdmFsX2hhbmRsZXM9Y3MsaS5nZXRfZmlyc3RfZW12YWw9bHN9dmFyIGVlPXt0b1ZhbHVlOmU9PihlfHxYKCJDYW5ub3QgdXNlIGRlbGV0ZWQgdmFsLiBoYW5kbGUgPSAiK2UpLGhlW2VdLnZhbHVlKSx0b0hhbmRsZTplPT57c3dpdGNoKGUpe2Nhc2Ugdm9pZCAwOnJldHVybiAxO2Nhc2UgbnVsbDpyZXR1cm4gMjtjYXNlITA6cmV0dXJuIDM7Y2FzZSExOnJldHVybiA0O2RlZmF1bHQ6e3ZhciB0PUVyLmxlbmd0aD9Fci5wb3AoKTpoZS5sZW5ndGg7cmV0dXJuIGhlW3RdPXtyZWZjb3VudDoxLHZhbHVlOmV9LHR9fX19O2Z1bmN0aW9uIGRzKGUsdCl7dD1yZSh0KSx5ZShlLHtuYW1lOnQsZnJvbVdpcmVUeXBlOmZ1bmN0aW9uKHIpe3ZhciBuPWVlLnRvVmFsdWUocik7cmV0dXJuIHdyKHIpLG59LHRvV2lyZVR5cGU6ZnVuY3Rpb24ocixuKXtyZXR1cm4gZWUudG9IYW5kbGUobil9LGFyZ1BhY2tBZHZhbmNlOjgscmVhZFZhbHVlRnJvbVBvaW50ZXI6QXQsZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBtcyhlLHQscil7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24obil7dmFyIGE9cj9KOiQ7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGFbbl0pfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBhPXI/aWU6WmU7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGFbbj4+MV0pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBhPXI/XzpCO3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShhW24+PjJdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGludGVnZXIgdHlwZTogIitlKX19ZnVuY3Rpb24gcHMoZSx0LHIsbil7dmFyIGE9a3Qocik7dD1yZSh0KTtmdW5jdGlvbiBvKCl7fW8udmFsdWVzPXt9LHllKGUse25hbWU6dCxjb25zdHJ1Y3RvcjpvLGZyb21XaXJlVHlwZTpmdW5jdGlvbih1KXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci52YWx1ZXNbdV19LHRvV2lyZVR5cGU6ZnVuY3Rpb24odSxjKXtyZXR1cm4gYy52YWx1ZX0sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjptcyh0LGEsbiksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KSxicih0LG8pfWZ1bmN0aW9uIE90KGUsdCl7dmFyIHI9VmVbZV07cmV0dXJuIHI9PT12b2lkIDAmJlgodCsiIGhhcyB1bmtub3duIHR5cGUgIitJbihlKSkscn1mdW5jdGlvbiBocyhlLHQscil7dmFyIG49T3QoZSwiZW51bSIpO3Q9cmUodCk7dmFyIGE9bi5jb25zdHJ1Y3RvcixvPU9iamVjdC5jcmVhdGUobi5jb25zdHJ1Y3Rvci5wcm90b3R5cGUse3ZhbHVlOnt2YWx1ZTpyfSxjb25zdHJ1Y3Rvcjp7dmFsdWU6RnQobi5uYW1lKyJfIit0LGZ1bmN0aW9uKCl7fSl9fSk7YS52YWx1ZXNbcl09byxhW3RdPW99ZnVuY3Rpb24geHIoZSl7aWYoZT09PW51bGwpcmV0dXJuIm51bGwiO3ZhciB0PXR5cGVvZiBlO3JldHVybiB0PT09Im9iamVjdCJ8fHQ9PT0iYXJyYXkifHx0PT09ImZ1bmN0aW9uIj9lLnRvU3RyaW5nKCk6IiIrZX1mdW5jdGlvbiBncyhlLHQpe3N3aXRjaCh0KXtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShvZVtyPj4yXSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHBuW3I+PjNdKX07ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGZsb2F0IHR5cGU6ICIrZSl9fWZ1bmN0aW9uIHlzKGUsdCxyKXt2YXIgbj1rdChyKTt0PXJlKHQpLHllKGUse25hbWU6dCxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHRvV2lyZVR5cGU6ZnVuY3Rpb24oYSxvKXtyZXR1cm4gb30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpncyh0LG4pLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9ZnVuY3Rpb24gdnMoZSx0LHIsbixhLG8pe3ZhciB1PU50KHQscik7ZT1yZShlKSxhPXNlKG4sYSksYnIoZSxmdW5jdGlvbigpe1dlKCJDYW5ub3QgY2FsbCAiK2UrIiBkdWUgdG8gdW5ib3VuZCB0eXBlcyIsdSl9LHQtMSkscGUoW10sdSxmdW5jdGlvbihjKXt2YXIgbD1bY1swXSxudWxsXS5jb25jYXQoYy5zbGljZSgxKSk7cmV0dXJuIFJuKGUsSXQoZSxsLG51bGwsYSxvKSx0LTEpLFtdfSl9ZnVuY3Rpb24gYnMoZSx0LHIpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHI/ZnVuY3Rpb24obil7cmV0dXJuIEpbbl19OmZ1bmN0aW9uKG4pe3JldHVybiAkW25dfTtjYXNlIDE6cmV0dXJuIHI/ZnVuY3Rpb24obil7cmV0dXJuIGllW24+PjFdfTpmdW5jdGlvbihuKXtyZXR1cm4gWmVbbj4+MV19O2Nhc2UgMjpyZXR1cm4gcj9mdW5jdGlvbihuKXtyZXR1cm4gX1tuPj4yXX06ZnVuY3Rpb24obil7cmV0dXJuIEJbbj4+Ml19O2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBpbnRlZ2VyIHR5cGU6ICIrZSl9fWZ1bmN0aW9uIF9zKGUsdCxyLG4sYSl7dD1yZSh0KTt2YXIgbz1rdChyKSx1PUU9PkU7aWYobj09PTApe3ZhciBjPTMyLTgqcjt1PUU9PkU8PGM+Pj5jfXZhciBsPXQuaW5jbHVkZXMoInVuc2lnbmVkIiksaD0oRSx5KT0+e30sZztsP2c9ZnVuY3Rpb24oRSx5KXtyZXR1cm4gaCh5LHRoaXMubmFtZSkseT4+PjB9Omc9ZnVuY3Rpb24oRSx5KXtyZXR1cm4gaCh5LHRoaXMubmFtZSkseX0seWUoZSx7bmFtZTp0LGZyb21XaXJlVHlwZTp1LHRvV2lyZVR5cGU6ZyxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOmJzKHQsbyxuIT09MCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX1mdW5jdGlvbiBFcyhlLHQscil7dmFyIG49W0ludDhBcnJheSxVaW50OEFycmF5LEludDE2QXJyYXksVWludDE2QXJyYXksSW50MzJBcnJheSxVaW50MzJBcnJheSxGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5XSxhPW5bdF07ZnVuY3Rpb24gbyh1KXt1PXU+PjI7dmFyIGM9QixsPWNbdV0saD1jW3UrMV07cmV0dXJuIG5ldyBhKFN0LGgsbCl9cj1yZShyKSx5ZShlLHtuYW1lOnIsZnJvbVdpcmVUeXBlOm8sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpvfSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczohMH0pfWZ1bmN0aW9uIHdzKGUsdCxyLG4sYSxvLHUsYyxsLGgsZyxFKXtyPXJlKHIpLG89c2UoYSxvKSxjPXNlKHUsYyksaD1zZShsLGgpLEU9c2UoZyxFKSxwZShbZV0sW3RdLGZ1bmN0aW9uKHkpe3k9eVswXTt2YXIgVD1uZXcgdmUocix5LnJlZ2lzdGVyZWRDbGFzcywhMSwhMSwhMCx5LG4sbyxjLGgsRSk7cmV0dXJuW1RdfSl9ZnVuY3Rpb24geHMoZSx0KXt0PXJlKHQpO3ZhciByPXQ9PT0ic3RkOjpzdHJpbmciO3llKGUse25hbWU6dCxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24obil7dmFyIGE9QltuPj4yXSxvPW4rNCx1O2lmKHIpZm9yKHZhciBjPW8sbD0wO2w8PWE7KytsKXt2YXIgaD1vK2w7aWYobD09YXx8JFtoXT09MCl7dmFyIGc9aC1jLEU9Z2UoYyxnKTt1PT09dm9pZCAwP3U9RToodSs9U3RyaW5nLmZyb21DaGFyQ29kZSgwKSx1Kz1FKSxjPWgrMX19ZWxzZXtmb3IodmFyIHk9bmV3IEFycmF5KGEpLGw9MDtsPGE7KytsKXlbbF09U3RyaW5nLmZyb21DaGFyQ29kZSgkW28rbF0pO3U9eS5qb2luKCIiKX1yZXR1cm4gU2UobiksdX0sdG9XaXJlVHlwZTpmdW5jdGlvbihuLGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9bmV3IFVpbnQ4QXJyYXkoYSkpO3ZhciBvLHU9dHlwZW9mIGE9PSJzdHJpbmciO3V8fGEgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxhIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl8fGEgaW5zdGFuY2VvZiBJbnQ4QXJyYXl8fFgoIkNhbm5vdCBwYXNzIG5vbi1zdHJpbmcgdG8gc3RkOjpzdHJpbmciKSxyJiZ1P289T2UoYSk6bz1hLmxlbmd0aDt2YXIgYz1GZSg0K28rMSksbD1jKzQ7aWYoQltjPj4yXT1vLHImJnUpTmUoYSxsLG8rMSk7ZWxzZSBpZih1KWZvcih2YXIgaD0wO2g8bzsrK2gpe3ZhciBnPWEuY2hhckNvZGVBdChoKTtnPjI1NSYmKFNlKGwpLFgoIlN0cmluZyBoYXMgVVRGLTE2IGNvZGUgdW5pdHMgdGhhdCBkbyBub3QgZml0IGluIDggYml0cyIpKSwkW2wraF09Z31lbHNlIGZvcih2YXIgaD0wO2g8bzsrK2gpJFtsK2hdPWFbaF07cmV0dXJuIG4hPT1udWxsJiZuLnB1c2goU2UsYyksY30sYXJnUGFja0FkdmFuY2U6OCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpBdCxkZXN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24obil7U2Uobil9fSl9dmFyIEJuPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpOnZvaWQgMDtmdW5jdGlvbiBTcyhlLHQpe2Zvcih2YXIgcj1lLG49cj4+MSxhPW4rdC8yOyEobj49YSkmJlplW25dOykrK247aWYocj1uPDwxLHItZT4zMiYmQm4pcmV0dXJuIEJuLmRlY29kZSgkLnN1YmFycmF5KGUscikpO2Zvcih2YXIgbz0iIix1PTA7ISh1Pj10LzIpOysrdSl7dmFyIGM9aWVbZSt1KjI+PjFdO2lmKGM9PTApYnJlYWs7bys9U3RyaW5nLmZyb21DaGFyQ29kZShjKX1yZXR1cm4gb31mdW5jdGlvbiBUcyhlLHQscil7aWYocj09PXZvaWQgMCYmKHI9MjE0NzQ4MzY0NykscjwyKXJldHVybiAwO3ItPTI7Zm9yKHZhciBuPXQsYT1yPGUubGVuZ3RoKjI/ci8yOmUubGVuZ3RoLG89MDtvPGE7KytvKXt2YXIgdT1lLmNoYXJDb2RlQXQobyk7aWVbdD4+MV09dSx0Kz0yfXJldHVybiBpZVt0Pj4xXT0wLHQtbn1mdW5jdGlvbiBDcyhlKXtyZXR1cm4gZS5sZW5ndGgqMn1mdW5jdGlvbiBrcyhlLHQpe2Zvcih2YXIgcj0wLG49IiI7IShyPj10LzQpOyl7dmFyIGE9X1tlK3IqND4+Ml07aWYoYT09MClicmVhaztpZigrK3IsYT49NjU1MzYpe3ZhciBvPWEtNjU1MzY7bis9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxvPj4xMCw1NjMyMHxvJjEwMjMpfWVsc2Ugbis9U3RyaW5nLmZyb21DaGFyQ29kZShhKX1yZXR1cm4gbn1mdW5jdGlvbiBQcyhlLHQscil7aWYocj09PXZvaWQgMCYmKHI9MjE0NzQ4MzY0Nykscjw0KXJldHVybiAwO2Zvcih2YXIgbj10LGE9bityLTQsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgdT1lLmNoYXJDb2RlQXQobyk7aWYodT49NTUyOTYmJnU8PTU3MzQzKXt2YXIgYz1lLmNoYXJDb2RlQXQoKytvKTt1PTY1NTM2KygodSYxMDIzKTw8MTApfGMmMTAyM31pZihfW3Q+PjJdPXUsdCs9NCx0KzQ+YSlicmVha31yZXR1cm4gX1t0Pj4yXT0wLHQtbn1mdW5jdGlvbiBEcyhlKXtmb3IodmFyIHQ9MCxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBuPWUuY2hhckNvZGVBdChyKTtuPj01NTI5NiYmbjw9NTczNDMmJisrcix0Kz00fXJldHVybiB0fWZ1bmN0aW9uIEZzKGUsdCxyKXtyPXJlKHIpO3ZhciBuLGEsbyx1LGM7dD09PTI/KG49U3MsYT1Ucyx1PUNzLG89KCk9PlplLGM9MSk6dD09PTQmJihuPWtzLGE9UHMsdT1EcyxvPSgpPT5CLGM9MikseWUoZSx7bmFtZTpyLGZyb21XaXJlVHlwZTpmdW5jdGlvbihsKXtmb3IodmFyIGg9QltsPj4yXSxnPW8oKSxFLHk9bCs0LFQ9MDtUPD1oOysrVCl7dmFyIEY9bCs0K1QqdDtpZihUPT1ofHxnW0Y+PmNdPT0wKXt2YXIgUj1GLXksaj1uKHksUik7RT09PXZvaWQgMD9FPWo6KEUrPVN0cmluZy5mcm9tQ2hhckNvZGUoMCksRSs9aikseT1GK3R9fXJldHVybiBTZShsKSxFfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGwsaCl7dHlwZW9mIGghPSJzdHJpbmciJiZYKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAiK3IpO3ZhciBnPXUoaCksRT1GZSg0K2crdCk7cmV0dXJuIEJbRT4+Ml09Zz4+YyxhKGgsRSs0LGcrdCksbCE9PW51bGwmJmwucHVzaChTZSxFKSxFfSxhcmdQYWNrQWR2YW5jZTo4LHJlYWRWYWx1ZUZyb21Qb2ludGVyOkF0LGRlc3RydWN0b3JGdW5jdGlvbjpmdW5jdGlvbihsKXtTZShsKX19KX1mdW5jdGlvbiBNcyhlLHQpe3Q9cmUodCkseWUoZSx7aXNWb2lkOiEwLG5hbWU6dCxhcmdQYWNrQWR2YW5jZTowLGZyb21XaXJlVHlwZTpmdW5jdGlvbigpe30sdG9XaXJlVHlwZTpmdW5jdGlvbihyLG4pe319KX12YXIgTHM9ITA7ZnVuY3Rpb24gUnMoKXtyZXR1cm4gTHN9ZnVuY3Rpb24gQXMoZSx0LHIpe2U9ZWUudG9WYWx1ZShlKSx0PU90KHQsImVtdmFsOjphcyIpO3ZhciBuPVtdLGE9ZWUudG9IYW5kbGUobik7cmV0dXJuIEJbcj4+Ml09YSx0LnRvV2lyZVR5cGUobixlKX1mdW5jdGlvbiB6bihlLHQpe2Zvcih2YXIgcj1uZXcgQXJyYXkoZSksbj0wO248ZTsrK24pcltuXT1PdChCW3QrbipZZT4+Ml0sInBhcmFtZXRlciAiK24pO3JldHVybiByfWZ1bmN0aW9uIGpzKGUsdCxyLG4pe2U9ZWUudG9WYWx1ZShlKTtmb3IodmFyIGE9em4odCxyKSxvPW5ldyBBcnJheSh0KSx1PTA7dTx0OysrdSl7dmFyIGM9YVt1XTtvW3VdPWMucmVhZFZhbHVlRnJvbVBvaW50ZXIobiksbis9Yy5hcmdQYWNrQWR2YW5jZX12YXIgbD1lLmFwcGx5KHZvaWQgMCxvKTtyZXR1cm4gZWUudG9IYW5kbGUobCl9dmFyIElzPXt9O2Z1bmN0aW9uIFNyKGUpe3ZhciB0PUlzW2VdO3JldHVybiB0PT09dm9pZCAwP3JlKGUpOnR9dmFyIFRyPVtdO2Z1bmN0aW9uIE5zKGUsdCxyLG4pe2U9VHJbZV0sdD1lZS50b1ZhbHVlKHQpLHI9U3IociksZSh0LHIsbnVsbCxuKX1mdW5jdGlvbiBPcyhlKXt2YXIgdD1Uci5sZW5ndGg7cmV0dXJuIFRyLnB1c2goZSksdH12YXIgVm49W107ZnVuY3Rpb24gQnMoZSx0KXt2YXIgcj16bihlLHQpLG49clswXSxhPW4ubmFtZSsiXyQiK3Iuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKEYpe3JldHVybiBGLm5hbWV9KS5qb2luKCJfIikrIiQiLG89Vm5bYV07aWYobyE9PXZvaWQgMClyZXR1cm4gbztmb3IodmFyIHU9WyJyZXRUeXBlIl0sYz1bbl0sbD0iIixoPTA7aDxlLTE7KytoKWwrPShoIT09MD8iLCAiOiIiKSsiYXJnIitoLHUucHVzaCgiYXJnVHlwZSIraCksYy5wdXNoKHJbMStoXSk7Zm9yKHZhciBnPUR0KCJtZXRob2RDYWxsZXJfIithKSxFPSJyZXR1cm4gZnVuY3Rpb24gIitnK2AoaGFuZGxlLCBuYW1lLCBkZXN0cnVjdG9ycywgYXJncykgewpgLHk9MCxoPTA7aDxlLTE7KytoKUUrPSIgICAgdmFyIGFyZyIraCsiID0gYXJnVHlwZSIraCsiLnJlYWRWYWx1ZUZyb21Qb2ludGVyKGFyZ3MiKyh5PyIrIit5OiIiKStgKTsKYCx5Kz1yW2grMV0uYXJnUGFja0FkdmFuY2U7RSs9IiAgICB2YXIgcnYgPSBoYW5kbGVbbmFtZV0oIitsK2ApOwpgO2Zvcih2YXIgaD0wO2g8ZS0xOysraClyW2grMV0uZGVsZXRlT2JqZWN0JiYoRSs9IiAgICBhcmdUeXBlIitoKyIuZGVsZXRlT2JqZWN0KGFyZyIraCtgKTsKYCk7bi5pc1ZvaWR8fChFKz1gICAgIHJldHVybiByZXRUeXBlLnRvV2lyZVR5cGUoZGVzdHJ1Y3RvcnMsIHJ2KTsKYCksRSs9YH07CmAsdS5wdXNoKEUpO3ZhciBUPU5uKEZ1bmN0aW9uLHUpLmFwcGx5KG51bGwsYyk7cmV0dXJuIG89T3MoVCksVm5bYV09byxvfWZ1bmN0aW9uIHpzKGUpe3JldHVybiBlPVNyKGUpLGVlLnRvSGFuZGxlKGlbZV0pfWZ1bmN0aW9uIFZzKGUsdCl7cmV0dXJuIGU9ZWUudG9WYWx1ZShlKSx0PWVlLnRvVmFsdWUodCksZWUudG9IYW5kbGUoZVt0XSl9ZnVuY3Rpb24gV3MoZSl7ZT40JiYoaGVbZV0ucmVmY291bnQrPTEpfWZ1bmN0aW9uIFVzKGUpe3JldHVybiBlPWVlLnRvVmFsdWUoZSksdHlwZW9mIGU9PSJudW1iZXIifWZ1bmN0aW9uIEdzKGUpe3JldHVybiBlZS50b0hhbmRsZShTcihlKSl9ZnVuY3Rpb24gS3MoZSl7dmFyIHQ9ZWUudG9WYWx1ZShlKTtfcih0KSx3cihlKX1mdW5jdGlvbiBYcyhlLHQscil7ZT1lZS50b1ZhbHVlKGUpLHQ9ZWUudG9WYWx1ZSh0KSxyPWVlLnRvVmFsdWUociksZVt0XT1yfWZ1bmN0aW9uIFlzKGUsdCl7ZT1PdChlLCJfZW12YWxfdGFrZV92YWx1ZSIpO3ZhciByPWUucmVhZFZhbHVlRnJvbVBvaW50ZXIodCk7cmV0dXJuIGVlLnRvSGFuZGxlKHIpfWZ1bmN0aW9uIFduKGUpe3JldHVybiBCW2U+PjJdK19bZSs0Pj4yXSo0Mjk0OTY3Mjk2fWZ1bmN0aW9uIFpzKGUsdCl7dmFyIHI9bmV3IERhdGUoV24oZSkqMWUzKTtfW3Q+PjJdPXIuZ2V0VVRDU2Vjb25kcygpLF9bdCs0Pj4yXT1yLmdldFVUQ01pbnV0ZXMoKSxfW3QrOD4+Ml09ci5nZXRVVENIb3VycygpLF9bdCsxMj4+Ml09ci5nZXRVVENEYXRlKCksX1t0KzE2Pj4yXT1yLmdldFVUQ01vbnRoKCksX1t0KzIwPj4yXT1yLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxfW3QrMjQ+PjJdPXIuZ2V0VVRDRGF5KCk7dmFyIG49RGF0ZS5VVEMoci5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSxhPShyLmdldFRpbWUoKS1uKS8oMWUzKjYwKjYwKjI0KXwwO19bdCsyOD4+Ml09YX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZSU0PT09MCYmKGUlMTAwIT09MHx8ZSU0MDA9PT0wKX12YXIgSHM9WzAsMzEsNjAsOTEsMTIxLDE1MiwxODIsMjEzLDI0NCwyNzQsMzA1LDMzNV0sJHM9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF07ZnVuY3Rpb24gVW4oZSl7dmFyIHQ9bXQoZS5nZXRGdWxsWWVhcigpKSxyPXQ/SHM6JHMsbj1yW2UuZ2V0TW9udGgoKV0rZS5nZXREYXRlKCktMTtyZXR1cm4gbn1mdW5jdGlvbiBRcyhlLHQpe3ZhciByPW5ldyBEYXRlKFduKGUpKjFlMyk7X1t0Pj4yXT1yLmdldFNlY29uZHMoKSxfW3QrND4+Ml09ci5nZXRNaW51dGVzKCksX1t0Kzg+PjJdPXIuZ2V0SG91cnMoKSxfW3QrMTI+PjJdPXIuZ2V0RGF0ZSgpLF9bdCsxNj4+Ml09ci5nZXRNb250aCgpLF9bdCsyMD4+Ml09ci5nZXRGdWxsWWVhcigpLTE5MDAsX1t0KzI0Pj4yXT1yLmdldERheSgpO3ZhciBuPVVuKHIpfDA7X1t0KzI4Pj4yXT1uLF9bdCszNj4+Ml09LShyLmdldFRpbWV6b25lT2Zmc2V0KCkqNjApO3ZhciBhPW5ldyBEYXRlKHIuZ2V0RnVsbFllYXIoKSwwLDEpLG89bmV3IERhdGUoci5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx1PWEuZ2V0VGltZXpvbmVPZmZzZXQoKSxjPShvIT11JiZyLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKHUsbykpfDA7X1t0KzMyPj4yXT1jfWZ1bmN0aW9uIEpzKGUpe3ZhciB0PW5ldyBEYXRlKF9bZSsyMD4+Ml0rMTkwMCxfW2UrMTY+PjJdLF9bZSsxMj4+Ml0sX1tlKzg+PjJdLF9bZSs0Pj4yXSxfW2U+PjJdLDApLHI9X1tlKzMyPj4yXSxuPXQuZ2V0VGltZXpvbmVPZmZzZXQoKSxhPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLG89bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx1PWEuZ2V0VGltZXpvbmVPZmZzZXQoKSxjPU1hdGgubWluKHUsbyk7aWYocjwwKV9bZSszMj4+Ml09TnVtYmVyKG8hPXUmJmM9PW4pO2Vsc2UgaWYocj4wIT0oYz09bikpe3ZhciBsPU1hdGgubWF4KHUsbyksaD1yPjA/YzpsO3Quc2V0VGltZSh0LmdldFRpbWUoKSsoaC1uKSo2ZTQpfV9bZSsyND4+Ml09dC5nZXREYXkoKTt2YXIgZz1Vbih0KXwwO3JldHVybiBfW2UrMjg+PjJdPWcsX1tlPj4yXT10LmdldFNlY29uZHMoKSxfW2UrND4+Ml09dC5nZXRNaW51dGVzKCksX1tlKzg+PjJdPXQuZ2V0SG91cnMoKSxfW2UrMTI+PjJdPXQuZ2V0RGF0ZSgpLF9bZSsxNj4+Ml09dC5nZXRNb250aCgpLF9bZSsyMD4+Ml09dC5nZXRZZWFyKCksdC5nZXRUaW1lKCkvMWUzfDB9ZnVuY3Rpb24gcXMoZSx0LHIsbixhLG8sdSl7dHJ5e3ZhciBjPVYuZ2V0U3RyZWFtRnJvbUZEKG4pLGw9cy5tbWFwKGMsZSxhLHQsciksaD1sLnB0cjtyZXR1cm4gX1tvPj4yXT1sLmFsbG9jYXRlZCxCW3U+PjJdPWgsMH1jYXRjaChnKXtpZih0eXBlb2Ygcz4idSJ8fCEoZyBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgZztyZXR1cm4tZy5lcnJub319ZnVuY3Rpb24gZXUoZSx0LHIsbixhLG8pe3RyeXt2YXIgdT1WLmdldFN0cmVhbUZyb21GRChhKTtyJjImJlYuZG9Nc3luYyhlLHUsdCxuLG8pLHMubXVubWFwKHUpfWNhdGNoKGMpe2lmKHR5cGVvZiBzPiJ1Inx8IShjIGluc3RhbmNlb2Ygcy5FcnJub0Vycm9yKSl0aHJvdyBjO3JldHVybi1jLmVycm5vfX1mdW5jdGlvbiBCdChlKXt2YXIgdD1PZShlKSsxLHI9RmUodCk7cmV0dXJuIHImJnh0KGUsSixyLHQpLHJ9ZnVuY3Rpb24gdHUoZSx0LHIpe3ZhciBuPW5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxhPW5ldyBEYXRlKG4sMCwxKSxvPW5ldyBEYXRlKG4sNiwxKSx1PWEuZ2V0VGltZXpvbmVPZmZzZXQoKSxjPW8uZ2V0VGltZXpvbmVPZmZzZXQoKSxsPU1hdGgubWF4KHUsYyk7QltlPj4yXT1sKjYwLF9bdD4+Ml09TnVtYmVyKHUhPWMpO2Z1bmN0aW9uIGgoRil7dmFyIFI9Ri50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXCgoW0EtWmEteiBdKylcKSQvKTtyZXR1cm4gUj9SWzFdOiJHTVQifXZhciBnPWgoYSksRT1oKG8pLHk9QnQoZyksVD1CdChFKTtjPHU/KEJbcj4+Ml09eSxCW3IrND4+Ml09VCk6KEJbcj4+Ml09VCxCW3IrND4+Ml09eSl9ZnVuY3Rpb24gcnUoKXt3ZSgiIil9ZnVuY3Rpb24gQ3IoZSx0KXtpZihiLm1haW5Mb29wLnRpbWluZ01vZGU9ZSxiLm1haW5Mb29wLnRpbWluZ1ZhbHVlPXQsIWIubWFpbkxvb3AuZnVuYylyZXR1cm4gMTtpZihiLm1haW5Mb29wLnJ1bm5pbmd8fChiLm1haW5Mb29wLnJ1bm5pbmc9ITApLGU9PTApYi5tYWluTG9vcC5zY2hlZHVsZXI9ZnVuY3Rpb24oKXt2YXIgbz1NYXRoLm1heCgwLGIubWFpbkxvb3AudGlja1N0YXJ0VGltZSt0LXp0KCkpfDA7c2V0VGltZW91dChiLm1haW5Mb29wLnJ1bm5lcixvKX0sYi5tYWluTG9vcC5tZXRob2Q9InRpbWVvdXQiO2Vsc2UgaWYoZT09MSliLm1haW5Mb29wLnNjaGVkdWxlcj1mdW5jdGlvbigpe2IucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGIubWFpbkxvb3AucnVubmVyKX0sYi5tYWluTG9vcC5tZXRob2Q9InJBRiI7ZWxzZSBpZihlPT0yKXtpZih0eXBlb2Ygc2V0SW1tZWRpYXRlPiJ1Iil7dmFyIHI9W10sbj0ic2V0aW1tZWRpYXRlIixhPW89Pnsoby5kYXRhPT09bnx8by5kYXRhLnRhcmdldD09PW4pJiYoby5zdG9wUHJvcGFnYXRpb24oKSxyLnNoaWZ0KCkoKSl9O2FkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITApLHNldEltbWVkaWF0ZT1mdW5jdGlvbihvKXtyLnB1c2gobykscG9zdE1lc3NhZ2UobiwiKiIpfX1iLm1haW5Mb29wLnNjaGVkdWxlcj1mdW5jdGlvbigpe3NldEltbWVkaWF0ZShiLm1haW5Mb29wLnJ1bm5lcil9LGIubWFpbkxvb3AubWV0aG9kPSJpbW1lZGlhdGUifXJldHVybiAwfXZhciB6dDt6dD0oKT0+cGVyZm9ybWFuY2Uubm93KCk7ZnVuY3Rpb24gbnUoZSl7bmU9ZSxCaSgpfHwoaS5vbkV4aXQmJmkub25FeGl0KGUpLGxlPSEwKSxrKGUsbmV3IHduKGUpKX1mdW5jdGlvbiBhdShlLHQpe25lPWUsbnUoZSl9dmFyIGl1PWF1O2Z1bmN0aW9uIG91KGUpe2lmKGUgaW5zdGFuY2VvZiB3bnx8ZT09InVud2luZCIpcmV0dXJuIG5lO2soMSxlKX1mdW5jdGlvbiBzdShlLHQscixuLGEpe3RlKCFiLm1haW5Mb29wLmZ1bmMsImVtc2NyaXB0ZW5fc2V0X21haW5fbG9vcDogdGhlcmUgY2FuIG9ubHkgYmUgb25lIG1haW4gbG9vcCBmdW5jdGlvbiBhdCBvbmNlOiBjYWxsIGVtc2NyaXB0ZW5fY2FuY2VsX21haW5fbG9vcCB0byBjYW5jZWwgdGhlIHByZXZpb3VzIG9uZSBiZWZvcmUgc2V0dGluZyBhIG5ldyBvbmUgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycy4iKSxiLm1haW5Mb29wLmZ1bmM9ZSxiLm1haW5Mb29wLmFyZz1uO3ZhciBvPWIubWFpbkxvb3AuY3VycmVudGx5UnVubmluZ01haW5sb29wO2Z1bmN0aW9uIHUoKXtyZXR1cm4hKG88Yi5tYWluTG9vcC5jdXJyZW50bHlSdW5uaW5nTWFpbmxvb3ApfWlmKGIubWFpbkxvb3AucnVubmluZz0hMSxiLm1haW5Mb29wLnJ1bm5lcj1mdW5jdGlvbigpe2lmKCFsZSl7aWYoYi5tYWluTG9vcC5xdWV1ZS5sZW5ndGg+MCl7dmFyIGM9RGF0ZS5ub3coKSxsPWIubWFpbkxvb3AucXVldWUuc2hpZnQoKTtpZihsLmZ1bmMobC5hcmcpLGIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnMpe3ZhciBoPWIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnMsZz1oJTE9PTA/aC0xOk1hdGguZmxvb3IoaCk7bC5jb3VudGVkP2IubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnM9ZzooZz1nKy41LGIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnM9KDgqaCtnKS85KX1pZihRKCdtYWluIGxvb3AgYmxvY2tlciAiJytsLm5hbWUrJyIgdG9vayAnKyhEYXRlLm5vdygpLWMpKyIgbXMiKSxiLm1haW5Mb29wLnVwZGF0ZVN0YXR1cygpLCF1KCkpcmV0dXJuO3NldFRpbWVvdXQoYi5tYWluTG9vcC5ydW5uZXIsMCk7cmV0dXJufWlmKHUoKSl7aWYoYi5tYWluTG9vcC5jdXJyZW50RnJhbWVOdW1iZXI9Yi5tYWluTG9vcC5jdXJyZW50RnJhbWVOdW1iZXIrMXwwLGIubWFpbkxvb3AudGltaW5nTW9kZT09MSYmYi5tYWluTG9vcC50aW1pbmdWYWx1ZT4xJiZiLm1haW5Mb29wLmN1cnJlbnRGcmFtZU51bWJlciViLm1haW5Mb29wLnRpbWluZ1ZhbHVlIT0wKXtiLm1haW5Mb29wLnNjaGVkdWxlcigpO3JldHVybn1lbHNlIGIubWFpbkxvb3AudGltaW5nTW9kZT09MCYmKGIubWFpbkxvb3AudGlja1N0YXJ0VGltZT16dCgpKTtiLm1haW5Mb29wLnJ1bkl0ZXIoZSksdSgpJiYodHlwZW9mIFNETD09Im9iamVjdCImJlNETC5hdWRpbyYmU0RMLmF1ZGlvLnF1ZXVlTmV3QXVkaW9EYXRhJiZTREwuYXVkaW8ucXVldWVOZXdBdWRpb0RhdGEoKSxiLm1haW5Mb29wLnNjaGVkdWxlcigpKX19fSxhfHwodCYmdD4wP0NyKDAsMWUzL3QpOkNyKDEsMSksYi5tYWluTG9vcC5zY2hlZHVsZXIoKSkscil0aHJvdyJ1bndpbmQifWZ1bmN0aW9uIGtyKGUpe2lmKCFsZSl0cnl7ZSgpfWNhdGNoKHQpe291KHQpfX1mdW5jdGlvbiBHbihlLHQpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7a3IoZSl9LHQpfWZ1bmN0aW9uIHB0KGUpe3B0LnNob3dufHwocHQuc2hvd249e30pLHB0LnNob3duW2VdfHwocHQuc2hvd25bZV09MSxIKGUpKX12YXIgYj17bWFpbkxvb3A6e3J1bm5pbmc6ITEsc2NoZWR1bGVyOm51bGwsbWV0aG9kOiIiLGN1cnJlbnRseVJ1bm5pbmdNYWlubG9vcDowLGZ1bmM6bnVsbCxhcmc6MCx0aW1pbmdNb2RlOjAsdGltaW5nVmFsdWU6MCxjdXJyZW50RnJhbWVOdW1iZXI6MCxxdWV1ZTpbXSxwYXVzZTpmdW5jdGlvbigpe2IubWFpbkxvb3Auc2NoZWR1bGVyPW51bGwsYi5tYWluTG9vcC5jdXJyZW50bHlSdW5uaW5nTWFpbmxvb3ArK30scmVzdW1lOmZ1bmN0aW9uKCl7Yi5tYWluTG9vcC5jdXJyZW50bHlSdW5uaW5nTWFpbmxvb3ArKzt2YXIgZT1iLm1haW5Mb29wLnRpbWluZ01vZGUsdD1iLm1haW5Mb29wLnRpbWluZ1ZhbHVlLHI9Yi5tYWluTG9vcC5mdW5jO2IubWFpbkxvb3AuZnVuYz1udWxsLHN1KHIsMCwhMSxiLm1haW5Mb29wLmFyZywhMCksQ3IoZSx0KSxiLm1haW5Mb29wLnNjaGVkdWxlcigpfSx1cGRhdGVTdGF0dXM6ZnVuY3Rpb24oKXtpZihpLnNldFN0YXR1cyl7dmFyIGU9aS5zdGF0dXNNZXNzYWdlfHwiUGxlYXNlIHdhaXQuLi4iLHQ9Yi5tYWluTG9vcC5yZW1haW5pbmdCbG9ja2VycyxyPWIubWFpbkxvb3AuZXhwZWN0ZWRCbG9ja2Vyczt0P3Q8cj9pLnNldFN0YXR1cyhlKyIgKCIrKHItdCkrIi8iK3IrIikiKTppLnNldFN0YXR1cyhlKTppLnNldFN0YXR1cygiIil9fSxydW5JdGVyOmZ1bmN0aW9uKGUpe2lmKCFsZSl7aWYoaS5wcmVNYWluTG9vcCl7dmFyIHQ9aS5wcmVNYWluTG9vcCgpO2lmKHQ9PT0hMSlyZXR1cm59a3IoZSksaS5wb3N0TWFpbkxvb3AmJmkucG9zdE1haW5Mb29wKCl9fX0saXNGdWxsc2NyZWVuOiExLHBvaW50ZXJMb2NrOiExLG1vZHVsZUNvbnRleHRDcmVhdGVkQ2FsbGJhY2tzOltdLHdvcmtlcnM6W10saW5pdDpmdW5jdGlvbigpe2lmKGkucHJlbG9hZFBsdWdpbnN8fChpLnByZWxvYWRQbHVnaW5zPVtdKSxiLmluaXR0ZWQpcmV0dXJuO2IuaW5pdHRlZD0hMDt0cnl7bmV3IEJsb2IsYi5oYXNCbG9iQ29uc3RydWN0b3I9ITB9Y2F0Y2h7Yi5oYXNCbG9iQ29uc3RydWN0b3I9ITEsSCgid2FybmluZzogbm8gYmxvYiBjb25zdHJ1Y3RvciwgY2Fubm90IGNyZWF0ZSBibG9icyB3aXRoIG1pbWV0eXBlcyIpfWIuQmxvYkJ1aWxkZXI9dHlwZW9mIE1vekJsb2JCdWlsZGVyPCJ1Ij9Nb3pCbG9iQnVpbGRlcjp0eXBlb2YgV2ViS2l0QmxvYkJ1aWxkZXI8InUiP1dlYktpdEJsb2JCdWlsZGVyOmIuaGFzQmxvYkNvbnN0cnVjdG9yP251bGw6SCgid2FybmluZzogbm8gQmxvYkJ1aWxkZXIiKSxiLlVSTE9iamVjdD10eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3cuVVJMP3dpbmRvdy5VUkw6d2luZG93LndlYmtpdFVSTDp2b2lkIDAsIWkubm9JbWFnZURlY29kaW5nJiZ0eXBlb2YgYi5VUkxPYmplY3Q+InUiJiYoSCgid2FybmluZzogQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNyZWF0aW5nIG9iamVjdCBVUkxzLiBCdWlsdC1pbiBicm93c2VyIGltYWdlIGRlY29kaW5nIHdpbGwgbm90IGJlIGF2YWlsYWJsZS4iKSxpLm5vSW1hZ2VEZWNvZGluZz0hMCk7dmFyIGU9e307ZS5jYW5IYW5kbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWkubm9JbWFnZURlY29kaW5nJiYvXC4oanBnfGpwZWd8cG5nfGJtcCkkL2kudGVzdChhKX0sZS5oYW5kbGU9ZnVuY3Rpb24oYSxvLHUsYyl7dmFyIGw9bnVsbDtpZihiLmhhc0Jsb2JDb25zdHJ1Y3Rvcil0cnl7bD1uZXcgQmxvYihbYV0se3R5cGU6Yi5nZXRNaW1ldHlwZShvKX0pLGwuc2l6ZSE9PWEubGVuZ3RoJiYobD1uZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYSkuYnVmZmVyXSx7dHlwZTpiLmdldE1pbWV0eXBlKG8pfSkpfWNhdGNoKHkpe3B0KCJCbG9iIGNvbnN0cnVjdG9yIHByZXNlbnQgYnV0IGZhaWxzOiAiK3krIjsgZmFsbGluZyBiYWNrIHRvIGJsb2IgYnVpbGRlciIpfWlmKCFsKXt2YXIgaD1uZXcgYi5CbG9iQnVpbGRlcjtoLmFwcGVuZChuZXcgVWludDhBcnJheShhKS5idWZmZXIpLGw9aC5nZXRCbG9iKCl9dmFyIGc9Yi5VUkxPYmplY3QuY3JlYXRlT2JqZWN0VVJMKGwpLEU9bmV3IEltYWdlO0Uub25sb2FkPSgpPT57dGUoRS5jb21wbGV0ZSwiSW1hZ2UgIitvKyIgY291bGQgbm90IGJlIGRlY29kZWQiKTt2YXIgeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt5LndpZHRoPUUud2lkdGgseS5oZWlnaHQ9RS5oZWlnaHQ7dmFyIFQ9eS5nZXRDb250ZXh0KCIyZCIpO1QuZHJhd0ltYWdlKEUsMCwwKSxiLlVSTE9iamVjdC5yZXZva2VPYmplY3RVUkwoZyksdSYmdShhKX0sRS5vbmVycm9yPXk9PntRKCJJbWFnZSAiK2crIiBjb3VsZCBub3QgYmUgZGVjb2RlZCIpLGMmJmMoKX0sRS5zcmM9Z30saS5wcmVsb2FkUGx1Z2lucy5wdXNoKGUpO3ZhciB0PXt9O3QuY2FuSGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiFpLm5vQXVkaW9EZWNvZGluZyYmYS5zdWJzdHIoLTQpaW57Ii5vZ2ciOjEsIi53YXYiOjEsIi5tcDMiOjF9fSx0LmhhbmRsZT1mdW5jdGlvbihhLG8sdSxjKXt2YXIgbD0hMTtmdW5jdGlvbiBoKEYpe2x8fChsPSEwLHUmJnUoYSkpfWZ1bmN0aW9uIGcoKXtsfHwobD0hMCxuZXcgQXVkaW8sYyYmYygpKX1pZihiLmhhc0Jsb2JDb25zdHJ1Y3Rvcil7dHJ5e3ZhciBFPW5ldyBCbG9iKFthXSx7dHlwZTpiLmdldE1pbWV0eXBlKG8pfSl9Y2F0Y2h7cmV0dXJuIGcoKX12YXIgeT1iLlVSTE9iamVjdC5jcmVhdGVPYmplY3RVUkwoRSksVD1uZXcgQXVkaW87VC5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsKCk9PmgoKSwhMSksVC5vbmVycm9yPWZ1bmN0aW9uKEYpe2lmKGwpcmV0dXJuO0goIndhcm5pbmc6IGJyb3dzZXIgY291bGQgbm90IGZ1bGx5IGRlY29kZSBhdWRpbyAiK28rIiwgdHJ5aW5nIHNsb3dlciBiYXNlNjQgYXBwcm9hY2giKTtmdW5jdGlvbiBSKGope2Zvcih2YXIgST0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIseD0iPSIsRD0iIixOPTAsVT0wLEs9MDtLPGoubGVuZ3RoO0srKylmb3IoTj1OPDw4fGpbS10sVSs9ODtVPj02Oyl7dmFyIHVlPU4+PlUtNiY2MztVLT02LEQrPUlbdWVdfXJldHVybiBVPT0yPyhEKz1JWyhOJjMpPDw0XSxEKz14K3gpOlU9PTQmJihEKz1JWyhOJjE1KTw8Ml0sRCs9eCksRH1ULnNyYz0iZGF0YTphdWRpby94LSIrby5zdWJzdHIoLTMpKyI7YmFzZTY0LCIrUihhKSxoKCl9LFQuc3JjPXksR24oZnVuY3Rpb24oKXtoKCl9LDFlNCl9ZWxzZSByZXR1cm4gZygpfSxpLnByZWxvYWRQbHVnaW5zLnB1c2godCk7ZnVuY3Rpb24gcigpe2IucG9pbnRlckxvY2s9ZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50PT09aS5jYW52YXN8fGRvY3VtZW50Lm1velBvaW50ZXJMb2NrRWxlbWVudD09PWkuY2FudmFzfHxkb2N1bWVudC53ZWJraXRQb2ludGVyTG9ja0VsZW1lbnQ9PT1pLmNhbnZhc3x8ZG9jdW1lbnQubXNQb2ludGVyTG9ja0VsZW1lbnQ9PT1pLmNhbnZhc312YXIgbj1pLmNhbnZhcztuJiYobi5yZXF1ZXN0UG9pbnRlckxvY2s9bi5yZXF1ZXN0UG9pbnRlckxvY2t8fG4ubW96UmVxdWVzdFBvaW50ZXJMb2NrfHxuLndlYmtpdFJlcXVlc3RQb2ludGVyTG9ja3x8bi5tc1JlcXVlc3RQb2ludGVyTG9ja3x8KCgpPT57fSksbi5leGl0UG9pbnRlckxvY2s9ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrfHxkb2N1bWVudC5tb3pFeGl0UG9pbnRlckxvY2t8fGRvY3VtZW50LndlYmtpdEV4aXRQb2ludGVyTG9ja3x8ZG9jdW1lbnQubXNFeGl0UG9pbnRlckxvY2t8fCgoKT0+e30pLG4uZXhpdFBvaW50ZXJMb2NrPW4uZXhpdFBvaW50ZXJMb2NrLmJpbmQoZG9jdW1lbnQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIixyLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsciwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHIsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1zcG9pbnRlcmxvY2tjaGFuZ2UiLHIsITEpLGkuZWxlbWVudFBvaW50ZXJMb2NrJiZuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixhPT57IWIucG9pbnRlckxvY2smJmkuY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayYmKGkuY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jaygpLGEucHJldmVudERlZmF1bHQoKSl9LCExKSl9LGhhbmRsZWRCeVByZWxvYWRQbHVnaW46ZnVuY3Rpb24oZSx0LHIsbil7Yi5pbml0KCk7dmFyIGE9ITE7cmV0dXJuIGkucHJlbG9hZFBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihvKXthfHxvLmNhbkhhbmRsZSh0KSYmKG8uaGFuZGxlKGUsdCxyLG4pLGE9ITApfSksYX0sY3JlYXRlQ29udGV4dDpmdW5jdGlvbihlLHQscixuKXtpZih0JiZpLmN0eCYmZT09aS5jYW52YXMpcmV0dXJuIGkuY3R4O3ZhciBhLG87aWYodCl7dmFyIHU9e2FudGlhbGlhczohMSxhbHBoYTohMSxtYWpvclZlcnNpb246dHlwZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ8InUiPzI6MX07aWYobilmb3IodmFyIGMgaW4gbil1W2NdPW5bY107dHlwZW9mIEM8InUiJiYobz1DLmNyZWF0ZUNvbnRleHQoZSx1KSxvJiYoYT1DLmdldENvbnRleHQobykuR0xjdHgpKX1lbHNlIGE9ZS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBhPyhyJiYodHx8dGUodHlwZW9mIHc+InUiLCJjYW5ub3Qgc2V0IGluIG1vZHVsZSBpZiBHTGN0eCBpcyB1c2VkLCBidXQgd2UgYXJlIGEgbm9uLUdMIGNvbnRleHQgdGhhdCB3b3VsZCByZXBsYWNlIGl0IiksaS5jdHg9YSx0JiZDLm1ha2VDb250ZXh0Q3VycmVudChvKSxpLnVzZVdlYkdMPXQsYi5tb2R1bGVDb250ZXh0Q3JlYXRlZENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKGwpe2woKX0pLGIuaW5pdCgpKSxhKTpudWxsfSxkZXN0cm95Q29udGV4dDpmdW5jdGlvbihlLHQscil7fSxmdWxsc2NyZWVuSGFuZGxlcnNJbnN0YWxsZWQ6ITEsbG9ja1BvaW50ZXI6dm9pZCAwLHJlc2l6ZUNhbnZhczp2b2lkIDAscmVxdWVzdEZ1bGxzY3JlZW46ZnVuY3Rpb24oZSx0KXtiLmxvY2tQb2ludGVyPWUsYi5yZXNpemVDYW52YXM9dCx0eXBlb2YgYi5sb2NrUG9pbnRlcj4idSImJihiLmxvY2tQb2ludGVyPSEwKSx0eXBlb2YgYi5yZXNpemVDYW52YXM+InUiJiYoYi5yZXNpemVDYW52YXM9ITEpO3ZhciByPWkuY2FudmFzO2Z1bmN0aW9uIG4oKXtiLmlzRnVsbHNjcmVlbj0hMTt2YXIgbz1yLnBhcmVudE5vZGU7KGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudCk9PT1vPyhyLmV4aXRGdWxsc2NyZWVuPWIuZXhpdEZ1bGxzY3JlZW4sYi5sb2NrUG9pbnRlciYmci5yZXF1ZXN0UG9pbnRlckxvY2soKSxiLmlzRnVsbHNjcmVlbj0hMCxiLnJlc2l6ZUNhbnZhcz9iLnNldEZ1bGxzY3JlZW5DYW52YXNTaXplKCk6Yi51cGRhdGVDYW52YXNEaW1lbnNpb25zKHIpKTooby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLG8pLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSxiLnJlc2l6ZUNhbnZhcz9iLnNldFdpbmRvd2VkQ2FudmFzU2l6ZSgpOmIudXBkYXRlQ2FudmFzRGltZW5zaW9ucyhyKSksaS5vbkZ1bGxTY3JlZW4mJmkub25GdWxsU2NyZWVuKGIuaXNGdWxsc2NyZWVuKSxpLm9uRnVsbHNjcmVlbiYmaS5vbkZ1bGxzY3JlZW4oYi5pc0Z1bGxzY3JlZW4pfWIuZnVsbHNjcmVlbkhhbmRsZXJzSW5zdGFsbGVkfHwoYi5mdWxsc2NyZWVuSGFuZGxlcnNJbnN0YWxsZWQ9ITAsZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsbiwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIsbiwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0ZnVsbHNjcmVlbmNoYW5nZSIsbiwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiTVNGdWxsc2NyZWVuQ2hhbmdlIixuLCExKSk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHIpLGEuYXBwZW5kQ2hpbGQociksYS5yZXF1ZXN0RnVsbHNjcmVlbj1hLnJlcXVlc3RGdWxsc2NyZWVufHxhLm1velJlcXVlc3RGdWxsU2NyZWVufHxhLm1zUmVxdWVzdEZ1bGxzY3JlZW58fChhLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuPygpPT5hLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpOm51bGwpfHwoYS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbj8oKT0+YS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTpudWxsKSxhLnJlcXVlc3RGdWxsc2NyZWVuKCl9LGV4aXRGdWxsc2NyZWVuOmZ1bmN0aW9uKCl7aWYoIWIuaXNGdWxsc2NyZWVuKXJldHVybiExO3ZhciBlPWRvY3VtZW50LmV4aXRGdWxsc2NyZWVufHxkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVufHxkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVufHxkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVufHxkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVufHxmdW5jdGlvbigpe307cmV0dXJuIGUuYXBwbHkoZG9jdW1lbnQsW10pLCEwfSxuZXh0UkFGOjAsZmFrZVJlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpO2lmKGIubmV4dFJBRj09PTApYi5uZXh0UkFGPXQrMWUzLzYwO2Vsc2UgZm9yKDt0KzI+PWIubmV4dFJBRjspYi5uZXh0UkFGKz0xZTMvNjA7dmFyIHI9TWF0aC5tYXgoYi5uZXh0UkFGLXQsMCk7c2V0VGltZW91dChlLHIpfSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oZSl7aWYodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZT09ImZ1bmN0aW9uIil7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpO3JldHVybn12YXIgdD1iLmZha2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7dChlKX0sc2FmZVNldFRpbWVvdXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gR24oZSx0KX0sc2FmZVJlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbihlKXtyZXR1cm4gYi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtrcihlKX0pfSxnZXRNaW1ldHlwZTpmdW5jdGlvbihlKXtyZXR1cm57anBnOiJpbWFnZS9qcGVnIixqcGVnOiJpbWFnZS9qcGVnIixwbmc6ImltYWdlL3BuZyIsYm1wOiJpbWFnZS9ibXAiLG9nZzoiYXVkaW8vb2dnIix3YXY6ImF1ZGlvL3dhdiIsbXAzOiJhdWRpby9tcGVnIn1bZS5zdWJzdHIoZS5sYXN0SW5kZXhPZigiLiIpKzEpXX0sZ2V0VXNlck1lZGlhOmZ1bmN0aW9uKGUpe3dpbmRvdy5nZXRVc2VyTWVkaWF8fCh3aW5kb3cuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci5nZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpLHdpbmRvdy5nZXRVc2VyTWVkaWEoZSl9LGdldE1vdmVtZW50WDpmdW5jdGlvbihlKXtyZXR1cm4gZS5tb3ZlbWVudFh8fGUubW96TW92ZW1lbnRYfHxlLndlYmtpdE1vdmVtZW50WHx8MH0sZ2V0TW92ZW1lbnRZOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVtZW50WXx8ZS5tb3pNb3ZlbWVudFl8fGUud2Via2l0TW92ZW1lbnRZfHwwfSxnZXRNb3VzZVdoZWVsRGVsdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtzd2l0Y2goZS50eXBlKXtjYXNlIkRPTU1vdXNlU2Nyb2xsIjp0PWUuZGV0YWlsLzM7YnJlYWs7Y2FzZSJtb3VzZXdoZWVsIjp0PWUud2hlZWxEZWx0YS8xMjA7YnJlYWs7Y2FzZSJ3aGVlbCI6c3dpdGNoKHQ9ZS5kZWx0YVksZS5kZWx0YU1vZGUpe2Nhc2UgMDp0Lz0xMDA7YnJlYWs7Y2FzZSAxOnQvPTM7YnJlYWs7Y2FzZSAyOnQqPTgwO2JyZWFrO2RlZmF1bHQ6dGhyb3cidW5yZWNvZ25pemVkIG1vdXNlIHdoZWVsIGRlbHRhIG1vZGU6ICIrZS5kZWx0YU1vZGV9YnJlYWs7ZGVmYXVsdDp0aHJvdyJ1bnJlY29nbml6ZWQgbW91c2Ugd2hlZWwgZXZlbnQ6ICIrZS50eXBlfXJldHVybiB0fSxtb3VzZVg6MCxtb3VzZVk6MCxtb3VzZU1vdmVtZW50WDowLG1vdXNlTW92ZW1lbnRZOjAsdG91Y2hlczp7fSxsYXN0VG91Y2hlczp7fSxjYWxjdWxhdGVNb3VzZUV2ZW50OmZ1bmN0aW9uKGUpe2lmKGIucG9pbnRlckxvY2spZS50eXBlIT0ibW91c2Vtb3ZlIiYmIm1vek1vdmVtZW50WCJpbiBlP2IubW91c2VNb3ZlbWVudFg9Yi5tb3VzZU1vdmVtZW50WT0wOihiLm1vdXNlTW92ZW1lbnRYPWIuZ2V0TW92ZW1lbnRYKGUpLGIubW91c2VNb3ZlbWVudFk9Yi5nZXRNb3ZlbWVudFkoZSkpLHR5cGVvZiBTREw8InUiPyhiLm1vdXNlWD1TREwubW91c2VYK2IubW91c2VNb3ZlbWVudFgsYi5tb3VzZVk9U0RMLm1vdXNlWStiLm1vdXNlTW92ZW1lbnRZKTooYi5tb3VzZVgrPWIubW91c2VNb3ZlbWVudFgsYi5tb3VzZVkrPWIubW91c2VNb3ZlbWVudFkpO2Vsc2V7dmFyIHQ9aS5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1pLmNhbnZhcy53aWR0aCxuPWkuY2FudmFzLmhlaWdodCxhPXR5cGVvZiB3aW5kb3cuc2Nyb2xsWDwidSI/d2luZG93LnNjcm9sbFg6d2luZG93LnBhZ2VYT2Zmc2V0LG89dHlwZW9mIHdpbmRvdy5zY3JvbGxZPCJ1Ij93aW5kb3cuc2Nyb2xsWTp3aW5kb3cucGFnZVlPZmZzZXQ7aWYoZS50eXBlPT09InRvdWNoc3RhcnQifHxlLnR5cGU9PT0idG91Y2hlbmQifHxlLnR5cGU9PT0idG91Y2htb3ZlIil7dmFyIHU9ZS50b3VjaDtpZih1PT09dm9pZCAwKXJldHVybjt2YXIgYz11LnBhZ2VYLShhK3QubGVmdCksbD11LnBhZ2VZLShvK3QudG9wKTtjPWMqKHIvdC53aWR0aCksbD1sKihuL3QuaGVpZ2h0KTt2YXIgaD17eDpjLHk6bH07aWYoZS50eXBlPT09InRvdWNoc3RhcnQiKWIubGFzdFRvdWNoZXNbdS5pZGVudGlmaWVyXT1oLGIudG91Y2hlc1t1LmlkZW50aWZpZXJdPWg7ZWxzZSBpZihlLnR5cGU9PT0idG91Y2hlbmQifHxlLnR5cGU9PT0idG91Y2htb3ZlIil7dmFyIGc9Yi50b3VjaGVzW3UuaWRlbnRpZmllcl07Z3x8KGc9aCksYi5sYXN0VG91Y2hlc1t1LmlkZW50aWZpZXJdPWcsYi50b3VjaGVzW3UuaWRlbnRpZmllcl09aH1yZXR1cm59dmFyIEU9ZS5wYWdlWC0oYSt0LmxlZnQpLHk9ZS5wYWdlWS0obyt0LnRvcCk7RT1FKihyL3Qud2lkdGgpLHk9eSoobi90LmhlaWdodCksYi5tb3VzZU1vdmVtZW50WD1FLWIubW91c2VYLGIubW91c2VNb3ZlbWVudFk9eS1iLm1vdXNlWSxiLm1vdXNlWD1FLGIubW91c2VZPXl9fSxyZXNpemVMaXN0ZW5lcnM6W10sdXBkYXRlUmVzaXplTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9aS5jYW52YXM7Yi5yZXNpemVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXt0KGUud2lkdGgsZS5oZWlnaHQpfSl9LHNldENhbnZhc1NpemU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuY2FudmFzO2IudXBkYXRlQ2FudmFzRGltZW5zaW9ucyhuLGUsdCkscnx8Yi51cGRhdGVSZXNpemVMaXN0ZW5lcnMoKX0sd2luZG93ZWRXaWR0aDowLHdpbmRvd2VkSGVpZ2h0OjAsc2V0RnVsbHNjcmVlbkNhbnZhc1NpemU6ZnVuY3Rpb24oKXtpZih0eXBlb2YgU0RMPCJ1Iil7dmFyIGU9QltTREwuc2NyZWVuPj4yXTtlPWV8ODM4ODYwOCxfW1NETC5zY3JlZW4+PjJdPWV9Yi51cGRhdGVDYW52YXNEaW1lbnNpb25zKGkuY2FudmFzKSxiLnVwZGF0ZVJlc2l6ZUxpc3RlbmVycygpfSxzZXRXaW5kb3dlZENhbnZhc1NpemU6ZnVuY3Rpb24oKXtpZih0eXBlb2YgU0RMPCJ1Iil7dmFyIGU9QltTREwuc2NyZWVuPj4yXTtlPWUmLTgzODg2MDksX1tTREwuc2NyZWVuPj4yXT1lfWIudXBkYXRlQ2FudmFzRGltZW5zaW9ucyhpLmNhbnZhcyksYi51cGRhdGVSZXNpemVMaXN0ZW5lcnMoKX0sdXBkYXRlQ2FudmFzRGltZW5zaW9uczpmdW5jdGlvbihlLHQscil7dCYmcj8oZS53aWR0aE5hdGl2ZT10LGUuaGVpZ2h0TmF0aXZlPXIpOih0PWUud2lkdGhOYXRpdmUscj1lLmhlaWdodE5hdGl2ZSk7dmFyIG49dCxhPXI7aWYoaS5mb3JjZWRBc3BlY3RSYXRpbyYmaS5mb3JjZWRBc3BlY3RSYXRpbz4wJiYobi9hPGkuZm9yY2VkQXNwZWN0UmF0aW8/bj1NYXRoLnJvdW5kKGEqaS5mb3JjZWRBc3BlY3RSYXRpbyk6YT1NYXRoLnJvdW5kKG4vaS5mb3JjZWRBc3BlY3RSYXRpbykpLChkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQpPT09ZS5wYXJlbnROb2RlJiZ0eXBlb2Ygc2NyZWVuPCJ1Iil7dmFyIG89TWF0aC5taW4oc2NyZWVuLndpZHRoL24sc2NyZWVuLmhlaWdodC9hKTtuPU1hdGgucm91bmQobipvKSxhPU1hdGgucm91bmQoYSpvKX1iLnJlc2l6ZUNhbnZhcz8oZS53aWR0aCE9biYmKGUud2lkdGg9biksZS5oZWlnaHQhPWEmJihlLmhlaWdodD1hKSx0eXBlb2YgZS5zdHlsZTwidSImJihlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ3aWR0aCIpLGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoImhlaWdodCIpKSk6KGUud2lkdGghPXQmJihlLndpZHRoPXQpLGUuaGVpZ2h0IT1yJiYoZS5oZWlnaHQ9ciksdHlwZW9mIGUuc3R5bGU8InUiJiYobiE9dHx8YSE9cj8oZS5zdHlsZS5zZXRQcm9wZXJ0eSgid2lkdGgiLG4rInB4IiwiaW1wb3J0YW50IiksZS5zdHlsZS5zZXRQcm9wZXJ0eSgiaGVpZ2h0IixhKyJweCIsImltcG9ydGFudCIpKTooZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgid2lkdGgiKSxlLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJoZWlnaHQiKSkpKX19LHA9e1FVRVVFX0lOVEVSVkFMOjI1LFFVRVVFX0xPT0tBSEVBRDouMSxERVZJQ0VfTkFNRToiRW1zY3JpcHRlbiBPcGVuQUwiLENBUFRVUkVfREVWSUNFX05BTUU6IkVtc2NyaXB0ZW4gT3BlbkFMIGNhcHR1cmUiLEFMQ19FWFRFTlNJT05TOntBTENfU09GVF9wYXVzZV9kZXZpY2U6ITAsQUxDX1NPRlRfSFJURjohMH0sQUxfRVhURU5TSU9OUzp7QUxfRVhUX2Zsb2F0MzI6ITAsQUxfU09GVF9sb29wX3BvaW50czohMCxBTF9TT0ZUX3NvdXJjZV9sZW5ndGg6ITAsQUxfRVhUX3NvdXJjZV9kaXN0YW5jZV9tb2RlbDohMCxBTF9TT0ZUX3NvdXJjZV9zcGF0aWFsaXplOiEwfSxfYWxjRXJyOjAsYWxjRXJyOjAsZGV2aWNlUmVmQ291bnRzOnt9LGFsY1N0cmluZ0NhY2hlOnt9LHBhdXNlZDohMSxzdHJpbmdDYWNoZTp7fSxjb250ZXh0czp7fSxjdXJyZW50Q3R4Om51bGwsYnVmZmVyczp7MDp7aWQ6MCxyZWZDb3VudDowLGF1ZGlvQnVmOm51bGwsZnJlcXVlbmN5OjAsYnl0ZXNQZXJTYW1wbGU6MixjaGFubmVsczoxLGxlbmd0aDowfX0scGFyYW1BcnJheTpbXSxfbmV4dElkOjEsbmV3SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC5mcmVlSWRzLmxlbmd0aD4wP3AuZnJlZUlkcy5wb3AoKTpwLl9uZXh0SWQrK30sZnJlZUlkczpbXSxzY2hlZHVsZUNvbnRleHRBdWRpbzpmdW5jdGlvbihlKXtpZighKGIubWFpbkxvb3AudGltaW5nTW9kZT09PTEmJmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSE9InZpc2libGUiKSlmb3IodmFyIHQgaW4gZS5zb3VyY2VzKXAuc2NoZWR1bGVTb3VyY2VBdWRpbyhlLnNvdXJjZXNbdF0pfSxzY2hlZHVsZVNvdXJjZUF1ZGlvOmZ1bmN0aW9uKGUsdCl7aWYoIShiLm1haW5Mb29wLnRpbWluZ01vZGU9PT0xJiZkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUhPSJ2aXNpYmxlIikmJmUuc3RhdGU9PT00MTE0KXtmb3IodmFyIHI9cC51cGRhdGVTb3VyY2VUaW1lKGUpLG49ZS5idWZTdGFydFRpbWUsYT1lLmJ1Zk9mZnNldCxvPWUuYnVmc1Byb2Nlc3NlZCx1PTA7dTxlLmF1ZGlvUXVldWUubGVuZ3RoO3UrKyl7dmFyIGM9ZS5hdWRpb1F1ZXVlW3VdO249Yy5fc3RhcnRUaW1lK2MuX2R1cmF0aW9uLGE9MCxvKz1jLl9za2lwQ291bnQrMX10fHwodD1wLlFVRVVFX0xPT0tBSEVBRCk7Zm9yKHZhciBsPXIrdCxoPTA7bjxsOyl7aWYobz49ZS5idWZRdWV1ZS5sZW5ndGgpaWYoZS5sb29waW5nKW8lPWUuYnVmUXVldWUubGVuZ3RoO2Vsc2UgYnJlYWs7dmFyIGc9ZS5idWZRdWV1ZVtvJWUuYnVmUXVldWUubGVuZ3RoXTtpZihnLmxlbmd0aD09PTApe2lmKGgrKyxoPT09ZS5idWZRdWV1ZS5sZW5ndGgpYnJlYWt9ZWxzZXt2YXIgYz1lLmNvbnRleHQuYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7Yy5idWZmZXI9Zy5hdWRpb0J1ZixjLnBsYXliYWNrUmF0ZS52YWx1ZT1lLnBsYXliYWNrUmF0ZSwoZy5hdWRpb0J1Zi5fbG9vcFN0YXJ0fHxnLmF1ZGlvQnVmLl9sb29wRW5kKSYmKGMubG9vcFN0YXJ0PWcuYXVkaW9CdWYuX2xvb3BTdGFydCxjLmxvb3BFbmQ9Zy5hdWRpb0J1Zi5fbG9vcEVuZCk7dmFyIEU9MDtlLnR5cGU9PT00MTM2JiZlLmxvb3Bpbmc/KEU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGMubG9vcD0hMCxnLmF1ZGlvQnVmLl9sb29wU3RhcnQmJihjLmxvb3BTdGFydD1nLmF1ZGlvQnVmLl9sb29wU3RhcnQpLGcuYXVkaW9CdWYuX2xvb3BFbmQmJihjLmxvb3BFbmQ9Zy5hdWRpb0J1Zi5fbG9vcEVuZCkpOkU9KGcuYXVkaW9CdWYuZHVyYXRpb24tYSkvZS5wbGF5YmFja1JhdGUsYy5fc3RhcnRPZmZzZXQ9YSxjLl9kdXJhdGlvbj1FLGMuX3NraXBDb3VudD1oLGg9MCxjLmNvbm5lY3QoZS5nYWluKSx0eXBlb2YgYy5zdGFydDwidSI/KG49TWF0aC5tYXgobixlLmNvbnRleHQuYXVkaW9DdHguY3VycmVudFRpbWUpLGMuc3RhcnQobixhKSk6dHlwZW9mIGMubm90ZU9uPCJ1IiYmKG49TWF0aC5tYXgobixlLmNvbnRleHQuYXVkaW9DdHguY3VycmVudFRpbWUpLGMubm90ZU9uKG4pKSxjLl9zdGFydFRpbWU9bixlLmF1ZGlvUXVldWUucHVzaChjKSxuKz1FfWE9MCxvKyt9fX0sdXBkYXRlU291cmNlVGltZTpmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRleHQuYXVkaW9DdHguY3VycmVudFRpbWU7aWYoZS5zdGF0ZSE9PTQxMTQpcmV0dXJuIHQ7aXNGaW5pdGUoZS5idWZTdGFydFRpbWUpfHwoZS5idWZTdGFydFRpbWU9dC1lLmJ1Zk9mZnNldC9lLnBsYXliYWNrUmF0ZSxlLmJ1Zk9mZnNldD0wKTtmb3IodmFyIHI9MDtlLmF1ZGlvUXVldWUubGVuZ3RoOyl7dmFyIG49ZS5hdWRpb1F1ZXVlWzBdO2lmKGUuYnVmc1Byb2Nlc3NlZCs9bi5fc2tpcENvdW50LHI9bi5fc3RhcnRUaW1lK24uX2R1cmF0aW9uLHQ8cilicmVhaztlLmF1ZGlvUXVldWUuc2hpZnQoKSxlLmJ1ZlN0YXJ0VGltZT1yLGUuYnVmT2Zmc2V0PTAsZS5idWZzUHJvY2Vzc2VkKyt9aWYoZS5idWZzUHJvY2Vzc2VkPj1lLmJ1ZlF1ZXVlLmxlbmd0aCYmIWUubG9vcGluZylwLnNldFNvdXJjZVN0YXRlKGUsNDExNik7ZWxzZSBpZihlLnR5cGU9PT00MTM2JiZlLmxvb3Bpbmcpe3ZhciBhPWUuYnVmUXVldWVbMF07aWYoYS5sZW5ndGg9PT0wKWUuYnVmT2Zmc2V0PTA7ZWxzZXt2YXIgbz0odC1lLmJ1ZlN0YXJ0VGltZSkqZS5wbGF5YmFja1JhdGUsdT1hLmF1ZGlvQnVmLl9sb29wU3RhcnR8fDAsYz1hLmF1ZGlvQnVmLl9sb29wRW5kfHxhLmF1ZGlvQnVmLmR1cmF0aW9uO2M8PXUmJihjPWEuYXVkaW9CdWYuZHVyYXRpb24pLG88Yz9lLmJ1Zk9mZnNldD1vOmUuYnVmT2Zmc2V0PXUrKG8tdSklKGMtdSl9fWVsc2UgaWYoZS5hdWRpb1F1ZXVlWzBdKWUuYnVmT2Zmc2V0PSh0LWUuYXVkaW9RdWV1ZVswXS5fc3RhcnRUaW1lKSplLnBsYXliYWNrUmF0ZTtlbHNle2lmKGUudHlwZSE9PTQxMzYmJmUubG9vcGluZyl7dmFyIGw9cC5zb3VyY2VEdXJhdGlvbihlKS9lLnBsYXliYWNrUmF0ZTtsPjAmJihlLmJ1ZlN0YXJ0VGltZSs9TWF0aC5mbG9vcigodC1lLmJ1ZlN0YXJ0VGltZSkvbCkqbCl9Zm9yKHZhciBoPTA7aDxlLmJ1ZlF1ZXVlLmxlbmd0aDtoKyspe2lmKGUuYnVmc1Byb2Nlc3NlZD49ZS5idWZRdWV1ZS5sZW5ndGgpaWYoZS5sb29waW5nKWUuYnVmc1Byb2Nlc3NlZCU9ZS5idWZRdWV1ZS5sZW5ndGg7ZWxzZXtwLnNldFNvdXJjZVN0YXRlKGUsNDExNik7YnJlYWt9dmFyIGE9ZS5idWZRdWV1ZVtlLmJ1ZnNQcm9jZXNzZWRdO2lmKGEubGVuZ3RoPjApe2lmKHI9ZS5idWZTdGFydFRpbWUrYS5hdWRpb0J1Zi5kdXJhdGlvbi9lLnBsYXliYWNrUmF0ZSx0PHIpe2UuYnVmT2Zmc2V0PSh0LWUuYnVmU3RhcnRUaW1lKSplLnBsYXliYWNrUmF0ZTticmVha31lLmJ1ZlN0YXJ0VGltZT1yfWUuYnVmT2Zmc2V0PTAsZS5idWZzUHJvY2Vzc2VkKyt9fXJldHVybiB0fSxjYW5jZWxQZW5kaW5nU291cmNlQXVkaW86ZnVuY3Rpb24oZSl7cC51cGRhdGVTb3VyY2VUaW1lKGUpO2Zvcih2YXIgdD0xO3Q8ZS5hdWRpb1F1ZXVlLmxlbmd0aDt0Kyspe3ZhciByPWUuYXVkaW9RdWV1ZVt0XTtyLnN0b3AoKX1lLmF1ZGlvUXVldWUubGVuZ3RoPjEmJihlLmF1ZGlvUXVldWUubGVuZ3RoPTEpfSxzdG9wU291cmNlQXVkaW86ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmF1ZGlvUXVldWUubGVuZ3RoO3QrKyllLmF1ZGlvUXVldWVbdF0uc3RvcCgpO2UuYXVkaW9RdWV1ZS5sZW5ndGg9MH0sc2V0U291cmNlU3RhdGU6ZnVuY3Rpb24oZSx0KXt0PT09NDExND8oKGUuc3RhdGU9PT00MTE0fHxlLnN0YXRlPT00MTE2KSYmKGUuYnVmc1Byb2Nlc3NlZD0wLGUuYnVmT2Zmc2V0PTApLHAuc3RvcFNvdXJjZUF1ZGlvKGUpLGUuc3RhdGU9NDExNCxlLmJ1ZlN0YXJ0VGltZT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkscC5zY2hlZHVsZVNvdXJjZUF1ZGlvKGUpKTp0PT09NDExNT9lLnN0YXRlPT09NDExNCYmKHAudXBkYXRlU291cmNlVGltZShlKSxwLnN0b3BTb3VyY2VBdWRpbyhlKSxlLnN0YXRlPTQxMTUpOnQ9PT00MTE2P2Uuc3RhdGUhPT00MTEzJiYoZS5zdGF0ZT00MTE2LGUuYnVmc1Byb2Nlc3NlZD1lLmJ1ZlF1ZXVlLmxlbmd0aCxlLmJ1ZlN0YXJ0VGltZT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZS5idWZPZmZzZXQ9MCxwLnN0b3BTb3VyY2VBdWRpbyhlKSk6dD09PTQxMTMmJmUuc3RhdGUhPT00MTEzJiYoZS5zdGF0ZT00MTEzLGUuYnVmc1Byb2Nlc3NlZD0wLGUuYnVmU3RhcnRUaW1lPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxlLmJ1Zk9mZnNldD0wLHAuc3RvcFNvdXJjZUF1ZGlvKGUpKX0saW5pdFNvdXJjZVBhbm5lcjpmdW5jdGlvbihlKXtpZihlLnR5cGUhPT00MTQ0KXtmb3IodmFyIHQ9cC5idWZmZXJzWzBdLHI9MDtyPGUuYnVmUXVldWUubGVuZ3RoO3IrKylpZihlLmJ1ZlF1ZXVlW3JdLmlkIT09MCl7dD1lLmJ1ZlF1ZXVlW3JdO2JyZWFrfWlmKGUuc3BhdGlhbGl6ZT09PTF8fGUuc3BhdGlhbGl6ZT09PTImJnQuY2hhbm5lbHM9PT0xKXtpZihlLnBhbm5lcilyZXR1cm47ZS5wYW5uZXI9ZS5jb250ZXh0LmF1ZGlvQ3R4LmNyZWF0ZVBhbm5lcigpLHAudXBkYXRlU291cmNlR2xvYmFsKGUpLHAudXBkYXRlU291cmNlU3BhY2UoZSksZS5wYW5uZXIuY29ubmVjdChlLmNvbnRleHQuZ2FpbiksZS5nYWluLmRpc2Nvbm5lY3QoKSxlLmdhaW4uY29ubmVjdChlLnBhbm5lcil9ZWxzZXtpZighZS5wYW5uZXIpcmV0dXJuO2UucGFubmVyLmRpc2Nvbm5lY3QoKSxlLmdhaW4uZGlzY29ubmVjdCgpLGUuZ2Fpbi5jb25uZWN0KGUuY29udGV4dC5nYWluKSxlLnBhbm5lcj1udWxsfX19LHVwZGF0ZUNvbnRleHRHbG9iYWw6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUuc291cmNlcylwLnVwZGF0ZVNvdXJjZUdsb2JhbChlLnNvdXJjZXNbdF0pfSx1cGRhdGVTb3VyY2VHbG9iYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYW5uZXI7aWYodCl7dC5yZWZEaXN0YW5jZT1lLnJlZkRpc3RhbmNlLHQubWF4RGlzdGFuY2U9ZS5tYXhEaXN0YW5jZSx0LnJvbGxvZmZGYWN0b3I9ZS5yb2xsb2ZmRmFjdG9yLHQucGFubmluZ01vZGVsPWUuY29udGV4dC5ocnRmPyJIUlRGIjoiZXF1YWxwb3dlciI7dmFyIHI9ZS5jb250ZXh0LnNvdXJjZURpc3RhbmNlTW9kZWw/ZS5kaXN0YW5jZU1vZGVsOmUuY29udGV4dC5kaXN0YW5jZU1vZGVsO3N3aXRjaChyKXtjYXNlIDA6dC5kaXN0YW5jZU1vZGVsPSJpbnZlcnNlIix0LnJlZkRpc3RhbmNlPTM0MDI4MmUzMzticmVhaztjYXNlIDUzMjQ5OmNhc2UgNTMyNTA6dC5kaXN0YW5jZU1vZGVsPSJpbnZlcnNlIjticmVhaztjYXNlIDUzMjUxOmNhc2UgNTMyNTI6dC5kaXN0YW5jZU1vZGVsPSJsaW5lYXIiO2JyZWFrO2Nhc2UgNTMyNTM6Y2FzZSA1MzI1NDp0LmRpc3RhbmNlTW9kZWw9ImV4cG9uZW50aWFsIjticmVha319fSx1cGRhdGVMaXN0ZW5lclNwYWNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYXVkaW9DdHgubGlzdGVuZXI7dC5wb3NpdGlvblg/KHQucG9zaXRpb25YLnZhbHVlPWUubGlzdGVuZXIucG9zaXRpb25bMF0sdC5wb3NpdGlvblkudmFsdWU9ZS5saXN0ZW5lci5wb3NpdGlvblsxXSx0LnBvc2l0aW9uWi52YWx1ZT1lLmxpc3RlbmVyLnBvc2l0aW9uWzJdKTp0LnNldFBvc2l0aW9uKGUubGlzdGVuZXIucG9zaXRpb25bMF0sZS5saXN0ZW5lci5wb3NpdGlvblsxXSxlLmxpc3RlbmVyLnBvc2l0aW9uWzJdKSx0LmZvcndhcmRYPyh0LmZvcndhcmRYLnZhbHVlPWUubGlzdGVuZXIuZGlyZWN0aW9uWzBdLHQuZm9yd2FyZFkudmFsdWU9ZS5saXN0ZW5lci5kaXJlY3Rpb25bMV0sdC5mb3J3YXJkWi52YWx1ZT1lLmxpc3RlbmVyLmRpcmVjdGlvblsyXSx0LnVwWC52YWx1ZT1lLmxpc3RlbmVyLnVwWzBdLHQudXBZLnZhbHVlPWUubGlzdGVuZXIudXBbMV0sdC51cFoudmFsdWU9ZS5saXN0ZW5lci51cFsyXSk6dC5zZXRPcmllbnRhdGlvbihlLmxpc3RlbmVyLmRpcmVjdGlvblswXSxlLmxpc3RlbmVyLmRpcmVjdGlvblsxXSxlLmxpc3RlbmVyLmRpcmVjdGlvblsyXSxlLmxpc3RlbmVyLnVwWzBdLGUubGlzdGVuZXIudXBbMV0sZS5saXN0ZW5lci51cFsyXSk7Zm9yKHZhciByIGluIGUuc291cmNlcylwLnVwZGF0ZVNvdXJjZVNwYWNlKGUuc291cmNlc1tyXSl9LHVwZGF0ZVNvdXJjZVNwYWNlOmZ1bmN0aW9uKGUpe2lmKGUucGFubmVyKXt2YXIgdD1lLnBhbm5lcixyPWUucG9zaXRpb25bMF0sbj1lLnBvc2l0aW9uWzFdLGE9ZS5wb3NpdGlvblsyXSxvPWUuZGlyZWN0aW9uWzBdLHU9ZS5kaXJlY3Rpb25bMV0sYz1lLmRpcmVjdGlvblsyXSxsPWUuY29udGV4dC5saXN0ZW5lcixoPWwucG9zaXRpb25bMF0sZz1sLnBvc2l0aW9uWzFdLEU9bC5wb3NpdGlvblsyXTtpZihlLnJlbGF0aXZlKXt2YXIgeT0tbC5kaXJlY3Rpb25bMF0sVD0tbC5kaXJlY3Rpb25bMV0sRj0tbC5kaXJlY3Rpb25bMl0sUj1sLnVwWzBdLGo9bC51cFsxXSxJPWwudXBbMl0seD1mdW5jdGlvbihwYSxoYSxnYSl7dmFyIHlhPU1hdGguc3FydChwYSpwYStoYSpoYStnYSpnYSk7cmV0dXJuIHlhPE51bWJlci5FUFNJTE9OPzA6MS95YX0sRD14KHksVCxGKTt5Kj1ELFQqPUQsRio9RCxEPXgoUixqLEkpLFIqPUQsaio9RCxJKj1EO3ZhciBOPWoqRi1JKlQsVT1JKnktUipGLEs9UipULWoqeTtEPXgoTixVLEspLE4qPUQsVSo9RCxLKj1ELFI9VCpLLUYqVSxqPUYqTi15KkssST15KlUtVCpOO3ZhciB1ZT1vLFVlPXUsR2U9YztvPXVlKk4rVWUqUitHZSp5LHU9dWUqVStVZSpqK0dlKlQsYz11ZSpLK1VlKkkrR2UqRix1ZT1yLFVlPW4sR2U9YSxyPXVlKk4rVWUqUitHZSp5LG49dWUqVStVZSpqK0dlKlQsYT11ZSpLK1VlKkkrR2UqRixyKz1oLG4rPWcsYSs9RX10LnBvc2l0aW9uWD8ociE9dC5wb3NpdGlvblgudmFsdWUmJih0LnBvc2l0aW9uWC52YWx1ZT1yKSxuIT10LnBvc2l0aW9uWS52YWx1ZSYmKHQucG9zaXRpb25ZLnZhbHVlPW4pLGEhPXQucG9zaXRpb25aLnZhbHVlJiYodC5wb3NpdGlvbloudmFsdWU9YSkpOnQuc2V0UG9zaXRpb24ocixuLGEpLHQub3JpZW50YXRpb25YPyhvIT10Lm9yaWVudGF0aW9uWC52YWx1ZSYmKHQub3JpZW50YXRpb25YLnZhbHVlPW8pLHUhPXQub3JpZW50YXRpb25ZLnZhbHVlJiYodC5vcmllbnRhdGlvblkudmFsdWU9dSksYyE9dC5vcmllbnRhdGlvbloudmFsdWUmJih0Lm9yaWVudGF0aW9uWi52YWx1ZT1jKSk6dC5zZXRPcmllbnRhdGlvbihvLHUsYyk7dmFyIGpsPWUuZG9wcGxlclNoaWZ0LHNhPWUudmVsb2NpdHlbMF0sdWE9ZS52ZWxvY2l0eVsxXSxjYT1lLnZlbG9jaXR5WzJdLGxhPWwudmVsb2NpdHlbMF0sZmE9bC52ZWxvY2l0eVsxXSxkYT1sLnZlbG9jaXR5WzJdO2lmKHI9PT1oJiZuPT09ZyYmYT09PUV8fHNhPT09bGEmJnVhPT09ZmEmJmNhPT09ZGEpZS5kb3BwbGVyU2hpZnQ9MTtlbHNle3ZhciBadD1lLmNvbnRleHQuc3BlZWRPZlNvdW5kLEh0PWUuY29udGV4dC5kb3BwbGVyRmFjdG9yLCR0PWgtcixRdD1nLW4sSnQ9RS1hLG1hPU1hdGguc3FydCgkdCokdCtRdCpRdCtKdCpKdCksUnI9KCR0KmxhK1F0KmZhK0p0KmRhKS9tYSxBcj0oJHQqc2ErUXQqdWErSnQqY2EpL21hO1JyPU1hdGgubWluKFJyLFp0L0h0KSxBcj1NYXRoLm1pbihBcixadC9IdCksZS5kb3BwbGVyU2hpZnQ9KFp0LUh0KlJyKS8oWnQtSHQqQXIpfWUuZG9wcGxlclNoaWZ0IT09amwmJnAudXBkYXRlU291cmNlUmF0ZShlKX19LHVwZGF0ZVNvdXJjZVJhdGU6ZnVuY3Rpb24oZSl7aWYoZS5zdGF0ZT09PTQxMTQpe3AuY2FuY2VsUGVuZGluZ1NvdXJjZUF1ZGlvKGUpO3ZhciB0PWUuYXVkaW9RdWV1ZVswXTtpZighdClyZXR1cm47dmFyIHI7ZS50eXBlPT09NDEzNiYmZS5sb29waW5nP3I9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOnI9KHQuYnVmZmVyLmR1cmF0aW9uLXQuX3N0YXJ0T2Zmc2V0KS9lLnBsYXliYWNrUmF0ZSx0Ll9kdXJhdGlvbj1yLHQucGxheWJhY2tSYXRlLnZhbHVlPWUucGxheWJhY2tSYXRlLHAuc2NoZWR1bGVTb3VyY2VBdWRpbyhlKX19LHNvdXJjZUR1cmF0aW9uOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9MDtyPGUuYnVmUXVldWUubGVuZ3RoO3IrKyl7dmFyIG49ZS5idWZRdWV1ZVtyXS5hdWRpb0J1Zjt0Kz1uP24uZHVyYXRpb246MH1yZXR1cm4gdH0sc291cmNlVGVsbDpmdW5jdGlvbihlKXtwLnVwZGF0ZVNvdXJjZVRpbWUoZSk7Zm9yKHZhciB0PTAscj0wO3I8ZS5idWZzUHJvY2Vzc2VkO3IrKyllLmJ1ZlF1ZXVlW3JdLmF1ZGlvQnVmJiYodCs9ZS5idWZRdWV1ZVtyXS5hdWRpb0J1Zi5kdXJhdGlvbik7cmV0dXJuIHQrPWUuYnVmT2Zmc2V0LHR9LHNvdXJjZVNlZWs6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnN0YXRlPT00MTE0O2lmKHImJnAuc2V0U291cmNlU3RhdGUoZSw0MTEzKSxlLmJ1ZlF1ZXVlW2UuYnVmc1Byb2Nlc3NlZF0uYXVkaW9CdWYhPT1udWxsKXtmb3IoZS5idWZzUHJvY2Vzc2VkPTA7dD5lLmJ1ZlF1ZXVlW2UuYnVmc1Byb2Nlc3NlZF0uYXVkaW9CdWYuZHVyYXRpb247KXQtPWUuYnVmUXVldWVbZS5idWZzUHJvY2Vzc2VkXS5hdWRpb2J1Zi5kdXJhdGlvbixlLmJ1ZnNQcm9jZXNzZWQrKztlLmJ1Zk9mZnNldD10fXImJnAuc2V0U291cmNlU3RhdGUoZSw0MTE0KX0sZ2V0R2xvYmFsUGFyYW06ZnVuY3Rpb24oZSx0KXtpZighcC5jdXJyZW50Q3R4KXJldHVybiBudWxsO3N3aXRjaCh0KXtjYXNlIDQ5MTUyOnJldHVybiBwLmN1cnJlbnRDdHguZG9wcGxlckZhY3RvcjtjYXNlIDQ5MTU1OnJldHVybiBwLmN1cnJlbnRDdHguc3BlZWRPZlNvdW5kO2Nhc2UgNTMyNDg6cmV0dXJuIHAuY3VycmVudEN0eC5kaXN0YW5jZU1vZGVsO2RlZmF1bHQ6cmV0dXJuIHAuY3VycmVudEN0eC5lcnI9NDA5NjIsbnVsbH19LHNldEdsb2JhbFBhcmFtOmZ1bmN0aW9uKGUsdCxyKXtpZihwLmN1cnJlbnRDdHgpc3dpdGNoKHQpe2Nhc2UgNDkxNTI6aWYoIU51bWJlci5pc0Zpbml0ZShyKXx8cjwwKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1wLmN1cnJlbnRDdHguZG9wcGxlckZhY3Rvcj1yLHAudXBkYXRlTGlzdGVuZXJTcGFjZShwLmN1cnJlbnRDdHgpO2JyZWFrO2Nhc2UgNDkxNTU6aWYoIU51bWJlci5pc0Zpbml0ZShyKXx8cjw9MCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59cC5jdXJyZW50Q3R4LnNwZWVkT2ZTb3VuZD1yLHAudXBkYXRlTGlzdGVuZXJTcGFjZShwLmN1cnJlbnRDdHgpO2JyZWFrO2Nhc2UgNTMyNDg6c3dpdGNoKHIpe2Nhc2UgMDpjYXNlIDUzMjQ5OmNhc2UgNTMyNTA6Y2FzZSA1MzI1MTpjYXNlIDUzMjUyOmNhc2UgNTMyNTM6Y2FzZSA1MzI1NDpwLmN1cnJlbnRDdHguZGlzdGFuY2VNb2RlbD1yLHAudXBkYXRlQ29udGV4dEdsb2JhbChwLmN1cnJlbnRDdHgpO2JyZWFrO2RlZmF1bHQ6cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YnJlYWs7ZGVmYXVsdDpwLmN1cnJlbnRDdHguZXJyPTQwOTYyO3JldHVybn19LGdldExpc3RlbmVyUGFyYW06ZnVuY3Rpb24oZSx0KXtpZighcC5jdXJyZW50Q3R4KXJldHVybiBudWxsO3N3aXRjaCh0KXtjYXNlIDQxMDA6cmV0dXJuIHAuY3VycmVudEN0eC5saXN0ZW5lci5wb3NpdGlvbjtjYXNlIDQxMDI6cmV0dXJuIHAuY3VycmVudEN0eC5saXN0ZW5lci52ZWxvY2l0eTtjYXNlIDQxMTE6cmV0dXJuIHAuY3VycmVudEN0eC5saXN0ZW5lci5kaXJlY3Rpb24uY29uY2F0KHAuY3VycmVudEN0eC5saXN0ZW5lci51cCk7Y2FzZSA0MTA2OnJldHVybiBwLmN1cnJlbnRDdHguZ2Fpbi5nYWluLnZhbHVlO2RlZmF1bHQ6cmV0dXJuIHAuY3VycmVudEN0eC5lcnI9NDA5NjIsbnVsbH19LHNldExpc3RlbmVyUGFyYW06ZnVuY3Rpb24oZSx0LHIpe2lmKHAuY3VycmVudEN0eCl7aWYocj09PW51bGwpe3AuY3VycmVudEN0eC5lcnI9NDA5NjI7cmV0dXJufXZhciBuPXAuY3VycmVudEN0eC5saXN0ZW5lcjtzd2l0Y2godCl7Y2FzZSA0MTAwOmlmKCFOdW1iZXIuaXNGaW5pdGUoclswXSl8fCFOdW1iZXIuaXNGaW5pdGUoclsxXSl8fCFOdW1iZXIuaXNGaW5pdGUoclsyXSkpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufW4ucG9zaXRpb25bMF09clswXSxuLnBvc2l0aW9uWzFdPXJbMV0sbi5wb3NpdGlvblsyXT1yWzJdLHAudXBkYXRlTGlzdGVuZXJTcGFjZShwLmN1cnJlbnRDdHgpO2JyZWFrO2Nhc2UgNDEwMjppZighTnVtYmVyLmlzRmluaXRlKHJbMF0pfHwhTnVtYmVyLmlzRmluaXRlKHJbMV0pfHwhTnVtYmVyLmlzRmluaXRlKHJbMl0pKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1uLnZlbG9jaXR5WzBdPXJbMF0sbi52ZWxvY2l0eVsxXT1yWzFdLG4udmVsb2NpdHlbMl09clsyXSxwLnVwZGF0ZUxpc3RlbmVyU3BhY2UocC5jdXJyZW50Q3R4KTticmVhaztjYXNlIDQxMDY6aWYoIU51bWJlci5pc0Zpbml0ZShyKXx8cjwwKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1wLmN1cnJlbnRDdHguZ2Fpbi5nYWluLnZhbHVlPXI7YnJlYWs7Y2FzZSA0MTExOmlmKCFOdW1iZXIuaXNGaW5pdGUoclswXSl8fCFOdW1iZXIuaXNGaW5pdGUoclsxXSl8fCFOdW1iZXIuaXNGaW5pdGUoclsyXSl8fCFOdW1iZXIuaXNGaW5pdGUoclszXSl8fCFOdW1iZXIuaXNGaW5pdGUocls0XSl8fCFOdW1iZXIuaXNGaW5pdGUocls1XSkpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufW4uZGlyZWN0aW9uWzBdPXJbMF0sbi5kaXJlY3Rpb25bMV09clsxXSxuLmRpcmVjdGlvblsyXT1yWzJdLG4udXBbMF09clszXSxuLnVwWzFdPXJbNF0sbi51cFsyXT1yWzVdLHAudXBkYXRlTGlzdGVuZXJTcGFjZShwLmN1cnJlbnRDdHgpO2JyZWFrO2RlZmF1bHQ6cC5jdXJyZW50Q3R4LmVycj00MDk2MjtyZXR1cm59fX0sZ2V0QnVmZmVyUGFyYW06ZnVuY3Rpb24oZSx0LHIpe2lmKHAuY3VycmVudEN0eCl7dmFyIG49cC5idWZmZXJzW3RdO2lmKCFufHx0PT09MCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MTtyZXR1cm59c3dpdGNoKHIpe2Nhc2UgODE5MzpyZXR1cm4gbi5mcmVxdWVuY3k7Y2FzZSA4MTk0OnJldHVybiBuLmJ5dGVzUGVyU2FtcGxlKjg7Y2FzZSA4MTk1OnJldHVybiBuLmNoYW5uZWxzO2Nhc2UgODE5NjpyZXR1cm4gbi5sZW5ndGgqbi5ieXRlc1BlclNhbXBsZSpuLmNoYW5uZWxzO2Nhc2UgODIxMzpyZXR1cm4gbi5sZW5ndGg9PT0wP1swLDBdOlsobi5hdWRpb0J1Zi5fbG9vcFN0YXJ0fHwwKSpuLmZyZXF1ZW5jeSwobi5hdWRpb0J1Zi5fbG9vcEVuZHx8bi5sZW5ndGgpKm4uZnJlcXVlbmN5XTtkZWZhdWx0OnJldHVybiBwLmN1cnJlbnRDdHguZXJyPTQwOTYyLG51bGx9fX0sc2V0QnVmZmVyUGFyYW06ZnVuY3Rpb24oZSx0LHIsbil7aWYocC5jdXJyZW50Q3R4KXt2YXIgYT1wLmJ1ZmZlcnNbdF07aWYoIWF8fHQ9PT0wKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYxO3JldHVybn1pZihuPT09bnVsbCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MjtyZXR1cm59c3dpdGNoKHIpe2Nhc2UgODE5NjppZihuIT09MCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YnJlYWs7Y2FzZSA4MjEzOmlmKG5bMF08MHx8blswXT5hLmxlbmd0aHx8blsxXTwwfHxuWzFdPmEuTGVuZ3RofHxuWzBdPj1uWzFdKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1pZihhLnJlZkNvdW50PjApe3AuY3VycmVudEN0eC5lcnI9NDA5NjQ7cmV0dXJufWEuYXVkaW9CdWYmJihhLmF1ZGlvQnVmLl9sb29wU3RhcnQ9blswXS9hLmZyZXF1ZW5jeSxhLmF1ZGlvQnVmLl9sb29wRW5kPW5bMV0vYS5mcmVxdWVuY3kpO2JyZWFrO2RlZmF1bHQ6cC5jdXJyZW50Q3R4LmVycj00MDk2MjtyZXR1cm59fX0sZ2V0U291cmNlUGFyYW06ZnVuY3Rpb24oZSx0LHIpe2lmKCFwLmN1cnJlbnRDdHgpcmV0dXJuIG51bGw7dmFyIG49cC5jdXJyZW50Q3R4LnNvdXJjZXNbdF07aWYoIW4pcmV0dXJuIHAuY3VycmVudEN0eC5lcnI9NDA5NjEsbnVsbDtzd2l0Y2gocil7Y2FzZSA1MTQ6cmV0dXJuIG4ucmVsYXRpdmU7Y2FzZSA0MDk3OnJldHVybiBuLmNvbmVJbm5lckFuZ2xlO2Nhc2UgNDA5ODpyZXR1cm4gbi5jb25lT3V0ZXJBbmdsZTtjYXNlIDQwOTk6cmV0dXJuIG4ucGl0Y2g7Y2FzZSA0MTAwOnJldHVybiBuLnBvc2l0aW9uO2Nhc2UgNDEwMTpyZXR1cm4gbi5kaXJlY3Rpb247Y2FzZSA0MTAyOnJldHVybiBuLnZlbG9jaXR5O2Nhc2UgNDEwMzpyZXR1cm4gbi5sb29waW5nO2Nhc2UgNDEwNTpyZXR1cm4gbi50eXBlPT09NDEzNj9uLmJ1ZlF1ZXVlWzBdLmlkOjA7Y2FzZSA0MTA2OnJldHVybiBuLmdhaW4uZ2Fpbi52YWx1ZTtjYXNlIDQxMDk6cmV0dXJuIG4ubWluR2FpbjtjYXNlIDQxMTA6cmV0dXJuIG4ubWF4R2FpbjtjYXNlIDQxMTI6cmV0dXJuIG4uc3RhdGU7Y2FzZSA0MTE3OnJldHVybiBuLmJ1ZlF1ZXVlLmxlbmd0aD09PTEmJm4uYnVmUXVldWVbMF0uaWQ9PT0wPzA6bi5idWZRdWV1ZS5sZW5ndGg7Y2FzZSA0MTE4OnJldHVybiBuLmJ1ZlF1ZXVlLmxlbmd0aD09PTEmJm4uYnVmUXVldWVbMF0uaWQ9PT0wfHxuLmxvb3Bpbmc/MDpuLmJ1ZnNQcm9jZXNzZWQ7Y2FzZSA0MTI4OnJldHVybiBuLnJlZkRpc3RhbmNlO2Nhc2UgNDEyOTpyZXR1cm4gbi5yb2xsb2ZmRmFjdG9yO2Nhc2UgNDEzMDpyZXR1cm4gbi5jb25lT3V0ZXJHYWluO2Nhc2UgNDEzMTpyZXR1cm4gbi5tYXhEaXN0YW5jZTtjYXNlIDQxMzI6cmV0dXJuIHAuc291cmNlVGVsbChuKTtjYXNlIDQxMzM6dmFyIGE9cC5zb3VyY2VUZWxsKG4pO3JldHVybiBhPjAmJihhKj1uLmJ1ZlF1ZXVlWzBdLmZyZXF1ZW5jeSksYTtjYXNlIDQxMzQ6dmFyIGE9cC5zb3VyY2VUZWxsKG4pO3JldHVybiBhPjAmJihhKj1uLmJ1ZlF1ZXVlWzBdLmZyZXF1ZW5jeSpuLmJ1ZlF1ZXVlWzBdLmJ5dGVzUGVyU2FtcGxlKSxhO2Nhc2UgNDEzNTpyZXR1cm4gbi50eXBlO2Nhc2UgNDYyODpyZXR1cm4gbi5zcGF0aWFsaXplO2Nhc2UgODIwMTpmb3IodmFyIG89MCx1PTAsYz0wO2M8bi5idWZRdWV1ZS5sZW5ndGg7YysrKW8rPW4uYnVmUXVldWVbY10ubGVuZ3RoLG4uYnVmUXVldWVbY10uaWQhPT0wJiYodT1uLmJ1ZlF1ZXVlW2NdLmJ5dGVzUGVyU2FtcGxlKm4uYnVmUXVldWVbY10uY2hhbm5lbHMpO3JldHVybiBvKnU7Y2FzZSA4MjAyOmZvcih2YXIgbz0wLGM9MDtjPG4uYnVmUXVldWUubGVuZ3RoO2MrKylvKz1uLmJ1ZlF1ZXVlW2NdLmxlbmd0aDtyZXR1cm4gbztjYXNlIDgyMDM6cmV0dXJuIHAuc291cmNlRHVyYXRpb24obik7Y2FzZSA1MzI0ODpyZXR1cm4gbi5kaXN0YW5jZU1vZGVsO2RlZmF1bHQ6cmV0dXJuIHAuY3VycmVudEN0eC5lcnI9NDA5NjIsbnVsbH19LHNldFNvdXJjZVBhcmFtOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKHAuY3VycmVudEN0eCl7dmFyIGE9cC5jdXJyZW50Q3R4LnNvdXJjZXNbdF07aWYoIWEpe3AuY3VycmVudEN0eC5lcnI9NDA5NjE7cmV0dXJufWlmKG49PT1udWxsKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYyO3JldHVybn1zd2l0Y2gocil7Y2FzZSA1MTQ6aWYobj09PTEpYS5yZWxhdGl2ZT0hMCxwLnVwZGF0ZVNvdXJjZVNwYWNlKGEpO2Vsc2UgaWYobj09PTApYS5yZWxhdGl2ZT0hMSxwLnVwZGF0ZVNvdXJjZVNwYWNlKGEpO2Vsc2V7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YnJlYWs7Y2FzZSA0MDk3OmlmKCFOdW1iZXIuaXNGaW5pdGUobikpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEuY29uZUlubmVyQW5nbGU9bixhLnBhbm5lciYmKGEucGFubmVyLmNvbmVJbm5lckFuZ2xlPW4lMzYwKTticmVhaztjYXNlIDQwOTg6aWYoIU51bWJlci5pc0Zpbml0ZShuKSl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YS5jb25lT3V0ZXJBbmdsZT1uLGEucGFubmVyJiYoYS5wYW5uZXIuY29uZU91dGVyQW5nbGU9biUzNjApO2JyZWFrO2Nhc2UgNDA5OTppZighTnVtYmVyLmlzRmluaXRlKG4pfHxuPD0wKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1pZihhLnBpdGNoPT09bilicmVhazthLnBpdGNoPW4scC51cGRhdGVTb3VyY2VSYXRlKGEpO2JyZWFrO2Nhc2UgNDEwMDppZighTnVtYmVyLmlzRmluaXRlKG5bMF0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMV0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMl0pKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1hLnBvc2l0aW9uWzBdPW5bMF0sYS5wb3NpdGlvblsxXT1uWzFdLGEucG9zaXRpb25bMl09blsyXSxwLnVwZGF0ZVNvdXJjZVNwYWNlKGEpO2JyZWFrO2Nhc2UgNDEwMTppZighTnVtYmVyLmlzRmluaXRlKG5bMF0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMV0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMl0pKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1hLmRpcmVjdGlvblswXT1uWzBdLGEuZGlyZWN0aW9uWzFdPW5bMV0sYS5kaXJlY3Rpb25bMl09blsyXSxwLnVwZGF0ZVNvdXJjZVNwYWNlKGEpO2JyZWFrO2Nhc2UgNDEwMjppZighTnVtYmVyLmlzRmluaXRlKG5bMF0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMV0pfHwhTnVtYmVyLmlzRmluaXRlKG5bMl0pKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1hLnZlbG9jaXR5WzBdPW5bMF0sYS52ZWxvY2l0eVsxXT1uWzFdLGEudmVsb2NpdHlbMl09blsyXSxwLnVwZGF0ZVNvdXJjZVNwYWNlKGEpO2JyZWFrO2Nhc2UgNDEwMzppZihuPT09MSl7aWYoYS5sb29waW5nPSEwLHAudXBkYXRlU291cmNlVGltZShhKSxhLnR5cGU9PT00MTM2JiZhLmF1ZGlvUXVldWUubGVuZ3RoPjApe3ZhciBvPWEuYXVkaW9RdWV1ZVswXTtvLmxvb3A9ITAsby5fZHVyYXRpb249TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfX1lbHNlIGlmKG49PT0wKXthLmxvb3Bpbmc9ITE7dmFyIHU9cC51cGRhdGVTb3VyY2VUaW1lKGEpO2lmKGEudHlwZT09PTQxMzYmJmEuYXVkaW9RdWV1ZS5sZW5ndGg+MCl7dmFyIG89YS5hdWRpb1F1ZXVlWzBdO28ubG9vcD0hMSxvLl9kdXJhdGlvbj1hLmJ1ZlF1ZXVlWzBdLmF1ZGlvQnVmLmR1cmF0aW9uL2EucGxheWJhY2tSYXRlLG8uX3N0YXJ0VGltZT11LWEuYnVmT2Zmc2V0L2EucGxheWJhY2tSYXRlfX1lbHNle3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWJyZWFrO2Nhc2UgNDEwNTppZihhLnN0YXRlPT09NDExNHx8YS5zdGF0ZT09PTQxMTUpe3AuY3VycmVudEN0eC5lcnI9NDA5NjQ7cmV0dXJufWlmKG49PT0wKXtmb3IodmFyIGMgaW4gYS5idWZRdWV1ZSlhLmJ1ZlF1ZXVlW2NdLnJlZkNvdW50LS07YS5idWZRdWV1ZS5sZW5ndGg9MSxhLmJ1ZlF1ZXVlWzBdPXAuYnVmZmVyc1swXSxhLmJ1ZnNQcm9jZXNzZWQ9MCxhLnR5cGU9NDE0NH1lbHNle3ZhciBsPXAuYnVmZmVyc1tuXTtpZighbCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59Zm9yKHZhciBjIGluIGEuYnVmUXVldWUpYS5idWZRdWV1ZVtjXS5yZWZDb3VudC0tO2EuYnVmUXVldWUubGVuZ3RoPTAsbC5yZWZDb3VudCsrLGEuYnVmUXVldWU9W2xdLGEuYnVmc1Byb2Nlc3NlZD0wLGEudHlwZT00MTM2fXAuaW5pdFNvdXJjZVBhbm5lcihhKSxwLnNjaGVkdWxlU291cmNlQXVkaW8oYSk7YnJlYWs7Y2FzZSA0MTA2OmlmKCFOdW1iZXIuaXNGaW5pdGUobil8fG48MCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YS5nYWluLmdhaW4udmFsdWU9bjticmVhaztjYXNlIDQxMDk6aWYoIU51bWJlci5pc0Zpbml0ZShuKXx8bjwwfHxuPk1hdGgubWluKGEubWF4R2FpbiwxKSl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59YS5taW5HYWluPW47YnJlYWs7Y2FzZSA0MTEwOmlmKCFOdW1iZXIuaXNGaW5pdGUobil8fG48TWF0aC5tYXgoMCxhLm1pbkdhaW4pfHxuPjEpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEubWF4R2Fpbj1uO2JyZWFrO2Nhc2UgNDEyODppZighTnVtYmVyLmlzRmluaXRlKG4pfHxuPDApe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEucmVmRGlzdGFuY2U9bixhLnBhbm5lciYmKGEucGFubmVyLnJlZkRpc3RhbmNlPW4pO2JyZWFrO2Nhc2UgNDEyOTppZighTnVtYmVyLmlzRmluaXRlKG4pfHxuPDApe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEucm9sbG9mZkZhY3Rvcj1uLGEucGFubmVyJiYoYS5wYW5uZXIucm9sbG9mZkZhY3Rvcj1uKTticmVhaztjYXNlIDQxMzA6aWYoIU51bWJlci5pc0Zpbml0ZShuKXx8bjwwfHxuPjEpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEuY29uZU91dGVyR2Fpbj1uLGEucGFubmVyJiYoYS5wYW5uZXIuY29uZU91dGVyR2Fpbj1uKTticmVhaztjYXNlIDQxMzE6aWYoIU51bWJlci5pc0Zpbml0ZShuKXx8bjwwKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1hLm1heERpc3RhbmNlPW4sYS5wYW5uZXImJihhLnBhbm5lci5tYXhEaXN0YW5jZT1uKTticmVhaztjYXNlIDQxMzI6aWYobjwwfHxuPnAuc291cmNlRHVyYXRpb24oYSkpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufXAuc291cmNlU2VlayhhLG4pO2JyZWFrO2Nhc2UgNDEzMzp2YXIgRT1wLnNvdXJjZUR1cmF0aW9uKGEpO2lmKEU+MCl7dmFyIGg7Zm9yKHZhciBnIGluIGEuYnVmUXVldWUpaWYoZyl7aD1hLmJ1ZlF1ZXVlW2ddLmZyZXF1ZW5jeTticmVha31uLz1ofWlmKG48MHx8bj5FKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1wLnNvdXJjZVNlZWsoYSxuKTticmVhaztjYXNlIDQxMzQ6dmFyIEU9cC5zb3VyY2VEdXJhdGlvbihhKTtpZihFPjApe3ZhciB5O2Zvcih2YXIgZyBpbiBhLmJ1ZlF1ZXVlKWlmKGcpe3ZhciBsPWEuYnVmUXVldWVbZ107eT1sLmZyZXF1ZW5jeSpsLmJ5dGVzUGVyU2FtcGxlKmwuY2hhbm5lbHM7YnJlYWt9bi89eX1pZihuPDB8fG4+RSl7cC5jdXJyZW50Q3R4LmVycj00MDk2MztyZXR1cm59cC5zb3VyY2VTZWVrKGEsbik7YnJlYWs7Y2FzZSA0NjI4OmlmKG4hPT0wJiZuIT09MSYmbiE9PTIpe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWEuc3BhdGlhbGl6ZT1uLHAuaW5pdFNvdXJjZVBhbm5lcihhKTticmVhaztjYXNlIDgyMDE6Y2FzZSA4MjAyOmNhc2UgODIwMzpwLmN1cnJlbnRDdHguZXJyPTQwOTY0O2JyZWFrO2Nhc2UgNTMyNDg6c3dpdGNoKG4pe2Nhc2UgMDpjYXNlIDUzMjQ5OmNhc2UgNTMyNTA6Y2FzZSA1MzI1MTpjYXNlIDUzMjUyOmNhc2UgNTMyNTM6Y2FzZSA1MzI1NDphLmRpc3RhbmNlTW9kZWw9bixwLmN1cnJlbnRDdHguc291cmNlRGlzdGFuY2VNb2RlbCYmcC51cGRhdGVDb250ZXh0R2xvYmFsKHAuY3VycmVudEN0eCk7YnJlYWs7ZGVmYXVsdDpwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1icmVhaztkZWZhdWx0OnAuY3VycmVudEN0eC5lcnI9NDA5NjI7cmV0dXJufX19LGNhcHR1cmVzOnt9LHNoYXJlZENhcHR1cmVBdWRpb0N0eDpudWxsLHJlcXVpcmVWYWxpZENhcHR1cmVEZXZpY2U6ZnVuY3Rpb24oZSx0KXtpZihlPT09MClyZXR1cm4gcC5hbGNFcnI9NDA5NjEsbnVsbDt2YXIgcj1wLmNhcHR1cmVzW2VdO2lmKCFyKXJldHVybiBwLmFsY0Vycj00MDk2MSxudWxsO3ZhciBuPXIubWVkaWFTdHJlYW1FcnJvcjtyZXR1cm4gbj8ocC5hbGNFcnI9NDA5NjEsbnVsbCk6cn19O2Z1bmN0aW9uIHV1KGUsdCxyLG4sYSl7aWYocC5jdXJyZW50Q3R4KXt2YXIgbz1wLmJ1ZmZlcnNbZV07aWYoIW8pe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufWlmKGE8PTApe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufXZhciB1PW51bGw7dHJ5e3N3aXRjaCh0KXtjYXNlIDQzNTI6aWYobj4wKXt1PXAuY3VycmVudEN0eC5hdWRpb0N0eC5jcmVhdGVCdWZmZXIoMSxuLGEpO2Zvcih2YXIgYz11LmdldENoYW5uZWxEYXRhKDApLGw9MDtsPG47KytsKWNbbF09JFtyKytdKi4wMDc4MTI1LTF9by5ieXRlc1BlclNhbXBsZT0xLG8uY2hhbm5lbHM9MSxvLmxlbmd0aD1uO2JyZWFrO2Nhc2UgNDM1MzppZihuPjApe3U9cC5jdXJyZW50Q3R4LmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlcigxLG4+PjEsYSk7dmFyIGM9dS5nZXRDaGFubmVsRGF0YSgwKTtyPj49MTtmb3IodmFyIGw9MDtsPG4+PjE7KytsKWNbbF09aWVbcisrXSozMDUxNzU3ODEyNWUtMTV9by5ieXRlc1BlclNhbXBsZT0yLG8uY2hhbm5lbHM9MSxvLmxlbmd0aD1uPj4xO2JyZWFrO2Nhc2UgNDM1NDppZihuPjApe3U9cC5jdXJyZW50Q3R4LmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlcigyLG4+PjEsYSk7Zm9yKHZhciBjPXUuZ2V0Q2hhbm5lbERhdGEoMCksaD11LmdldENoYW5uZWxEYXRhKDEpLGw9MDtsPG4+PjE7KytsKWNbbF09JFtyKytdKi4wMDc4MTI1LTEsaFtsXT0kW3IrK10qLjAwNzgxMjUtMX1vLmJ5dGVzUGVyU2FtcGxlPTEsby5jaGFubmVscz0yLG8ubGVuZ3RoPW4+PjE7YnJlYWs7Y2FzZSA0MzU1OmlmKG4+MCl7dT1wLmN1cnJlbnRDdHguYXVkaW9DdHguY3JlYXRlQnVmZmVyKDIsbj4+MixhKTt2YXIgYz11LmdldENoYW5uZWxEYXRhKDApLGg9dS5nZXRDaGFubmVsRGF0YSgxKTtyPj49MTtmb3IodmFyIGw9MDtsPG4+PjI7KytsKWNbbF09aWVbcisrXSozMDUxNzU3ODEyNWUtMTUsaFtsXT1pZVtyKytdKjMwNTE3NTc4MTI1ZS0xNX1vLmJ5dGVzUGVyU2FtcGxlPTIsby5jaGFubmVscz0yLG8ubGVuZ3RoPW4+PjI7YnJlYWs7Y2FzZSA2NTU1MjppZihuPjApe3U9cC5jdXJyZW50Q3R4LmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlcigxLG4+PjIsYSk7dmFyIGM9dS5nZXRDaGFubmVsRGF0YSgwKTtyPj49Mjtmb3IodmFyIGw9MDtsPG4+PjI7KytsKWNbbF09b2VbcisrXX1vLmJ5dGVzUGVyU2FtcGxlPTQsby5jaGFubmVscz0xLG8ubGVuZ3RoPW4+PjI7YnJlYWs7Y2FzZSA2NTU1MzppZihuPjApe3U9cC5jdXJyZW50Q3R4LmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlcigyLG4+PjMsYSk7dmFyIGM9dS5nZXRDaGFubmVsRGF0YSgwKSxoPXUuZ2V0Q2hhbm5lbERhdGEoMSk7cj4+PTI7Zm9yKHZhciBsPTA7bDxuPj4zOysrbCljW2xdPW9lW3IrK10saFtsXT1vZVtyKytdfW8uYnl0ZXNQZXJTYW1wbGU9NCxvLmNoYW5uZWxzPTIsby5sZW5ndGg9bj4+MzticmVhaztkZWZhdWx0OnAuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufW8uZnJlcXVlbmN5PWEsby5hdWRpb0J1Zj11fWNhdGNoe3AuY3VycmVudEN0eC5lcnI9NDA5NjM7cmV0dXJufX19ZnVuY3Rpb24gY3UoZSx0KXtpZihwLmN1cnJlbnRDdHgpe2Zvcih2YXIgcj0wO3I8ZTsrK3Ipe3ZhciBuPV9bdCtyKjQ+PjJdO2lmKG4hPT0wKXtpZighcC5idWZmZXJzW25dKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYxO3JldHVybn1pZihwLmJ1ZmZlcnNbbl0ucmVmQ291bnQpe3AuY3VycmVudEN0eC5lcnI9NDA5NjQ7cmV0dXJufX19Zm9yKHZhciByPTA7cjxlOysrcil7dmFyIG49X1t0K3IqND4+Ml07biE9PTAmJihwLmRldmljZVJlZkNvdW50c1twLmJ1ZmZlcnNbbl0uZGV2aWNlSWRdLS0sZGVsZXRlIHAuYnVmZmVyc1tuXSxwLmZyZWVJZHMucHVzaChuKSl9fX1mdW5jdGlvbiBLbihlLHQscil7c3dpdGNoKHQpe2Nhc2UgNTE0OmNhc2UgNDA5NzpjYXNlIDQwOTg6Y2FzZSA0MTAzOmNhc2UgNDEwNTpjYXNlIDQxMjg6Y2FzZSA0MTI5OmNhc2UgNDEzMTpjYXNlIDQxMzI6Y2FzZSA0MTMzOmNhc2UgNDEzNDpjYXNlIDQ2Mjg6Y2FzZSA4MjAxOmNhc2UgODIwMjpjYXNlIDUzMjQ4OnAuc2V0U291cmNlUGFyYW0oImFsU291cmNlaSIsZSx0LHIpO2JyZWFrO2RlZmF1bHQ6cC5zZXRTb3VyY2VQYXJhbSgiYWxTb3VyY2VpIixlLHQsbnVsbCk7YnJlYWt9fWZ1bmN0aW9uIGx1KGUsdCl7aWYocC5jdXJyZW50Q3R4KXtmb3IodmFyIHI9MDtyPGU7KytyKXt2YXIgbj1fW3Qrcio0Pj4yXTtpZighcC5jdXJyZW50Q3R4LnNvdXJjZXNbbl0pe3AuY3VycmVudEN0eC5lcnI9NDA5NjE7cmV0dXJufX1mb3IodmFyIHI9MDtyPGU7KytyKXt2YXIgbj1fW3Qrcio0Pj4yXTtwLnNldFNvdXJjZVN0YXRlKHAuY3VycmVudEN0eC5zb3VyY2VzW25dLDQxMTYpLEtuKG4sNDEwNSwwKSxkZWxldGUgcC5jdXJyZW50Q3R4LnNvdXJjZXNbbl0scC5mcmVlSWRzLnB1c2gobil9fX1mdW5jdGlvbiBmdShlLHQpe2lmKHAuY3VycmVudEN0eClmb3IodmFyIHI9MDtyPGU7KytyKXt2YXIgbj17ZGV2aWNlSWQ6cC5jdXJyZW50Q3R4LmRldmljZUlkLGlkOnAubmV3SWQoKSxyZWZDb3VudDowLGF1ZGlvQnVmOm51bGwsZnJlcXVlbmN5OjAsYnl0ZXNQZXJTYW1wbGU6MixjaGFubmVsczoxLGxlbmd0aDowfTtwLmRldmljZVJlZkNvdW50c1tuLmRldmljZUlkXSsrLHAuYnVmZmVyc1tuLmlkXT1uLF9bdCtyKjQ+PjJdPW4uaWR9fWZ1bmN0aW9uIGR1KGUsdCl7aWYocC5jdXJyZW50Q3R4KWZvcih2YXIgcj0wO3I8ZTsrK3Ipe3ZhciBuPXAuY3VycmVudEN0eC5hdWRpb0N0eC5jcmVhdGVHYWluKCk7bi5jb25uZWN0KHAuY3VycmVudEN0eC5nYWluKTt2YXIgYT17Y29udGV4dDpwLmN1cnJlbnRDdHgsaWQ6cC5uZXdJZCgpLHR5cGU6NDE0NCxzdGF0ZTo0MTEzLGJ1ZlF1ZXVlOltwLmJ1ZmZlcnNbMF1dLGF1ZGlvUXVldWU6W10sbG9vcGluZzohMSxwaXRjaDoxLGRvcHBsZXJTaGlmdDoxLGdhaW46bixtaW5HYWluOjAsbWF4R2FpbjoxLHBhbm5lcjpudWxsLGJ1ZnNQcm9jZXNzZWQ6MCxidWZTdGFydFRpbWU6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLGJ1Zk9mZnNldDowLHJlbGF0aXZlOiExLHJlZkRpc3RhbmNlOjEsbWF4RGlzdGFuY2U6MzQwMjgyZTMzLHJvbGxvZmZGYWN0b3I6MSxwb3NpdGlvbjpbMCwwLDBdLHZlbG9jaXR5OlswLDAsMF0sZGlyZWN0aW9uOlswLDAsMF0sY29uZU91dGVyR2FpbjowLGNvbmVJbm5lckFuZ2xlOjM2MCxjb25lT3V0ZXJBbmdsZTozNjAsZGlzdGFuY2VNb2RlbDo1MzI1MCxzcGF0aWFsaXplOjIsZ2V0IHBsYXliYWNrUmF0ZSgpe3JldHVybiB0aGlzLnBpdGNoKnRoaXMuZG9wcGxlclNoaWZ0fX07cC5jdXJyZW50Q3R4LnNvdXJjZXNbYS5pZF09YSxfW3Qrcio0Pj4yXT1hLmlkfX1mdW5jdGlvbiBtdSgpe2lmKCFwLmN1cnJlbnRDdHgpcmV0dXJuIDQwOTY0O3ZhciBlPXAuY3VycmVudEN0eC5lcnI7cmV0dXJuIHAuY3VycmVudEN0eC5lcnI9MCxlfWZ1bmN0aW9uIHB1KGUsdCxyKXt2YXIgbj1wLmdldFNvdXJjZVBhcmFtKCJhbEdldFNvdXJjZWkiLGUsdCk7aWYobiE9PW51bGwpe2lmKCFyKXtwLmN1cnJlbnRDdHguZXJyPTQwOTYzO3JldHVybn1zd2l0Y2godCl7Y2FzZSA1MTQ6Y2FzZSA0MDk3OmNhc2UgNDA5ODpjYXNlIDQxMDM6Y2FzZSA0MTA1OmNhc2UgNDExMjpjYXNlIDQxMTc6Y2FzZSA0MTE4OmNhc2UgNDEyODpjYXNlIDQxMjk6Y2FzZSA0MTMxOmNhc2UgNDEzMjpjYXNlIDQxMzM6Y2FzZSA0MTM0OmNhc2UgNDEzNTpjYXNlIDQ2Mjg6Y2FzZSA4MjAxOmNhc2UgODIwMjpjYXNlIDUzMjQ4Ol9bcj4+Ml09bjticmVhaztkZWZhdWx0OnAuY3VycmVudEN0eC5lcnI9NDA5NjI7cmV0dXJufX19ZnVuY3Rpb24gaHUoZSl7aWYocC5zdHJpbmdDYWNoZVtlXSlyZXR1cm4gcC5zdHJpbmdDYWNoZVtlXTt2YXIgdDtzd2l0Y2goZSl7Y2FzZSAwOnQ9Ik5vIEVycm9yIjticmVhaztjYXNlIDQwOTYxOnQ9IkludmFsaWQgTmFtZSI7YnJlYWs7Y2FzZSA0MDk2Mjp0PSJJbnZhbGlkIEVudW0iO2JyZWFrO2Nhc2UgNDA5NjM6dD0iSW52YWxpZCBWYWx1ZSI7YnJlYWs7Y2FzZSA0MDk2NDp0PSJJbnZhbGlkIE9wZXJhdGlvbiI7YnJlYWs7Y2FzZSA0MDk2NTp0PSJPdXQgb2YgTWVtb3J5IjticmVhaztjYXNlIDQ1MDU3OnQ9IkVtc2NyaXB0ZW4iO2JyZWFrO2Nhc2UgNDUwNTg6dD0iMS4xIjticmVhaztjYXNlIDQ1MDU5OnQ9IldlYkF1ZGlvIjticmVhaztjYXNlIDQ1MDYwOnQ9IiI7Zm9yKHZhciByIGluIHAuQUxfRVhURU5TSU9OUyl0PXQuY29uY2F0KHIpLHQ9dC5jb25jYXQoIiAiKTt0PXQudHJpbSgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHAuY3VycmVudEN0eCYmKHAuY3VycmVudEN0eC5lcnI9NDA5NjIpLDB9cmV0dXJuIHQ9QnQodCkscC5zdHJpbmdDYWNoZVtlXT10LHR9ZnVuY3Rpb24gZ3UoZSl7aWYocC5jdXJyZW50Q3R4KXt2YXIgdD1wLmN1cnJlbnRDdHguc291cmNlc1tlXTtpZighdCl7cC5jdXJyZW50Q3R4LmVycj00MDk2MTtyZXR1cm59cC5zZXRTb3VyY2VTdGF0ZSh0LDQxMTUpfX1mdW5jdGlvbiB5dShlKXtpZihwLmN1cnJlbnRDdHgpe3ZhciB0PXAuY3VycmVudEN0eC5zb3VyY2VzW2VdO2lmKCF0KXtwLmN1cnJlbnRDdHguZXJyPTQwOTYxO3JldHVybn1wLnNldFNvdXJjZVN0YXRlKHQsNDExNCl9fWZ1bmN0aW9uIHZ1KGUpe2lmKHAuY3VycmVudEN0eCl7dmFyIHQ9cC5jdXJyZW50Q3R4LnNvdXJjZXNbZV07aWYoIXQpe3AuY3VycmVudEN0eC5lcnI9NDA5NjE7cmV0dXJufXAuc2V0U291cmNlU3RhdGUodCw0MTE2KX19ZnVuY3Rpb24gYnUoZSx0LHIpe3N3aXRjaCh0KXtjYXNlIDQwOTc6Y2FzZSA0MDk4OmNhc2UgNDA5OTpjYXNlIDQxMDY6Y2FzZSA0MTA5OmNhc2UgNDExMDpjYXNlIDQxMjg6Y2FzZSA0MTI5OmNhc2UgNDEzMDpjYXNlIDQxMzE6Y2FzZSA0MTMyOmNhc2UgNDEzMzpjYXNlIDQxMzQ6Y2FzZSA4MjAzOnAuc2V0U291cmNlUGFyYW0oImFsU291cmNlZiIsZSx0LHIpO2JyZWFrO2RlZmF1bHQ6cC5zZXRTb3VyY2VQYXJhbSgiYWxTb3VyY2VmIixlLHQsbnVsbCk7YnJlYWt9fWZ1bmN0aW9uIF91KGUpe3JldHVybiEoZSBpbiBwLmRldmljZVJlZkNvdW50cyl8fHAuZGV2aWNlUmVmQ291bnRzW2VdPjA/MDooZGVsZXRlIHAuZGV2aWNlUmVmQ291bnRzW2VdLHAuZnJlZUlkcy5wdXNoKGUpLDEpfWZ1bmN0aW9uIEV1KGUsdCxyKXtlLmFkZEV2ZW50TGlzdGVuZXIodCxyLHtvbmNlOiEwfSl9ZnVuY3Rpb24gWG4oZSx0KXt0fHwodD1bZG9jdW1lbnQsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIpXSksWyJrZXlkb3duIiwibW91c2Vkb3duIiwidG91Y2hzdGFydCJdLmZvckVhY2goZnVuY3Rpb24ocil7dC5mb3JFYWNoKGZ1bmN0aW9uKG4pe24mJkV1KG4sciwoKT0+e2Uuc3RhdGU9PT0ic3VzcGVuZGVkIiYmZS5yZXN1bWUoKX0pfSl9KX1mdW5jdGlvbiB3dShlLHQpe2lmKCEoZSBpbiBwLmRldmljZVJlZkNvdW50cykpcmV0dXJuIHAuYWxjRXJyPTQwOTYxLDA7dmFyIHI9bnVsbCxuPVtdLGE9bnVsbDtpZih0Pj49Mix0KWZvcih2YXIgbz0wLHU9MDtvPV9bdCsrXSxuLnB1c2gobyksbyE9PTA7KXN3aXRjaCh1PV9bdCsrXSxuLnB1c2godSksbyl7Y2FzZSA0MTAzOnJ8fChyPXt9KSxyLnNhbXBsZVJhdGU9dTticmVhaztjYXNlIDQxMTI6Y2FzZSA0MTEzOmJyZWFrO2Nhc2UgNjU0Njpzd2l0Y2godSl7Y2FzZSAwOmE9ITE7YnJlYWs7Y2FzZSAxOmE9ITA7YnJlYWs7Y2FzZSAyOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIHAuYWxjRXJyPTQwOTY0LDB9YnJlYWs7Y2FzZSA2NTUwOmlmKHUhPT0wKXJldHVybiBwLmFsY0Vycj00MDk2NCwwO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHAuYWxjRXJyPTQwOTY0LDB9dmFyIGM9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCxsPW51bGw7dHJ5e3I/bD1uZXcgYyhyKTpsPW5ldyBjfWNhdGNoKFQpe3JldHVybiBULm5hbWU9PT0iTm90U3VwcG9ydGVkRXJyb3IiP3AuYWxjRXJyPTQwOTY0OnAuYWxjRXJyPTQwOTYxLDB9WG4obCksdHlwZW9mIGwuY3JlYXRlR2Fpbj4idSImJihsLmNyZWF0ZUdhaW49bC5jcmVhdGVHYWluTm9kZSk7dmFyIGg9bC5jcmVhdGVHYWluKCk7aC5jb25uZWN0KGwuZGVzdGluYXRpb24pO3ZhciBnPXtkZXZpY2VJZDplLGlkOnAubmV3SWQoKSxhdHRyczpuLGF1ZGlvQ3R4OmwsbGlzdGVuZXI6e3Bvc2l0aW9uOlswLDAsMF0sdmVsb2NpdHk6WzAsMCwwXSxkaXJlY3Rpb246WzAsMCwwXSx1cDpbMCwwLDBdfSxzb3VyY2VzOltdLGludGVydmFsOnNldEludGVydmFsKGZ1bmN0aW9uKCl7cC5zY2hlZHVsZUNvbnRleHRBdWRpbyhnKX0scC5RVUVVRV9JTlRFUlZBTCksZ2FpbjpoLGRpc3RhbmNlTW9kZWw6NTMyNTAsc3BlZWRPZlNvdW5kOjM0My4zLGRvcHBsZXJGYWN0b3I6MSxzb3VyY2VEaXN0YW5jZU1vZGVsOiExLGhydGY6YXx8ITEsX2VycjowLGdldCBlcnIoKXtyZXR1cm4gdGhpcy5fZXJyfSxzZXQgZXJyKFQpeyh0aGlzLl9lcnI9PT0wfHxUPT09MCkmJih0aGlzLl9lcnI9VCl9fTtpZihwLmRldmljZVJlZkNvdW50c1tlXSsrLHAuY29udGV4dHNbZy5pZF09ZyxhIT09bnVsbClmb3IodmFyIEUgaW4gcC5jb250ZXh0cyl7dmFyIHk9cC5jb250ZXh0c1tFXTt5LmRldmljZUlkPT09ZSYmKHkuaHJ0Zj1hLHAudXBkYXRlQ29udGV4dEdsb2JhbCh5KSl9cmV0dXJuIGcuaWR9ZnVuY3Rpb24geHUoZSl7dmFyIHQ9cC5jb250ZXh0c1tlXTtpZihwLmN1cnJlbnRDdHg9PT10KXtwLmFsY0Vycj00MDk2MjtyZXR1cm59cC5jb250ZXh0c1tlXS5pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbChwLmNvbnRleHRzW2VdLmludGVydmFsKSxwLmRldmljZVJlZkNvdW50c1t0LmRldmljZUlkXS0tLGRlbGV0ZSBwLmNvbnRleHRzW2VdLHAuZnJlZUlkcy5wdXNoKGUpfWZ1bmN0aW9uIFN1KGUpe3ZhciB0PXAuYWxjRXJyO3JldHVybiBwLmFsY0Vycj0wLHR9ZnVuY3Rpb24gVHUoZSx0KXtpZihwLmFsY1N0cmluZ0NhY2hlW3RdKXJldHVybiBwLmFsY1N0cmluZ0NhY2hlW3RdO3ZhciByO3N3aXRjaCh0KXtjYXNlIDA6cj0iTm8gRXJyb3IiO2JyZWFrO2Nhc2UgNDA5NjE6cj0iSW52YWxpZCBEZXZpY2UiO2JyZWFrO2Nhc2UgNDA5NjI6cj0iSW52YWxpZCBDb250ZXh0IjticmVhaztjYXNlIDQwOTYzOnI9IkludmFsaWQgRW51bSI7YnJlYWs7Y2FzZSA0MDk2NDpyPSJJbnZhbGlkIFZhbHVlIjticmVhaztjYXNlIDQwOTY1OnI9Ik91dCBvZiBNZW1vcnkiO2JyZWFrO2Nhc2UgNDEwMDppZih0eXBlb2YgQXVkaW9Db250ZXh0PCJ1Inx8dHlwZW9mIHdlYmtpdEF1ZGlvQ29udGV4dDwidSIpcj1wLkRFVklDRV9OQU1FO2Vsc2UgcmV0dXJuIDA7YnJlYWs7Y2FzZSA0MTAxOnR5cGVvZiBBdWRpb0NvbnRleHQ8InUifHx0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0PCJ1Ij9yPXAuREVWSUNFX05BTUUuY29uY2F0KCJcMCIpOnI9IlwwIjticmVhaztjYXNlIDc4NTpyPXAuQ0FQVFVSRV9ERVZJQ0VfTkFNRTticmVhaztjYXNlIDc4NDppZihlPT09MClyPXAuQ0FQVFVSRV9ERVZJQ0VfTkFNRS5jb25jYXQoIlwwIik7ZWxzZXt2YXIgbj1wLnJlcXVpcmVWYWxpZENhcHR1cmVEZXZpY2UoZSwiYWxjR2V0U3RyaW5nIik7aWYoIW4pcmV0dXJuIDA7cj1uLmRldmljZU5hbWV9YnJlYWs7Y2FzZSA0MTAyOmlmKCFlKXJldHVybiBwLmFsY0Vycj00MDk2MSwwO3I9IiI7Zm9yKHZhciBhIGluIHAuQUxDX0VYVEVOU0lPTlMpcj1yLmNvbmNhdChhKSxyPXIuY29uY2F0KCIgIik7cj1yLnRyaW0oKTticmVhaztkZWZhdWx0OnJldHVybiBwLmFsY0Vycj00MDk2MywwfXJldHVybiByPUJ0KHIpLHAuYWxjU3RyaW5nQ2FjaGVbdF09cixyfWZ1bmN0aW9uIEN1KGUpe3JldHVybiBlPT09MD9wLmN1cnJlbnRDdHg9bnVsbDpwLmN1cnJlbnRDdHg9cC5jb250ZXh0c1tlXSwxfWZ1bmN0aW9uIGt1KGUpe2lmKGUpe3ZhciB0PWdlKGUpO2lmKHQhPT1wLkRFVklDRV9OQU1FKXJldHVybiAwfWlmKHR5cGVvZiBBdWRpb0NvbnRleHQ8InUifHx0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0PCJ1Iil7dmFyIHI9cC5uZXdJZCgpO3JldHVybiBwLmRldmljZVJlZkNvdW50c1tyXT0wLHJ9cmV0dXJuIDB9ZnVuY3Rpb24gUHUoKXtyZXR1cm4gRGF0ZS5ub3coKX1mdW5jdGlvbiBZbigpe3JldHVybiAyMTQ3NDgzNjQ4fWZ1bmN0aW9uIER1KCl7cmV0dXJuIFluKCl9ZnVuY3Rpb24gRnUoZSx0LHIpeyQuY29weVdpdGhpbihlLHQsdCtyKX1mdW5jdGlvbiBNdShlKXt0cnl7cmV0dXJuIEllLmdyb3coZS1TdC5ieXRlTGVuZ3RoKzY1NTM1Pj4+MTYpLGhuKEllLmJ1ZmZlciksMX1jYXRjaHt9fWZ1bmN0aW9uIEx1KGUpe3ZhciB0PSQubGVuZ3RoO2U9ZT4+PjA7dmFyIHI9WW4oKTtpZihlPnIpcmV0dXJuITE7bGV0IG49KGwsaCk9PmwrKGgtbCVoKSVoO2Zvcih2YXIgYT0xO2E8PTQ7YSo9Mil7dmFyIG89dCooMSsuMi9hKTtvPU1hdGgubWluKG8sZSsxMDA2NjMyOTYpO3ZhciB1PU1hdGgubWluKHIsbihNYXRoLm1heChlLG8pLDY1NTM2KSksYz1NdSh1KTtpZihjKXJldHVybiEwfXJldHVybiExfXZhciBQcj17fTtmdW5jdGlvbiBSdSgpe3JldHVybiBQfHwiLi90aGlzLnByb2dyYW0ifWZ1bmN0aW9uIGh0KCl7aWYoIWh0LnN0cmluZ3Mpe3ZhciBlPSh0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLHQ9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzplLF86UnUoKX07Zm9yKHZhciByIGluIFByKVByW3JdPT09dm9pZCAwP2RlbGV0ZSB0W3JdOnRbcl09UHJbcl07dmFyIG49W107Zm9yKHZhciByIGluIHQpbi5wdXNoKHIrIj0iK3Rbcl0pO2h0LnN0cmluZ3M9bn1yZXR1cm4gaHQuc3RyaW5nc31mdW5jdGlvbiBBdShlLHQscil7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pSlt0Kys+PjBdPWUuY2hhckNvZGVBdChuKTtyfHwoSlt0Pj4wXT0wKX1mdW5jdGlvbiBqdShlLHQpe3ZhciByPTA7cmV0dXJuIGh0KCkuZm9yRWFjaChmdW5jdGlvbihuLGEpe3ZhciBvPXQrcjtCW2UrYSo0Pj4yXT1vLEF1KG4sbykscis9bi5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gSXUoZSx0KXt2YXIgcj1odCgpO0JbZT4+Ml09ci5sZW5ndGg7dmFyIG49MDtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKGEpe24rPWEubGVuZ3RoKzF9KSxCW3Q+PjJdPW4sMH1mdW5jdGlvbiBOdShlKXt0cnl7dmFyIHQ9Vi5nZXRTdHJlYW1Gcm9tRkQoZSk7cmV0dXJuIHMuY2xvc2UodCksMH1jYXRjaChyKXtpZih0eXBlb2Ygcz4idSJ8fCEociBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgcjtyZXR1cm4gci5lcnJub319ZnVuY3Rpb24gT3UoZSx0KXt0cnl7dmFyIHI9Vi5nZXRTdHJlYW1Gcm9tRkQoZSksbj1yLnR0eT8yOnMuaXNEaXIoci5tb2RlKT8zOnMuaXNMaW5rKHIubW9kZSk/Nzo0O3JldHVybiBKW3Q+PjBdPW4sMH1jYXRjaChhKXtpZih0eXBlb2Ygcz4idSJ8fCEoYSBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgYTtyZXR1cm4gYS5lcnJub319ZnVuY3Rpb24gQnUoZSx0LHIsbil7Zm9yKHZhciBhPTAsbz0wO288cjtvKyspe3ZhciB1PUJbdD4+Ml0sYz1CW3QrND4+Ml07dCs9ODt2YXIgbD1zLnJlYWQoZSxKLHUsYyxuKTtpZihsPDApcmV0dXJuLTE7aWYoYSs9bCxsPGMpYnJlYWt9cmV0dXJuIGF9ZnVuY3Rpb24genUoZSx0LHIsbil7dHJ5e3ZhciBhPVYuZ2V0U3RyZWFtRnJvbUZEKGUpLG89QnUoYSx0LHIpO3JldHVybiBCW24+PjJdPW8sMH1jYXRjaCh1KXtpZih0eXBlb2Ygcz4idSJ8fCEodSBpbnN0YW5jZW9mIHMuRXJybm9FcnJvcikpdGhyb3cgdTtyZXR1cm4gdS5lcnJub319ZnVuY3Rpb24gVnUoZSx0LHIsbixhKXt0cnl7dmFyIG89VG4odCxyKTtpZihpc05hTihvKSlyZXR1cm4gNjE7dmFyIHU9Vi5nZXRTdHJlYW1Gcm9tRkQoZSk7cmV0dXJuIHMubGxzZWVrKHUsbyxuKSxxPVt1LnBvc2l0aW9uPj4+MCwoej11LnBvc2l0aW9uLCtNYXRoLmFicyh6KT49MT96PjA/KE1hdGgubWluKCtNYXRoLmZsb29yKHovNDI5NDk2NzI5NiksNDI5NDk2NzI5NSl8MCk+Pj4wOn5+K01hdGguY2VpbCgoei0rKH5+ej4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCldLF9bYT4+Ml09cVswXSxfW2ErND4+Ml09cVsxXSx1LmdldGRlbnRzJiZvPT09MCYmbj09PTAmJih1LmdldGRlbnRzPW51bGwpLDB9Y2F0Y2goYyl7aWYodHlwZW9mIHM+InUifHwhKGMgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IGM7cmV0dXJuIGMuZXJybm99fWZ1bmN0aW9uIFd1KGUpe3RyeXt2YXIgdD1WLmdldFN0cmVhbUZyb21GRChlKTtyZXR1cm4gdC5zdHJlYW1fb3BzJiZ0LnN0cmVhbV9vcHMuZnN5bmM/dC5zdHJlYW1fb3BzLmZzeW5jKHQpOjB9Y2F0Y2gocil7aWYodHlwZW9mIHM+InUifHwhKHIgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IHI7cmV0dXJuIHIuZXJybm99fWZ1bmN0aW9uIFV1KGUsdCxyLG4pe2Zvcih2YXIgYT0wLG89MDtvPHI7bysrKXt2YXIgdT1CW3Q+PjJdLGM9Qlt0KzQ+PjJdO3QrPTg7dmFyIGw9cy53cml0ZShlLEosdSxjLG4pO2lmKGw8MClyZXR1cm4tMTthKz1sfXJldHVybiBhfWZ1bmN0aW9uIEd1KGUsdCxyLG4pe3RyeXt2YXIgYT1WLmdldFN0cmVhbUZyb21GRChlKSxvPVV1KGEsdCxyKTtyZXR1cm4gQltuPj4yXT1vLDB9Y2F0Y2godSl7aWYodHlwZW9mIHM+InUifHwhKHUgaW5zdGFuY2VvZiBzLkVycm5vRXJyb3IpKXRocm93IHU7cmV0dXJuIHUuZXJybm99fWZ1bmN0aW9uIFZ0KGUpe2Zvcih2YXIgdD1lLnNwbGl0KCIuIikscj0wO3I8NDtyKyspe3ZhciBuPU51bWJlcih0W3JdKTtpZihpc05hTihuKSlyZXR1cm4gbnVsbDt0W3JdPW59cmV0dXJuKHRbMF18dFsxXTw8OHx0WzJdPDwxNnx0WzNdPDwyNCk+Pj4wfWZ1bmN0aW9uIGd0KGUpe3JldHVybiBwYXJzZUludChlKX1mdW5jdGlvbiBEcihlKXt2YXIgdCxyLG4sYSxvPS9eKCg/PS4qOjopKD8hLio6Oi4rOjopKDo6KT8oW1xkQS1GXXsxLDR9Oig6fFxiKXwpezV9fChbXGRBLUZdezEsNH06KXs2fSkoKChbXGRBLUZdezEsNH0oKD8hXDMpOjp8OlxifCQpKXwoPyFcMlwzKSl7Mn18KCgoMlswLTRdfDFcZHxbMS05XSk/XGR8MjVbMC01XSlcLj9cYil7NH0pJC9pLHU9W107aWYoIW8udGVzdChlKSlyZXR1cm4gbnVsbDtpZihlPT09Ijo6IilyZXR1cm5bMCwwLDAsMCwwLDAsMCwwXTtmb3IoZS5zdGFydHNXaXRoKCI6OiIpP2U9ZS5yZXBsYWNlKCI6OiIsIlo6Iik6ZT1lLnJlcGxhY2UoIjo6IiwiOlo6IiksZS5pbmRleE9mKCIuIik+MD8oZT1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiWy5dIiwiZyIpLCI6IiksdD1lLnNwbGl0KCI6IiksdFt0Lmxlbmd0aC00XT1ndCh0W3QubGVuZ3RoLTRdKStndCh0W3QubGVuZ3RoLTNdKSoyNTYsdFt0Lmxlbmd0aC0zXT1ndCh0W3QubGVuZ3RoLTJdKStndCh0W3QubGVuZ3RoLTFdKSoyNTYsdD10LnNsaWNlKDAsdC5sZW5ndGgtMikpOnQ9ZS5zcGxpdCgiOiIpLG49MCxhPTAscj0wO3I8dC5sZW5ndGg7cisrKWlmKHR5cGVvZiB0W3JdPT0ic3RyaW5nIilpZih0W3JdPT09IloiKXtmb3IoYT0wO2E8OC10Lmxlbmd0aCsxO2ErKyl1W3IrYV09MDtuPWEtMX1lbHNlIHVbcituXT1YdChwYXJzZUludCh0W3JdLDE2KSk7ZWxzZSB1W3Irbl09dFtyXTtyZXR1cm5bdVsxXTw8MTZ8dVswXSx1WzNdPDwxNnx1WzJdLHVbNV08PDE2fHVbNF0sdVs3XTw8MTZ8dVs2XV19dmFyIGtlPXthZGRyZXNzX21hcDp7aWQ6MSxhZGRyczp7fSxuYW1lczp7fX0sbG9va3VwX25hbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9VnQoZSk7aWYodCE9PW51bGx8fCh0PURyKGUpLHQhPT1udWxsKSlyZXR1cm4gZTt2YXIgcjtpZihrZS5hZGRyZXNzX21hcC5hZGRyc1tlXSlyPWtlLmFkZHJlc3NfbWFwLmFkZHJzW2VdO2Vsc2V7dmFyIG49a2UuYWRkcmVzc19tYXAuaWQrKzt0ZShuPDY1NTM1LCJleGNlZWRlZCBtYXggYWRkcmVzcyBtYXBwaW5ncyBvZiA2NTUzNSIpLHI9IjE3Mi4yOS4iKyhuJjI1NSkrIi4iKyhuJjY1MjgwKSxrZS5hZGRyZXNzX21hcC5uYW1lc1tyXT1lLGtlLmFkZHJlc3NfbWFwLmFkZHJzW2VdPXJ9cmV0dXJuIHJ9LGxvb2t1cF9hZGRyOmZ1bmN0aW9uKGUpe3JldHVybiBrZS5hZGRyZXNzX21hcC5uYW1lc1tlXT9rZS5hZGRyZXNzX21hcC5uYW1lc1tlXTpudWxsfX07ZnVuY3Rpb24gWm4oZSl7cmV0dXJuKGUmMjU1KSsiLiIrKGU+PjgmMjU1KSsiLiIrKGU+PjE2JjI1NSkrIi4iKyhlPj4yNCYyNTUpfWZ1bmN0aW9uIEt1KGUpe3ZhciB0PSIiLHI9MCxuPTAsYT0wLG89MCx1PTAsYz0wLGw9W2VbMF0mNjU1MzUsZVswXT4+MTYsZVsxXSY2NTUzNSxlWzFdPj4xNixlWzJdJjY1NTM1LGVbMl0+PjE2LGVbM10mNjU1MzUsZVszXT4+MTZdLGg9ITAsZz0iIjtmb3IoYz0wO2M8NTtjKyspaWYobFtjXSE9PTApe2g9ITE7YnJlYWt9aWYoaCl7aWYoZz1abihsWzZdfGxbN108PDE2KSxsWzVdPT09LTEpcmV0dXJuIHQ9Ijo6ZmZmZjoiLHQrPWcsdDtpZihsWzVdPT09MClyZXR1cm4gdD0iOjoiLGc9PT0iMC4wLjAuMCImJihnPSIiKSxnPT09IjAuMC4wLjEiJiYoZz0iMSIpLHQrPWcsdH1mb3Iocj0wO3I8ODtyKyspbFtyXT09PTAmJihyLWE+MSYmKHU9MCksYT1yLHUrKyksdT5uJiYobj11LG89ci1uKzEpO2ZvcihyPTA7cjw4O3IrKyl7aWYobj4xJiZsW3JdPT09MCYmcj49byYmcjxvK24pe3I9PT1vJiYodCs9IjoiLG89PT0wJiYodCs9IjoiKSk7Y29udGludWV9dCs9TnVtYmVyKGFhKGxbcl0mNjU1MzUpKS50b1N0cmluZygxNiksdCs9cjw3PyI6IjoiIn1yZXR1cm4gdH1mdW5jdGlvbiBYdShlLHQscixuLGEpe3N3aXRjaCh0KXtjYXNlIDI6cj1WdChyKSxtcihlLDE2KSxhJiYoX1thPj4yXT0xNiksaWVbZT4+MV09dCxfW2UrND4+Ml09cixpZVtlKzI+PjFdPVh0KG4pO2JyZWFrO2Nhc2UgMTA6cj1EcihyKSxtcihlLDI4KSxhJiYoX1thPj4yXT0yOCksX1tlPj4yXT10LF9bZSs4Pj4yXT1yWzBdLF9bZSsxMj4+Ml09clsxXSxfW2UrMTY+PjJdPXJbMl0sX1tlKzIwPj4yXT1yWzNdLGllW2UrMj4+MV09WHQobik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gNX1yZXR1cm4gMH1mdW5jdGlvbiBZdShlLHQscixuKXt2YXIgYT0wLG89MCx1PTAsYz0wLGw9MCxoPTAsZztmdW5jdGlvbiBFKHksVCxGLFIsaixJKXt2YXIgeCxELE4sVTtyZXR1cm4gRD15PT09MTA/Mjg6MTYsaj15PT09MTA/S3Uoaik6Wm4oaikseD1GZShEKSxVPVh1KHgseSxqLEkpLHRlKCFVKSxOPUZlKDMyKSxfW04rND4+Ml09eSxfW04rOD4+Ml09VCxfW04rMTI+PjJdPUYsX1tOKzI0Pj4yXT1SLEJbTisyMD4+Ml09eCx5PT09MTA/X1tOKzE2Pj4yXT0yODpfW04rMTY+PjJdPTE2LF9bTisyOD4+Ml09MCxOfWlmKHImJih1PV9bcj4+Ml0sYz1fW3IrND4+Ml0sbD1fW3IrOD4+Ml0saD1fW3IrMTI+PjJdKSxsJiYhaCYmKGg9bD09PTI/MTc6NiksIWwmJmgmJihsPWg9PT0xNz8yOjEpLGg9PT0wJiYoaD02KSxsPT09MCYmKGw9MSksIWUmJiF0KXJldHVybi0yO2lmKHUmLTEwODh8fHIhPT0wJiZfW3I+PjJdJjImJiFlKXJldHVybi0xO2lmKHUmMzIpcmV0dXJuLTI7aWYobCE9PTAmJmwhPT0xJiZsIT09MilyZXR1cm4tNztpZihjIT09MCYmYyE9PTImJmMhPT0xMClyZXR1cm4tNjtpZih0JiYodD1nZSh0KSxvPXBhcnNlSW50KHQsMTApLGlzTmFOKG8pKSlyZXR1cm4gdSYxMDI0Py0yOi04O2lmKCFlKXJldHVybiBjPT09MCYmKGM9MiksKHUmMSk9PT0wJiYoYz09PTI/YT1LdCgyMTMwNzA2NDMzKTphPVswLDAsMCwxXSksZz1FKGMsbCxoLG51bGwsYSxvKSxCW24+PjJdPWcsMDtpZihlPWdlKGUpLGE9VnQoZSksYSE9PW51bGwpaWYoYz09PTB8fGM9PT0yKWM9MjtlbHNlIGlmKGM9PT0xMCYmdSY4KWE9WzAsMCxLdCg2NTUzNSksYV0sYz0xMDtlbHNlIHJldHVybi0yO2Vsc2UgaWYoYT1EcihlKSxhIT09bnVsbClpZihjPT09MHx8Yz09PTEwKWM9MTA7ZWxzZSByZXR1cm4tMjtyZXR1cm4gYSE9bnVsbD8oZz1FKGMsbCxoLGUsYSxvKSxCW24+PjJdPWcsMCk6dSY0Py0yOihlPWtlLmxvb2t1cF9uYW1lKGUpLGE9VnQoZSksYz09PTA/Yz0yOmM9PT0xMCYmKGE9WzAsMCxLdCg2NTUzNSksYV0pLGc9RShjLGwsaCxudWxsLGEsbyksQltuPj4yXT1nLDApfWZ1bmN0aW9uIFd0KGUsdCl7V3QucmFuZG9tRGV2aWNlfHwoV3QucmFuZG9tRGV2aWNlPXhuKCkpO2Zvcih2YXIgcj0wO3I8dDtyKyspSltlK3I+PjBdPVd0LnJhbmRvbURldmljZSgpO3JldHVybiAwfWZ1bmN0aW9uIFp1KGUpe3ZhciB0PWUuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7aWYodClyZXR1cm4gZS52ZXJ0ZXhBdHRyaWJEaXZpc29yPWZ1bmN0aW9uKHIsbil7dC52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUocixuKX0sZS5kcmF3QXJyYXlzSW5zdGFuY2VkPWZ1bmN0aW9uKHIsbixhLG8pe3QuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFKHIsbixhLG8pfSxlLmRyYXdFbGVtZW50c0luc3RhbmNlZD1mdW5jdGlvbihyLG4sYSxvLHUpe3QuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUocixuLGEsbyx1KX0sMX1mdW5jdGlvbiBIdShlKXt2YXIgdD1lLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtpZih0KXJldHVybiBlLmNyZWF0ZVZlcnRleEFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY3JlYXRlVmVydGV4QXJyYXlPRVMoKX0sZS5kZWxldGVWZXJ0ZXhBcnJheT1mdW5jdGlvbihyKXt0LmRlbGV0ZVZlcnRleEFycmF5T0VTKHIpfSxlLmJpbmRWZXJ0ZXhBcnJheT1mdW5jdGlvbihyKXt0LmJpbmRWZXJ0ZXhBcnJheU9FUyhyKX0sZS5pc1ZlcnRleEFycmF5PWZ1bmN0aW9uKHIpe3JldHVybiB0LmlzVmVydGV4QXJyYXlPRVMocil9LDF9ZnVuY3Rpb24gJHUoZSl7dmFyIHQ9ZS5nZXRFeHRlbnNpb24oIldFQkdMX2RyYXdfYnVmZmVycyIpO2lmKHQpcmV0dXJuIGUuZHJhd0J1ZmZlcnM9ZnVuY3Rpb24ocixuKXt0LmRyYXdCdWZmZXJzV0VCR0wocixuKX0sMX1mdW5jdGlvbiBRdShlKXtyZXR1cm4hIShlLmRpYnZiaT1lLmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19pbnN0YW5jZWRfYmFzZV92ZXJ0ZXhfYmFzZV9pbnN0YW5jZSIpKX1mdW5jdGlvbiBKdShlKXtyZXR1cm4hIShlLm1kaWJ2Ymk9ZS5nZXRFeHRlbnNpb24oIldFQkdMX211bHRpX2RyYXdfaW5zdGFuY2VkX2Jhc2VfdmVydGV4X2Jhc2VfaW5zdGFuY2UiKSl9ZnVuY3Rpb24gcXUoZSl7cmV0dXJuISEoZS5tdWx0aURyYXdXZWJnbD1lLmdldEV4dGVuc2lvbigiV0VCR0xfbXVsdGlfZHJhdyIpKX12YXIgQz17Y291bnRlcjoxLGJ1ZmZlcnM6W10scHJvZ3JhbXM6W10sZnJhbWVidWZmZXJzOltdLHJlbmRlcmJ1ZmZlcnM6W10sdGV4dHVyZXM6W10sc2hhZGVyczpbXSx2YW9zOltdLGNvbnRleHRzOltdLG9mZnNjcmVlbkNhbnZhc2VzOnt9LHF1ZXJpZXM6W10sc2FtcGxlcnM6W10sdHJhbnNmb3JtRmVlZGJhY2tzOltdLHN5bmNzOltdLHN0cmluZ0NhY2hlOnt9LHN0cmluZ2lDYWNoZTp7fSx1bnBhY2tBbGlnbm1lbnQ6NCxyZWNvcmRFcnJvcjpmdW5jdGlvbihlKXtDLmxhc3RFcnJvcnx8KEMubGFzdEVycm9yPWUpfSxnZXROZXdJZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9Qy5jb3VudGVyKysscj1lLmxlbmd0aDtyPHQ7cisrKWVbcl09bnVsbDtyZXR1cm4gdH0sZ2V0U291cmNlOmZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT0iIixvPTA7bzx0Oysrbyl7dmFyIHU9bj9fW24rbyo0Pj4yXTotMTthKz1nZShfW3Irbyo0Pj4yXSx1PDA/dm9pZCAwOnUpfXJldHVybiBhfSxjcmVhdGVDb250ZXh0OmZ1bmN0aW9uKGUsdCl7aWYoIWUuZ2V0Q29udGV4dFNhZmFyaVdlYkdMMkZpeGVkKXtsZXQgYT1mdW5jdGlvbihvLHUpe3ZhciBjPWUuZ2V0Q29udGV4dFNhZmFyaVdlYkdMMkZpeGVkKG8sdSk7cmV0dXJuIG89PSJ3ZWJnbCI9PWMgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ/YzpudWxsfTtlLmdldENvbnRleHRTYWZhcmlXZWJHTDJGaXhlZD1lLmdldENvbnRleHQsZS5nZXRDb250ZXh0PWF9dmFyIHI9dC5tYWpvclZlcnNpb24+MT9lLmdldENvbnRleHQoIndlYmdsMiIsdCk6ZS5nZXRDb250ZXh0KCJ3ZWJnbCIsdCk7aWYoIXIpcmV0dXJuIDA7dmFyIG49Qy5yZWdpc3RlckNvbnRleHQocix0KTtyZXR1cm4gbn0scmVnaXN0ZXJDb250ZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Qy5nZXROZXdJZChDLmNvbnRleHRzKSxuPXtoYW5kbGU6cixhdHRyaWJ1dGVzOnQsdmVyc2lvbjp0Lm1ham9yVmVyc2lvbixHTGN0eDplfTtyZXR1cm4gZS5jYW52YXMmJihlLmNhbnZhcy5HTGN0eE9iamVjdD1uKSxDLmNvbnRleHRzW3JdPW4sKHR5cGVvZiB0LmVuYWJsZUV4dGVuc2lvbnNCeURlZmF1bHQ+InUifHx0LmVuYWJsZUV4dGVuc2lvbnNCeURlZmF1bHQpJiZDLmluaXRFeHRlbnNpb25zKG4pLHJ9LG1ha2VDb250ZXh0Q3VycmVudDpmdW5jdGlvbihlKXtyZXR1cm4gQy5jdXJyZW50Q29udGV4dD1DLmNvbnRleHRzW2VdLGkuY3R4PXc9Qy5jdXJyZW50Q29udGV4dCYmQy5jdXJyZW50Q29udGV4dC5HTGN0eCwhKGUmJiF3KX0sZ2V0Q29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gQy5jb250ZXh0c1tlXX0sZGVsZXRlQ29udGV4dDpmdW5jdGlvbihlKXtDLmN1cnJlbnRDb250ZXh0PT09Qy5jb250ZXh0c1tlXSYmKEMuY3VycmVudENvbnRleHQ9bnVsbCksdHlwZW9mIEpTRXZlbnRzPT0ib2JqZWN0IiYmSlNFdmVudHMucmVtb3ZlQWxsSGFuZGxlcnNPblRhcmdldChDLmNvbnRleHRzW2VdLkdMY3R4LmNhbnZhcyksQy5jb250ZXh0c1tlXSYmQy5jb250ZXh0c1tlXS5HTGN0eC5jYW52YXMmJihDLmNvbnRleHRzW2VdLkdMY3R4LmNhbnZhcy5HTGN0eE9iamVjdD12b2lkIDApLEMuY29udGV4dHNbZV09bnVsbH0saW5pdEV4dGVuc2lvbnM6ZnVuY3Rpb24oZSl7aWYoZXx8KGU9Qy5jdXJyZW50Q29udGV4dCksIWUuaW5pdEV4dGVuc2lvbnNEb25lKXtlLmluaXRFeHRlbnNpb25zRG9uZT0hMDt2YXIgdD1lLkdMY3R4O1p1KHQpLEh1KHQpLCR1KHQpLFF1KHQpLEp1KHQpLGUudmVyc2lvbj49MiYmKHQuZGlzam9pbnRUaW1lclF1ZXJ5RXh0PXQuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIikpLChlLnZlcnNpb248Mnx8IXQuZGlzam9pbnRUaW1lclF1ZXJ5RXh0KSYmKHQuZGlzam9pbnRUaW1lclF1ZXJ5RXh0PXQuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSkscXUodCk7dmFyIHI9dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCl8fFtdO3IuZm9yRWFjaChmdW5jdGlvbihuKXshbi5pbmNsdWRlcygibG9zZV9jb250ZXh0IikmJiFuLmluY2x1ZGVzKCJkZWJ1ZyIpJiZ0LmdldEV4dGVuc2lvbihuKX0pfX19O2Z1bmN0aW9uIGVjKGUpe3cuYWN0aXZlVGV4dHVyZShlKX1mdW5jdGlvbiB0YyhlLHQpe3cuYXR0YWNoU2hhZGVyKEMucHJvZ3JhbXNbZV0sQy5zaGFkZXJzW3RdKX1mdW5jdGlvbiByYyhlLHQpe2U9PTM1MDUxP3cuY3VycmVudFBpeGVsUGFja0J1ZmZlckJpbmRpbmc9dDplPT0zNTA1MiYmKHcuY3VycmVudFBpeGVsVW5wYWNrQnVmZmVyQmluZGluZz10KSx3LmJpbmRCdWZmZXIoZSxDLmJ1ZmZlcnNbdF0pfWZ1bmN0aW9uIG5jKGUsdCxyLG4sYSl7dy5iaW5kQnVmZmVyUmFuZ2UoZSx0LEMuYnVmZmVyc1tyXSxuLGEpfWZ1bmN0aW9uIGFjKGUsdCl7dy5iaW5kRnJhbWVidWZmZXIoZSxDLmZyYW1lYnVmZmVyc1t0XSl9ZnVuY3Rpb24gaWMoZSx0KXt3LmJpbmRSZW5kZXJidWZmZXIoZSxDLnJlbmRlcmJ1ZmZlcnNbdF0pfWZ1bmN0aW9uIG9jKGUsdCl7dy5iaW5kVGV4dHVyZShlLEMudGV4dHVyZXNbdF0pfWZ1bmN0aW9uIHNjKGUpe3cuYmluZFZlcnRleEFycmF5KEMudmFvc1tlXSl9ZnVuY3Rpb24gdWMoZSl7dy5ibGVuZEVxdWF0aW9uKGUpfWZ1bmN0aW9uIGNjKGUsdCl7dy5ibGVuZEZ1bmMoZSx0KX1mdW5jdGlvbiBsYyhlLHQscixuKXt3LmJsZW5kRnVuY1NlcGFyYXRlKGUsdCxyLG4pfWZ1bmN0aW9uIGZjKGUsdCxyLG4sYSxvLHUsYyxsLGgpe3cuYmxpdEZyYW1lYnVmZmVyKGUsdCxyLG4sYSxvLHUsYyxsLGgpfWZ1bmN0aW9uIGRjKGUsdCxyLG4pe0MuY3VycmVudENvbnRleHQudmVyc2lvbj49Mj9yJiZ0P3cuYnVmZmVyRGF0YShlLCQsbixyLHQpOncuYnVmZmVyRGF0YShlLHQsbik6dy5idWZmZXJEYXRhKGUscj8kLnN1YmFycmF5KHIscit0KTp0LG4pfWZ1bmN0aW9uIG1jKGUsdCxyLG4pe2lmKEMuY3VycmVudENvbnRleHQudmVyc2lvbj49Mil7ciYmdy5idWZmZXJTdWJEYXRhKGUsdCwkLG4scik7cmV0dXJufXcuYnVmZmVyU3ViRGF0YShlLHQsJC5zdWJhcnJheShuLG4rcikpfWZ1bmN0aW9uIHBjKGUsdCxyKXt3LmNsZWFyQnVmZmVyZnYoZSx0LG9lLHI+PjIpfWZ1bmN0aW9uIGhjKGUsdCxyLG4pe3cuY29sb3JNYXNrKCEhZSwhIXQsISFyLCEhbil9ZnVuY3Rpb24gZ2MoZSl7dy5jb21waWxlU2hhZGVyKEMuc2hhZGVyc1tlXSl9ZnVuY3Rpb24geWMoZSx0LHIsbixhLG8sdSxjKXtpZihDLmN1cnJlbnRDb250ZXh0LnZlcnNpb24+PTIpe3cuY3VycmVudFBpeGVsVW5wYWNrQnVmZmVyQmluZGluZ3x8IXU/dy5jb21wcmVzc2VkVGV4SW1hZ2UyRChlLHQscixuLGEsbyx1LGMpOncuY29tcHJlc3NlZFRleEltYWdlMkQoZSx0LHIsbixhLG8sJCxjLHUpO3JldHVybn13LmNvbXByZXNzZWRUZXhJbWFnZTJEKGUsdCxyLG4sYSxvLGM/JC5zdWJhcnJheShjLGMrdSk6bnVsbCl9ZnVuY3Rpb24gdmMoZSx0LHIsbixhLG8sdSxjLGwpe3cuY3VycmVudFBpeGVsVW5wYWNrQnVmZmVyQmluZGluZz93LmNvbXByZXNzZWRUZXhJbWFnZTNEKGUsdCxyLG4sYSxvLHUsYyxsKTp3LmNvbXByZXNzZWRUZXhJbWFnZTNEKGUsdCxyLG4sYSxvLHUsJCxsLGMpfWZ1bmN0aW9uIGJjKGUsdCxyLG4sYSxvLHUsYyl7dy5jb3B5VGV4U3ViSW1hZ2UyRChlLHQscixuLGEsbyx1LGMpfWZ1bmN0aW9uIF9jKCl7dmFyIGU9Qy5nZXROZXdJZChDLnByb2dyYW1zKSx0PXcuY3JlYXRlUHJvZ3JhbSgpO3JldHVybiB0Lm5hbWU9ZSx0Lm1heFVuaWZvcm1MZW5ndGg9dC5tYXhBdHRyaWJ1dGVMZW5ndGg9dC5tYXhVbmlmb3JtQmxvY2tOYW1lTGVuZ3RoPTAsdC51bmlmb3JtSWRDb3VudGVyPTEsQy5wcm9ncmFtc1tlXT10LGV9ZnVuY3Rpb24gRWMoZSl7dmFyIHQ9Qy5nZXROZXdJZChDLnNoYWRlcnMpO3JldHVybiBDLnNoYWRlcnNbdF09dy5jcmVhdGVTaGFkZXIoZSksdH1mdW5jdGlvbiB3YyhlLHQpe2Zvcih2YXIgcj0wO3I8ZTtyKyspe3ZhciBuPV9bdCtyKjQ+PjJdLGE9Qy5idWZmZXJzW25dOyFhfHwody5kZWxldGVCdWZmZXIoYSksYS5uYW1lPTAsQy5idWZmZXJzW25dPW51bGwsbj09dy5jdXJyZW50UGl4ZWxQYWNrQnVmZmVyQmluZGluZyYmKHcuY3VycmVudFBpeGVsUGFja0J1ZmZlckJpbmRpbmc9MCksbj09dy5jdXJyZW50UGl4ZWxVbnBhY2tCdWZmZXJCaW5kaW5nJiYody5jdXJyZW50UGl4ZWxVbnBhY2tCdWZmZXJCaW5kaW5nPTApKX19ZnVuY3Rpb24geGMoZSx0KXtmb3IodmFyIHI9MDtyPGU7KytyKXt2YXIgbj1fW3Qrcio0Pj4yXSxhPUMuZnJhbWVidWZmZXJzW25dOyFhfHwody5kZWxldGVGcmFtZWJ1ZmZlcihhKSxhLm5hbWU9MCxDLmZyYW1lYnVmZmVyc1tuXT1udWxsKX19ZnVuY3Rpb24gU2MoZSl7aWYoZSl7dmFyIHQ9Qy5wcm9ncmFtc1tlXTtpZighdCl7Qy5yZWNvcmRFcnJvcigxMjgxKTtyZXR1cm59dy5kZWxldGVQcm9ncmFtKHQpLHQubmFtZT0wLEMucHJvZ3JhbXNbZV09bnVsbH19ZnVuY3Rpb24gVGMoZSx0KXtmb3IodmFyIHI9MDtyPGU7cisrKXt2YXIgbj1fW3Qrcio0Pj4yXSxhPUMucmVuZGVyYnVmZmVyc1tuXTshYXx8KHcuZGVsZXRlUmVuZGVyYnVmZmVyKGEpLGEubmFtZT0wLEMucmVuZGVyYnVmZmVyc1tuXT1udWxsKX19ZnVuY3Rpb24gQ2MoZSl7aWYoZSl7dmFyIHQ9Qy5zaGFkZXJzW2VdO2lmKCF0KXtDLnJlY29yZEVycm9yKDEyODEpO3JldHVybn13LmRlbGV0ZVNoYWRlcih0KSxDLnNoYWRlcnNbZV09bnVsbH19ZnVuY3Rpb24ga2MoZSx0KXtmb3IodmFyIHI9MDtyPGU7cisrKXt2YXIgbj1fW3Qrcio0Pj4yXSxhPUMudGV4dHVyZXNbbl07IWF8fCh3LmRlbGV0ZVRleHR1cmUoYSksYS5uYW1lPTAsQy50ZXh0dXJlc1tuXT1udWxsKX19ZnVuY3Rpb24gUGMoZSx0KXtmb3IodmFyIHI9MDtyPGU7cisrKXt2YXIgbj1fW3Qrcio0Pj4yXTt3LmRlbGV0ZVZlcnRleEFycmF5KEMudmFvc1tuXSksQy52YW9zW25dPW51bGx9fWZ1bmN0aW9uIERjKGUpe3cuZGVwdGhGdW5jKGUpfWZ1bmN0aW9uIEZjKGUpe3cuZGVwdGhNYXNrKCEhZSl9ZnVuY3Rpb24gTWMoZSl7dy5kaXNhYmxlKGUpfWZ1bmN0aW9uIExjKGUsdCxyKXt3LmRyYXdBcnJheXMoZSx0LHIpfWZ1bmN0aW9uIFJjKGUsdCxyLG4pe3cuZHJhd0FycmF5c0luc3RhbmNlZChlLHQscixuKX12YXIgRnI9W107ZnVuY3Rpb24gQWMoZSx0KXtmb3IodmFyIHI9RnJbZV0sbj0wO248ZTtuKyspcltuXT1fW3Qrbio0Pj4yXTt3LmRyYXdCdWZmZXJzKHIpfWZ1bmN0aW9uIGpjKGUsdCxyLG4pe3cuZHJhd0VsZW1lbnRzKGUsdCxyLG4pfWZ1bmN0aW9uIEljKGUsdCxyLG4sYSl7dy5kcmF3RWxlbWVudHNJbnN0YW5jZWQoZSx0LHIsbixhKX1mdW5jdGlvbiBOYyhlKXt3LmVuYWJsZShlKX1mdW5jdGlvbiBPYyhlKXt3LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpfWZ1bmN0aW9uIEJjKGUsdCxyLG4pe3cuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZSx0LHIsQy5yZW5kZXJidWZmZXJzW25dKX1mdW5jdGlvbiB6YyhlLHQscixuLGEpe3cuZnJhbWVidWZmZXJUZXh0dXJlMkQoZSx0LHIsQy50ZXh0dXJlc1tuXSxhKX1mdW5jdGlvbiBWYyhlKXt3LmZyb250RmFjZShlKX1mdW5jdGlvbiB5dChlLHQscixuKXtmb3IodmFyIGE9MDthPGU7YSsrKXt2YXIgbz13W3JdKCksdT1vJiZDLmdldE5ld0lkKG4pO28/KG8ubmFtZT11LG5bdV09byk6Qy5yZWNvcmRFcnJvcigxMjgyKSxfW3QrYSo0Pj4yXT11fX1mdW5jdGlvbiBXYyhlLHQpe3l0KGUsdCwiY3JlYXRlQnVmZmVyIixDLmJ1ZmZlcnMpfWZ1bmN0aW9uIFVjKGUsdCl7eXQoZSx0LCJjcmVhdGVGcmFtZWJ1ZmZlciIsQy5mcmFtZWJ1ZmZlcnMpfWZ1bmN0aW9uIEdjKGUsdCl7eXQoZSx0LCJjcmVhdGVSZW5kZXJidWZmZXIiLEMucmVuZGVyYnVmZmVycyl9ZnVuY3Rpb24gS2MoZSx0KXt5dChlLHQsImNyZWF0ZVRleHR1cmUiLEMudGV4dHVyZXMpfWZ1bmN0aW9uIFhjKGUsdCl7eXQoZSx0LCJjcmVhdGVWZXJ0ZXhBcnJheSIsQy52YW9zKX1mdW5jdGlvbiBZYyhlKXt3LmdlbmVyYXRlTWlwbWFwKGUpfWZ1bmN0aW9uIFpjKCl7dmFyIGU9dy5nZXRFcnJvcigpfHxDLmxhc3RFcnJvcjtyZXR1cm4gQy5sYXN0RXJyb3I9MCxlfWZ1bmN0aW9uIEhjKGUsdCl7QltlPj4yXT10LEJbZSs0Pj4yXT0odC1CW2U+PjJdKS80Mjk0OTY3Mjk2fWZ1bmN0aW9uICRjKGUsdCxyKXtpZighdCl7Qy5yZWNvcmRFcnJvcigxMjgxKTtyZXR1cm59dmFyIG49dm9pZCAwO3N3aXRjaChlKXtjYXNlIDM2MzQ2Om49MTticmVhaztjYXNlIDM2MzQ0OnIhPTAmJnIhPTEmJkMucmVjb3JkRXJyb3IoMTI4MCk7cmV0dXJuO2Nhc2UgMzQ4MTQ6Y2FzZSAzNjM0NTpuPTA7YnJlYWs7Y2FzZSAzNDQ2Njp2YXIgYT13LmdldFBhcmFtZXRlcigzNDQ2Nyk7bj1hP2EubGVuZ3RoOjA7YnJlYWs7Y2FzZSAzMzMwOTppZihDLmN1cnJlbnRDb250ZXh0LnZlcnNpb248Mil7Qy5yZWNvcmRFcnJvcigxMjgyKTtyZXR1cm59dmFyIG89dy5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCl8fFtdO249MipvLmxlbmd0aDticmVhaztjYXNlIDMzMzA3OmNhc2UgMzMzMDg6aWYoQy5jdXJyZW50Q29udGV4dC52ZXJzaW9uPDIpe0MucmVjb3JkRXJyb3IoMTI4MCk7cmV0dXJufW49ZT09MzMzMDc/MzowO2JyZWFrfWlmKG49PT12b2lkIDApe3ZhciB1PXcuZ2V0UGFyYW1ldGVyKGUpO3N3aXRjaCh0eXBlb2YgdSl7Y2FzZSJudW1iZXIiOm49dTticmVhaztjYXNlImJvb2xlYW4iOm49dT8xOjA7YnJlYWs7Y2FzZSJzdHJpbmciOkMucmVjb3JkRXJyb3IoMTI4MCk7cmV0dXJuO2Nhc2Uib2JqZWN0IjppZih1PT09bnVsbClzd2l0Y2goZSl7Y2FzZSAzNDk2NDpjYXNlIDM1NzI1OmNhc2UgMzQ5NjU6Y2FzZSAzNjAwNjpjYXNlIDM2MDA3OmNhc2UgMzI4NzM6Y2FzZSAzNDIyOTpjYXNlIDM2NjYyOmNhc2UgMzY2NjM6Y2FzZSAzNTA1MzpjYXNlIDM1MDU1OmNhc2UgMzYwMTA6Y2FzZSAzNTA5NzpjYXNlIDM1ODY5OmNhc2UgMzI4NzQ6Y2FzZSAzNjM4OTpjYXNlIDM1OTgzOmNhc2UgMzUzNjg6Y2FzZSAzNDA2ODp7bj0wO2JyZWFrfWRlZmF1bHQ6e0MucmVjb3JkRXJyb3IoMTI4MCk7cmV0dXJufX1lbHNlIGlmKHUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fHUgaW5zdGFuY2VvZiBVaW50MzJBcnJheXx8dSBpbnN0YW5jZW9mIEludDMyQXJyYXl8fHUgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7Yzx1Lmxlbmd0aDsrK2Mpc3dpdGNoKHIpe2Nhc2UgMDpfW3QrYyo0Pj4yXT11W2NdO2JyZWFrO2Nhc2UgMjpvZVt0K2MqND4+Ml09dVtjXTticmVhaztjYXNlIDQ6Slt0K2M+PjBdPXVbY10/MTowO2JyZWFrfXJldHVybn1lbHNlIHRyeXtuPXUubmFtZXwwfWNhdGNoKGwpe0MucmVjb3JkRXJyb3IoMTI4MCksSCgiR0xfSU5WQUxJRF9FTlVNIGluIGdsR2V0IityKyJ2OiBVbmtub3duIG9iamVjdCByZXR1cm5lZCBmcm9tIFdlYkdMIGdldFBhcmFtZXRlcigiK2UrIikhIChlcnJvcjogIitsKyIpIik7cmV0dXJufWJyZWFrO2RlZmF1bHQ6Qy5yZWNvcmRFcnJvcigxMjgwKSxIKCJHTF9JTlZBTElEX0VOVU0gaW4gZ2xHZXQiK3IrInY6IE5hdGl2ZSBjb2RlIGNhbGxpbmcgZ2xHZXQiK3IrInYoIitlKyIpIGFuZCBpdCByZXR1cm5zICIrdSsiIG9mIHR5cGUgIit0eXBlb2YgdSsiISIpO3JldHVybn19c3dpdGNoKHIpe2Nhc2UgMTpIYyh0LG4pO2JyZWFrO2Nhc2UgMDpfW3Q+PjJdPW47YnJlYWs7Y2FzZSAyOm9lW3Q+PjJdPW47YnJlYWs7Y2FzZSA0OkpbdD4+MF09bj8xOjA7YnJlYWt9fWZ1bmN0aW9uIFFjKGUsdCl7JGMoZSx0LDApfWZ1bmN0aW9uIEpjKGUsdCxyLG4pe3ZhciBhPXcuZ2V0UHJvZ3JhbUluZm9Mb2coQy5wcm9ncmFtc1tlXSk7YT09PW51bGwmJihhPSIodW5rbm93biBlcnJvcikiKTt2YXIgbz10PjAmJm4/TmUoYSxuLHQpOjA7ciYmKF9bcj4+Ml09byl9ZnVuY3Rpb24gcWMoZSx0LHIpe2lmKCFyKXtDLnJlY29yZEVycm9yKDEyODEpO3JldHVybn1pZihlPj1DLmNvdW50ZXIpe0MucmVjb3JkRXJyb3IoMTI4MSk7cmV0dXJufWlmKGU9Qy5wcm9ncmFtc1tlXSx0PT0zNTcxNil7dmFyIG49dy5nZXRQcm9ncmFtSW5mb0xvZyhlKTtuPT09bnVsbCYmKG49Iih1bmtub3duIGVycm9yKSIpLF9bcj4+Ml09bi5sZW5ndGgrMX1lbHNlIGlmKHQ9PTM1NzE5KXtpZighZS5tYXhVbmlmb3JtTGVuZ3RoKWZvcih2YXIgYT0wO2E8dy5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsMzU3MTgpOysrYSllLm1heFVuaWZvcm1MZW5ndGg9TWF0aC5tYXgoZS5tYXhVbmlmb3JtTGVuZ3RoLHcuZ2V0QWN0aXZlVW5pZm9ybShlLGEpLm5hbWUubGVuZ3RoKzEpO19bcj4+Ml09ZS5tYXhVbmlmb3JtTGVuZ3RofWVsc2UgaWYodD09MzU3MjIpe2lmKCFlLm1heEF0dHJpYnV0ZUxlbmd0aClmb3IodmFyIGE9MDthPHcuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzIxKTsrK2EpZS5tYXhBdHRyaWJ1dGVMZW5ndGg9TWF0aC5tYXgoZS5tYXhBdHRyaWJ1dGVMZW5ndGgsdy5nZXRBY3RpdmVBdHRyaWIoZSxhKS5uYW1lLmxlbmd0aCsxKTtfW3I+PjJdPWUubWF4QXR0cmlidXRlTGVuZ3RofWVsc2UgaWYodD09MzUzODEpe2lmKCFlLm1heFVuaWZvcm1CbG9ja05hbWVMZW5ndGgpZm9yKHZhciBhPTA7YTx3LmdldFByb2dyYW1QYXJhbWV0ZXIoZSwzNTM4Mik7KythKWUubWF4VW5pZm9ybUJsb2NrTmFtZUxlbmd0aD1NYXRoLm1heChlLm1heFVuaWZvcm1CbG9ja05hbWVMZW5ndGgsdy5nZXRBY3RpdmVVbmlmb3JtQmxvY2tOYW1lKGUsYSkubGVuZ3RoKzEpO19bcj4+Ml09ZS5tYXhVbmlmb3JtQmxvY2tOYW1lTGVuZ3RofWVsc2UgX1tyPj4yXT13LmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0KX1mdW5jdGlvbiBlbChlLHQscixuKXt2YXIgYT13LmdldFNoYWRlckluZm9Mb2coQy5zaGFkZXJzW2VdKTthPT09bnVsbCYmKGE9Iih1bmtub3duIGVycm9yKSIpO3ZhciBvPXQ+MCYmbj9OZShhLG4sdCk6MDtyJiYoX1tyPj4yXT1vKX1mdW5jdGlvbiB0bChlLHQscil7aWYoIXIpe0MucmVjb3JkRXJyb3IoMTI4MSk7cmV0dXJufWlmKHQ9PTM1NzE2KXt2YXIgbj13LmdldFNoYWRlckluZm9Mb2coQy5zaGFkZXJzW2VdKTtuPT09bnVsbCYmKG49Iih1bmtub3duIGVycm9yKSIpO3ZhciBhPW4/bi5sZW5ndGgrMTowO19bcj4+Ml09YX1lbHNlIGlmKHQ9PTM1NzIwKXt2YXIgbz13LmdldFNoYWRlclNvdXJjZShDLnNoYWRlcnNbZV0pLHU9bz9vLmxlbmd0aCsxOjA7X1tyPj4yXT11fWVsc2UgX1tyPj4yXT13LmdldFNoYWRlclBhcmFtZXRlcihDLnNoYWRlcnNbZV0sdCl9ZnVuY3Rpb24gSG4oZSl7cmV0dXJuIGUuc2xpY2UoLTEpPT0iXSImJmUubGFzdEluZGV4T2YoIlsiKX1mdW5jdGlvbiBybChlKXt2YXIgdD1lLnVuaWZvcm1Mb2NzQnlJZCxyPWUudW5pZm9ybVNpemVBbmRJZHNCeU5hbWUsbixhO2lmKCF0KWZvcihlLnVuaWZvcm1Mb2NzQnlJZD10PXt9LGUudW5pZm9ybUFycmF5TmFtZXNCeUlkPXt9LG49MDtuPHcuZ2V0UHJvZ3JhbVBhcmFtZXRlcihlLDM1NzE4KTsrK24pe3ZhciBvPXcuZ2V0QWN0aXZlVW5pZm9ybShlLG4pLHU9by5uYW1lLGM9by5zaXplLGw9SG4odSksaD1sPjA/dS5zbGljZSgwLGwpOnUsZz1lLnVuaWZvcm1JZENvdW50ZXI7Zm9yKGUudW5pZm9ybUlkQ291bnRlcis9YyxyW2hdPVtjLGddLGE9MDthPGM7KythKXRbZ109YSxlLnVuaWZvcm1BcnJheU5hbWVzQnlJZFtnKytdPWh9fWZ1bmN0aW9uIG5sKGUsdCl7aWYodD1nZSh0KSxlPUMucHJvZ3JhbXNbZV0pe3JsKGUpO3ZhciByPWUudW5pZm9ybUxvY3NCeUlkLG49MCxhPXQsbz1Ibih0KTtvPjAmJihuPWd0KHQuc2xpY2UobysxKSk+Pj4wLGE9dC5zbGljZSgwLG8pKTt2YXIgdT1lLnVuaWZvcm1TaXplQW5kSWRzQnlOYW1lW2FdO2lmKHUmJm48dVswXSYmKG4rPXVbMV0scltuXT1yW25dfHx3LmdldFVuaWZvcm1Mb2NhdGlvbihlLHQpKSlyZXR1cm4gbn1lbHNlIEMucmVjb3JkRXJyb3IoMTI4MSk7cmV0dXJuLTF9ZnVuY3Rpb24gYWwoZSx0LHIpe2Zvcih2YXIgbj1Gclt0XSxhPTA7YTx0O2ErKyluW2FdPV9bcithKjQ+PjJdO3cuaW52YWxpZGF0ZUZyYW1lYnVmZmVyKGUsbil9ZnVuY3Rpb24gaWwoZSl7ZT1DLnByb2dyYW1zW2VdLHcubGlua1Byb2dyYW0oZSksZS51bmlmb3JtTG9jc0J5SWQ9MCxlLnVuaWZvcm1TaXplQW5kSWRzQnlOYW1lPXt9fWZ1bmN0aW9uIG9sKGUsdCl7ZT09MzMxNyYmKEMudW5wYWNrQWxpZ25tZW50PXQpLHcucGl4ZWxTdG9yZWkoZSx0KX1mdW5jdGlvbiBzbChlLHQscixuKXtmdW5jdGlvbiBhKGMsbCl7cmV0dXJuIGMrbC0xJi1sfXZhciBvPWUqcix1PWEobyxuKTtyZXR1cm4gdCp1fWZ1bmN0aW9uIHVsKGUpe3ZhciB0PXs1OjMsNjo0LDg6MiwyOTUwMjozLDI5NTA0OjQsMjY5MTc6MiwyNjkxODoyLDI5ODQ2OjMsMjk4NDc6NH07cmV0dXJuIHRbZS02NDAyXXx8MX1mdW5jdGlvbiBRZShlKXtyZXR1cm4gZS09NTEyMCxlPT0wP0o6ZT09MT8kOmU9PTI/aWU6ZT09ND9fOmU9PTY/b2U6ZT09NXx8ZT09Mjg5MjJ8fGU9PTI4NTIwfHxlPT0zMDc3OXx8ZT09MzA3ODI/QjpaZX1mdW5jdGlvbiBKZShlKXtyZXR1cm4gMzEtTWF0aC5jbHozMihlLkJZVEVTX1BFUl9FTEVNRU5UKX1mdW5jdGlvbiBNcihlLHQscixuLGEsbyl7dmFyIHU9UWUoZSksYz1KZSh1KSxsPTE8PGMsaD11bCh0KSpsLGc9c2wocixuLGgsQy51bnBhY2tBbGlnbm1lbnQpO3JldHVybiB1LnN1YmFycmF5KGE+PmMsYStnPj5jKX1mdW5jdGlvbiBjbChlLHQscixuLGEsbyx1KXtpZihDLmN1cnJlbnRDb250ZXh0LnZlcnNpb24+PTIpe2lmKHcuY3VycmVudFBpeGVsUGFja0J1ZmZlckJpbmRpbmcpdy5yZWFkUGl4ZWxzKGUsdCxyLG4sYSxvLHUpO2Vsc2V7dmFyIGM9UWUobyk7dy5yZWFkUGl4ZWxzKGUsdCxyLG4sYSxvLGMsdT4+SmUoYykpfXJldHVybn12YXIgbD1NcihvLGEscixuLHUpO2lmKCFsKXtDLnJlY29yZEVycm9yKDEyODApO3JldHVybn13LnJlYWRQaXhlbHMoZSx0LHIsbixhLG8sbCl9ZnVuY3Rpb24gbGwoZSx0LHIsbil7dy5yZW5kZXJidWZmZXJTdG9yYWdlKGUsdCxyLG4pfWZ1bmN0aW9uIGZsKGUsdCxyLG4sYSl7dy5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZSx0LHIsbixhKX1mdW5jdGlvbiBkbChlLHQscixuKXt2YXIgYT1DLmdldFNvdXJjZShlLHQscixuKTt3LnNoYWRlclNvdXJjZShDLnNoYWRlcnNbZV0sYSl9ZnVuY3Rpb24gbWwoZSx0LHIsbixhLG8sdSxjLGwpe2lmKEMuY3VycmVudENvbnRleHQudmVyc2lvbj49Mil7aWYody5jdXJyZW50UGl4ZWxVbnBhY2tCdWZmZXJCaW5kaW5nKXcudGV4SW1hZ2UyRChlLHQscixuLGEsbyx1LGMsbCk7ZWxzZSBpZihsKXt2YXIgaD1RZShjKTt3LnRleEltYWdlMkQoZSx0LHIsbixhLG8sdSxjLGgsbD4+SmUoaCkpfWVsc2Ugdy50ZXhJbWFnZTJEKGUsdCxyLG4sYSxvLHUsYyxudWxsKTtyZXR1cm59dy50ZXhJbWFnZTJEKGUsdCxyLG4sYSxvLHUsYyxsP01yKGMsdSxuLGEsbCk6bnVsbCl9ZnVuY3Rpb24gcGwoZSx0LHIsbixhLG8sdSxjLGwsaCl7aWYody5jdXJyZW50UGl4ZWxVbnBhY2tCdWZmZXJCaW5kaW5nKXcudGV4SW1hZ2UzRChlLHQscixuLGEsbyx1LGMsbCxoKTtlbHNlIGlmKGgpe3ZhciBnPVFlKGwpO3cudGV4SW1hZ2UzRChlLHQscixuLGEsbyx1LGMsbCxnLGg+PkplKGcpKX1lbHNlIHcudGV4SW1hZ2UzRChlLHQscixuLGEsbyx1LGMsbCxudWxsKX1mdW5jdGlvbiBobChlLHQscil7dy50ZXhQYXJhbWV0ZXJpKGUsdCxyKX1mdW5jdGlvbiBnbChlLHQscixuLGEpe3cudGV4U3RvcmFnZTJEKGUsdCxyLG4sYSl9ZnVuY3Rpb24geWwoZSx0LHIsbixhLG8pe3cudGV4U3RvcmFnZTNEKGUsdCxyLG4sYSxvKX1mdW5jdGlvbiB2bChlLHQscixuLGEsbyx1LGMsbCl7aWYoQy5jdXJyZW50Q29udGV4dC52ZXJzaW9uPj0yKXtpZih3LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcpdy50ZXhTdWJJbWFnZTJEKGUsdCxyLG4sYSxvLHUsYyxsKTtlbHNlIGlmKGwpe3ZhciBoPVFlKGMpO3cudGV4U3ViSW1hZ2UyRChlLHQscixuLGEsbyx1LGMsaCxsPj5KZShoKSl9ZWxzZSB3LnRleFN1YkltYWdlMkQoZSx0LHIsbixhLG8sdSxjLG51bGwpO3JldHVybn12YXIgZz1udWxsO2wmJihnPU1yKGMsdSxhLG8sbCkpLHcudGV4U3ViSW1hZ2UyRChlLHQscixuLGEsbyx1LGMsZyl9ZnVuY3Rpb24gYmwoZSx0LHIsbixhLG8sdSxjLGwsaCxnKXtpZih3LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcpdy50ZXhTdWJJbWFnZTNEKGUsdCxyLG4sYSxvLHUsYyxsLGgsZyk7ZWxzZSBpZihnKXt2YXIgRT1RZShoKTt3LnRleFN1YkltYWdlM0QoZSx0LHIsbixhLG8sdSxjLGwsaCxFLGc+PkplKEUpKX1lbHNlIHcudGV4U3ViSW1hZ2UzRChlLHQscixuLGEsbyx1LGMsbCxoLG51bGwpfWZ1bmN0aW9uIFBlKGUpe3ZhciB0PXcuY3VycmVudFByb2dyYW07aWYodCl7dmFyIHI9dC51bmlmb3JtTG9jc0J5SWRbZV07cmV0dXJuIHR5cGVvZiByPT0ibnVtYmVyIiYmKHQudW5pZm9ybUxvY3NCeUlkW2VdPXI9dy5nZXRVbmlmb3JtTG9jYXRpb24odCx0LnVuaWZvcm1BcnJheU5hbWVzQnlJZFtlXSsocj4wPyJbIityKyJdIjoiIikpKSxyfWVsc2UgQy5yZWNvcmRFcnJvcigxMjgyKX1mdW5jdGlvbiBfbChlLHQpe3cudW5pZm9ybTFmKFBlKGUpLHQpfWZ1bmN0aW9uIEVsKGUsdCl7dy51bmlmb3JtMWkoUGUoZSksdCl9ZnVuY3Rpb24gd2woZSx0KXt3LnVuaWZvcm0xdWkoUGUoZSksdCl9ZnVuY3Rpb24geGwoZSx0LHIpe3cudW5pZm9ybTJmKFBlKGUpLHQscil9dmFyIExyPVtdO2Z1bmN0aW9uIFNsKGUsdCxyKXtpZihDLmN1cnJlbnRDb250ZXh0LnZlcnNpb24+PTIpe3QmJncudW5pZm9ybTJmdihQZShlKSxvZSxyPj4yLHQqMik7cmV0dXJufWlmKHQ8PTE0NClmb3IodmFyIGE9THJbMip0LTFdLG49MDtuPDIqdDtuKz0yKWFbbl09b2Vbcis0Km4+PjJdLGFbbisxXT1vZVtyKyg0Km4rNCk+PjJdO2Vsc2UgdmFyIGE9b2Uuc3ViYXJyYXkocj4+MixyK3QqOD4+Mik7dy51bmlmb3JtMmZ2KFBlKGUpLGEpfWZ1bmN0aW9uIFRsKGUsdCxyKXtpZihDLmN1cnJlbnRDb250ZXh0LnZlcnNpb24+PTIpe3QmJncudW5pZm9ybTRmdihQZShlKSxvZSxyPj4yLHQqNCk7cmV0dXJufWlmKHQ8PTcyKXt2YXIgdT1Mcls0KnQtMV0sbj1vZTtyPj49Mjtmb3IodmFyIGE9MDthPDQqdDthKz00KXt2YXIgbz1yK2E7dVthXT1uW29dLHVbYSsxXT1uW28rMV0sdVthKzJdPW5bbysyXSx1W2ErM109bltvKzNdfX1lbHNlIHZhciB1PW9lLnN1YmFycmF5KHI+PjIscit0KjE2Pj4yKTt3LnVuaWZvcm00ZnYoUGUoZSksdSl9ZnVuY3Rpb24gQ2woZSl7ZT1DLnByb2dyYW1zW2VdLHcudXNlUHJvZ3JhbShlKSx3LmN1cnJlbnRQcm9ncmFtPWV9ZnVuY3Rpb24ga2woZSx0LHIsbixhKXt3LnZlcnRleEF0dHJpYklQb2ludGVyKGUsdCxyLG4sYSl9ZnVuY3Rpb24gUGwoZSx0LHIsbixhLG8pe3cudmVydGV4QXR0cmliUG9pbnRlcihlLHQsciwhIW4sYSxvKX1mdW5jdGlvbiBEbChlLHQscixuKXt3LnZpZXdwb3J0KGUsdCxyLG4pfWZ1bmN0aW9uIEZsKGUsdCl7Zm9yKHZhciByPTAsbj0wO248PXQ7cis9ZVtuKytdKTtyZXR1cm4gcn12YXIgJG49WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxRbj1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIE1sKGUsdCl7Zm9yKHZhciByPW5ldyBEYXRlKGUuZ2V0VGltZSgpKTt0PjA7KXt2YXIgbj1tdChyLmdldEZ1bGxZZWFyKCkpLGE9ci5nZXRNb250aCgpLG89KG4/JG46UW4pW2FdO2lmKHQ+by1yLmdldERhdGUoKSl0LT1vLXIuZ2V0RGF0ZSgpKzEsci5zZXREYXRlKDEpLGE8MTE/ci5zZXRNb250aChhKzEpOihyLnNldE1vbnRoKDApLHIuc2V0RnVsbFllYXIoci5nZXRGdWxsWWVhcigpKzEpKTtlbHNlIHJldHVybiByLnNldERhdGUoci5nZXREYXRlKCkrdCkscn1yZXR1cm4gcn1mdW5jdGlvbiBMbChlLHQpe0ouc2V0KGUsdCl9ZnVuY3Rpb24gSm4oZSx0LHIsbil7dmFyIGE9X1tuKzQwPj4yXSxvPXt0bV9zZWM6X1tuPj4yXSx0bV9taW46X1tuKzQ+PjJdLHRtX2hvdXI6X1tuKzg+PjJdLHRtX21kYXk6X1tuKzEyPj4yXSx0bV9tb246X1tuKzE2Pj4yXSx0bV95ZWFyOl9bbisyMD4+Ml0sdG1fd2RheTpfW24rMjQ+PjJdLHRtX3lkYXk6X1tuKzI4Pj4yXSx0bV9pc2RzdDpfW24rMzI+PjJdLHRtX2dtdG9mZjpfW24rMzY+PjJdLHRtX3pvbmU6YT9nZShhKToiIn0sdT1nZShyKSxjPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIGwgaW4gYyl1PXUucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxjW2xdKTt2YXIgaD1bIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZz1bIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl07ZnVuY3Rpb24gRSh4LEQsTil7Zm9yKHZhciBVPXR5cGVvZiB4PT0ibnVtYmVyIj94LnRvU3RyaW5nKCk6eHx8IiI7VS5sZW5ndGg8RDspVT1OWzBdK1U7cmV0dXJuIFV9ZnVuY3Rpb24geSh4LEQpe3JldHVybiBFKHgsRCwiMCIpfWZ1bmN0aW9uIFQoeCxEKXtmdW5jdGlvbiBOKEspe3JldHVybiBLPDA/LTE6Sz4wPzE6MH12YXIgVTtyZXR1cm4oVT1OKHguZ2V0RnVsbFllYXIoKS1ELmdldEZ1bGxZZWFyKCkpKT09PTAmJihVPU4oeC5nZXRNb250aCgpLUQuZ2V0TW9udGgoKSkpPT09MCYmKFU9Tih4LmdldERhdGUoKS1ELmdldERhdGUoKSkpLFV9ZnVuY3Rpb24gRih4KXtzd2l0Y2goeC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZSh4LmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiB4O2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoeC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZSh4LmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKHguZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoeC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoeC5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBSKHgpe3ZhciBEPU1sKG5ldyBEYXRlKHgudG1feWVhcisxOTAwLDAsMSkseC50bV95ZGF5KSxOPW5ldyBEYXRlKEQuZ2V0RnVsbFllYXIoKSwwLDQpLFU9bmV3IERhdGUoRC5nZXRGdWxsWWVhcigpKzEsMCw0KSxLPUYoTiksdWU9RihVKTtyZXR1cm4gVChLLEQpPD0wP1QodWUsRCk8PTA/RC5nZXRGdWxsWWVhcigpKzE6RC5nZXRGdWxsWWVhcigpOkQuZ2V0RnVsbFllYXIoKS0xfXZhciBqPXsiJWEiOmZ1bmN0aW9uKHgpe3JldHVybiBoW3gudG1fd2RheV0uc3Vic3RyaW5nKDAsMyl9LCIlQSI6ZnVuY3Rpb24oeCl7cmV0dXJuIGhbeC50bV93ZGF5XX0sIiViIjpmdW5jdGlvbih4KXtyZXR1cm4gZ1t4LnRtX21vbl0uc3Vic3RyaW5nKDAsMyl9LCIlQiI6ZnVuY3Rpb24oeCl7cmV0dXJuIGdbeC50bV9tb25dfSwiJUMiOmZ1bmN0aW9uKHgpe3ZhciBEPXgudG1feWVhcisxOTAwO3JldHVybiB5KEQvMTAwfDAsMil9LCIlZCI6ZnVuY3Rpb24oeCl7cmV0dXJuIHkoeC50bV9tZGF5LDIpfSwiJWUiOmZ1bmN0aW9uKHgpe3JldHVybiBFKHgudG1fbWRheSwyLCIgIil9LCIlZyI6ZnVuY3Rpb24oeCl7cmV0dXJuIFIoeCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMil9LCIlRyI6ZnVuY3Rpb24oeCl7cmV0dXJuIFIoeCl9LCIlSCI6ZnVuY3Rpb24oeCl7cmV0dXJuIHkoeC50bV9ob3VyLDIpfSwiJUkiOmZ1bmN0aW9uKHgpe3ZhciBEPXgudG1faG91cjtyZXR1cm4gRD09MD9EPTEyOkQ+MTImJihELT0xMikseShELDIpfSwiJWoiOmZ1bmN0aW9uKHgpe3JldHVybiB5KHgudG1fbWRheStGbChtdCh4LnRtX3llYXIrMTkwMCk/JG46UW4seC50bV9tb24tMSksMyl9LCIlbSI6ZnVuY3Rpb24oeCl7cmV0dXJuIHkoeC50bV9tb24rMSwyKX0sIiVNIjpmdW5jdGlvbih4KXtyZXR1cm4geSh4LnRtX21pbiwyKX0sIiVuIjpmdW5jdGlvbigpe3JldHVybmAKYH0sIiVwIjpmdW5jdGlvbih4KXtyZXR1cm4geC50bV9ob3VyPj0wJiZ4LnRtX2hvdXI8MTI/IkFNIjoiUE0ifSwiJVMiOmZ1bmN0aW9uKHgpe3JldHVybiB5KHgudG1fc2VjLDIpfSwiJXQiOmZ1bmN0aW9uKCl7cmV0dXJuIgkifSwiJXUiOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRtX3dkYXl8fDd9LCIlVSI6ZnVuY3Rpb24oeCl7dmFyIEQ9eC50bV95ZGF5KzcteC50bV93ZGF5O3JldHVybiB5KE1hdGguZmxvb3IoRC83KSwyKX0sIiVWIjpmdW5jdGlvbih4KXt2YXIgRD1NYXRoLmZsb29yKCh4LnRtX3lkYXkrNy0oeC50bV93ZGF5KzYpJTcpLzcpO2lmKCh4LnRtX3dkYXkrMzcxLXgudG1feWRheS0yKSU3PD0yJiZEKyssRCl7aWYoRD09NTMpe3ZhciBOPSh4LnRtX3dkYXkrMzcxLXgudG1feWRheSklNztOIT00JiYoTiE9M3x8IW10KHgudG1feWVhcikpJiYoRD0xKX19ZWxzZXtEPTUyO3ZhciBVPSh4LnRtX3dkYXkrNy14LnRtX3lkYXktMSklNzsoVT09NHx8VT09NSYmbXQoeC50bV95ZWFyJTQwMC0xKSkmJkQrK31yZXR1cm4geShELDIpfSwiJXciOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRtX3dkYXl9LCIlVyI6ZnVuY3Rpb24oeCl7dmFyIEQ9eC50bV95ZGF5KzctKHgudG1fd2RheSs2KSU3O3JldHVybiB5KE1hdGguZmxvb3IoRC83KSwyKX0sIiV5IjpmdW5jdGlvbih4KXtyZXR1cm4oeC50bV95ZWFyKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpfSwiJVkiOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRtX3llYXIrMTkwMH0sIiV6IjpmdW5jdGlvbih4KXt2YXIgRD14LnRtX2dtdG9mZixOPUQ+PTA7cmV0dXJuIEQ9TWF0aC5hYnMoRCkvNjAsRD1ELzYwKjEwMCtEJTYwLChOPyIrIjoiLSIpK1N0cmluZygiMDAwMCIrRCkuc2xpY2UoLTQpfSwiJVoiOmZ1bmN0aW9uKHgpe3JldHVybiB4LnRtX3pvbmV9LCIlJSI6ZnVuY3Rpb24oKXtyZXR1cm4iJSJ9fTt1PXUucmVwbGFjZSgvJSUvZywiXDBcMCIpO2Zvcih2YXIgbCBpbiBqKXUuaW5jbHVkZXMobCkmJih1PXUucmVwbGFjZShuZXcgUmVnRXhwKGwsImciKSxqW2xdKG8pKSk7dT11LnJlcGxhY2UoL1wwXDAvZywiJSIpO3ZhciBJPUN0KHUsITEpO3JldHVybiBJLmxlbmd0aD50PzA6KExsKEksZSksSS5sZW5ndGgtMSl9ZnVuY3Rpb24gUmwoZSx0LHIsbixhKXtyZXR1cm4gSm4oZSx0LHIsbil9dmFyIHFuPWZ1bmN0aW9uKGUsdCxyLG4pe2V8fChlPXRoaXMpLHRoaXMucGFyZW50PWUsdGhpcy5tb3VudD1lLm1vdW50LHRoaXMubW91bnRlZD1udWxsLHRoaXMuaWQ9cy5uZXh0SW5vZGUrKyx0aGlzLm5hbWU9dCx0aGlzLm1vZGU9cix0aGlzLm5vZGVfb3BzPXt9LHRoaXMuc3RyZWFtX29wcz17fSx0aGlzLnJkZXY9bn0sVXQ9MzY1LEd0PTE0NjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhxbi5wcm90b3R5cGUse3JlYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLm1vZGUmVXQpPT09VXR9LHNldDpmdW5jdGlvbihlKXtlP3RoaXMubW9kZXw9VXQ6dGhpcy5tb2RlJj1+VXR9fSx3cml0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubW9kZSZHdCk9PT1HdH0sc2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5tb2RlfD1HdDp0aGlzLm1vZGUmPX5HdH19LGlzRm9sZGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5pc0Rpcih0aGlzLm1vZGUpfX0saXNEZXZpY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBzLmlzQ2hyZGV2KHRoaXMubW9kZSl9fX0pLHMuRlNOb2RlPXFuLHMuc3RhdGljSW5pdCgpLGkuRlNfY3JlYXRlUGF0aD1zLmNyZWF0ZVBhdGgsaS5GU19jcmVhdGVEYXRhRmlsZT1zLmNyZWF0ZURhdGFGaWxlLGkuRlNfY3JlYXRlUHJlbG9hZGVkRmlsZT1zLmNyZWF0ZVByZWxvYWRlZEZpbGUsaS5GU191bmxpbms9cy51bmxpbmssaS5GU19jcmVhdGVMYXp5RmlsZT1zLmNyZWF0ZUxhenlGaWxlLGkuRlNfY3JlYXRlRGV2aWNlPXMuY3JlYXRlRGV2aWNlLFBvKCksJGU9aS5CaW5kaW5nRXJyb3I9cHIoRXJyb3IsIkJpbmRpbmdFcnJvciIpLFBuPWkuSW50ZXJuYWxFcnJvcj1wcihFcnJvciwiSW50ZXJuYWxFcnJvciIpLFhvKCksT28oKSxlcygpLGpuPWkuVW5ib3VuZFR5cGVFcnJvcj1wcihFcnJvciwiVW5ib3VuZFR5cGVFcnJvciIpLGZzKCksaS5yZXF1ZXN0RnVsbHNjcmVlbj1mdW5jdGlvbihlLHQpe2IucmVxdWVzdEZ1bGxzY3JlZW4oZSx0KX0saS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7Yi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9LGkuc2V0Q2FudmFzU2l6ZT1mdW5jdGlvbihlLHQscil7Yi5zZXRDYW52YXNTaXplKGUsdCxyKX0saS5wYXVzZU1haW5Mb29wPWZ1bmN0aW9uKCl7Yi5tYWluTG9vcC5wYXVzZSgpfSxpLnJlc3VtZU1haW5Mb29wPWZ1bmN0aW9uKCl7Yi5tYWluTG9vcC5yZXN1bWUoKX0saS5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oKXtiLmdldFVzZXJNZWRpYSgpfSxpLmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGIuY3JlYXRlQ29udGV4dChlLHQscixuKX07Zm9yKHZhciB3LERlPTA7RGU8MzI7KytEZSlGci5wdXNoKG5ldyBBcnJheShEZSkpO2Zvcih2YXIgQWw9bmV3IEZsb2F0MzJBcnJheSgyODgpLERlPTA7RGU8Mjg4OysrRGUpTHJbRGVdPUFsLnN1YmFycmF5KDAsRGUrMSk7dmFyIGVhPXtfX2N4YV9hbGxvY2F0ZV9leGNlcHRpb246ZW8sX19jeGFfdGhyb3c6cm8sX19zeXNjYWxsX2NobW9kOmlvLF9fc3lzY2FsbF9mY2htb2Q6b28sX19zeXNjYWxsX2ZjbnRsNjQ6dW8sX19zeXNjYWxsX2ZzdGF0NjQ6Y28sX19zeXNjYWxsX2Z0cnVuY2F0ZTY0OmxvLF9fc3lzY2FsbF9nZXRjd2Q6Zm8sX19zeXNjYWxsX2dldGRlbnRzNjQ6bW8sX19zeXNjYWxsX2lvY3RsOnBvLF9fc3lzY2FsbF9sc3RhdDY0OmhvLF9fc3lzY2FsbF9ta2RpcmF0OmdvLF9fc3lzY2FsbF9uZXdmc3RhdGF0OnlvLF9fc3lzY2FsbF9vcGVuYXQ6dm8sX19zeXNjYWxsX3JlYWRsaW5rYXQ6Ym8sX19zeXNjYWxsX3JlbmFtZWF0Ol9vLF9fc3lzY2FsbF9zdGF0NjQ6RW8sX19zeXNjYWxsX3N5bWxpbms6d28sX19zeXNjYWxsX3VubGlua2F0OnhvLF9kbGluaXQ6U28sX2Rsb3Blbl9qczpUbyxfZGxzeW1fanM6Q28sX2VtYmluZF9yZWdpc3Rlcl9iaWdpbnQ6a28sX2VtYmluZF9yZWdpc3Rlcl9ib29sOk1vLF9lbWJpbmRfcmVnaXN0ZXJfY2xhc3M6YXMsX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19jbGFzc19mdW5jdGlvbjppcyxfZW1iaW5kX3JlZ2lzdGVyX2NsYXNzX2NvbnN0cnVjdG9yOm9zLF9lbWJpbmRfcmVnaXN0ZXJfY2xhc3NfZnVuY3Rpb246c3MsX2VtYmluZF9yZWdpc3Rlcl9jbGFzc19wcm9wZXJ0eTp1cyxfZW1iaW5kX3JlZ2lzdGVyX2VtdmFsOmRzLF9lbWJpbmRfcmVnaXN0ZXJfZW51bTpwcyxfZW1iaW5kX3JlZ2lzdGVyX2VudW1fdmFsdWU6aHMsX2VtYmluZF9yZWdpc3Rlcl9mbG9hdDp5cyxfZW1iaW5kX3JlZ2lzdGVyX2Z1bmN0aW9uOnZzLF9lbWJpbmRfcmVnaXN0ZXJfaW50ZWdlcjpfcyxfZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3OkVzLF9lbWJpbmRfcmVnaXN0ZXJfc21hcnRfcHRyOndzLF9lbWJpbmRfcmVnaXN0ZXJfc3RkX3N0cmluZzp4cyxfZW1iaW5kX3JlZ2lzdGVyX3N0ZF93c3RyaW5nOkZzLF9lbWJpbmRfcmVnaXN0ZXJfdm9pZDpNcyxfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYzpScyxfZW12YWxfYXM6QXMsX2VtdmFsX2NhbGw6anMsX2VtdmFsX2NhbGxfdm9pZF9tZXRob2Q6TnMsX2VtdmFsX2RlY3JlZjp3cixfZW12YWxfZ2V0X21ldGhvZF9jYWxsZXI6QnMsX2VtdmFsX2dldF9tb2R1bGVfcHJvcGVydHk6enMsX2VtdmFsX2dldF9wcm9wZXJ0eTpWcyxfZW12YWxfaW5jcmVmOldzLF9lbXZhbF9pc19udW1iZXI6VXMsX2VtdmFsX25ld19jc3RyaW5nOkdzLF9lbXZhbF9ydW5fZGVzdHJ1Y3RvcnM6S3MsX2VtdmFsX3NldF9wcm9wZXJ0eTpYcyxfZW12YWxfdGFrZV92YWx1ZTpZcyxfZ210aW1lX2pzOlpzLF9sb2NhbHRpbWVfanM6UXMsX21rdGltZV9qczpKcyxfbW1hcF9qczpxcyxfbXVubWFwX2pzOmV1LF90enNldF9qczp0dSxhYm9ydDpydSxhbEJ1ZmZlckRhdGE6dXUsYWxEZWxldGVCdWZmZXJzOmN1LGFsRGVsZXRlU291cmNlczpsdSxhbEdlbkJ1ZmZlcnM6ZnUsYWxHZW5Tb3VyY2VzOmR1LGFsR2V0RXJyb3I6bXUsYWxHZXRTb3VyY2VpOnB1LGFsR2V0U3RyaW5nOmh1LGFsU291cmNlUGF1c2U6Z3UsYWxTb3VyY2VQbGF5Onl1LGFsU291cmNlU3RvcDp2dSxhbFNvdXJjZWY6YnUsYWxTb3VyY2VpOktuLGFsY0Nsb3NlRGV2aWNlOl91LGFsY0NyZWF0ZUNvbnRleHQ6d3UsYWxjRGVzdHJveUNvbnRleHQ6eHUsYWxjR2V0RXJyb3I6U3UsYWxjR2V0U3RyaW5nOlR1LGFsY01ha2VDb250ZXh0Q3VycmVudDpDdSxhbGNPcGVuRGV2aWNlOmt1LGNyZWF0ZV92aWRlbzpKaSxkZWxldGVfdmlkZW86cWksZW1zY3JpcHRlbl9kYXRlX25vdzpQdSxlbXNjcmlwdGVuX2dldF9oZWFwX21heDpEdSxlbXNjcmlwdGVuX2dldF9ub3c6enQsZW1zY3JpcHRlbl9tZW1jcHlfYmlnOkZ1LGVtc2NyaXB0ZW5fcmVzaXplX2hlYXA6THUsZW52aXJvbl9nZXQ6anUsZW52aXJvbl9zaXplc19nZXQ6SXUsZXhpdDppdSxmZF9jbG9zZTpOdSxmZF9mZHN0YXRfZ2V0Ok91LGZkX3JlYWQ6enUsZmRfc2VlazpWdSxmZF9zeW5jOld1LGZkX3dyaXRlOkd1LGdldF9jYW1lcmFfdGV4dHVyZTpIaSxnZXRfY3VycmVudF9ob3N0bmFtZTpRaSxnZXRhZGRyaW5mbzpZdSxnZXRlbnRyb3B5Old0LGdsQWN0aXZlVGV4dHVyZTplYyxnbEF0dGFjaFNoYWRlcjp0YyxnbEJpbmRCdWZmZXI6cmMsZ2xCaW5kQnVmZmVyUmFuZ2U6bmMsZ2xCaW5kRnJhbWVidWZmZXI6YWMsZ2xCaW5kUmVuZGVyYnVmZmVyOmljLGdsQmluZFRleHR1cmU6b2MsZ2xCaW5kVmVydGV4QXJyYXk6c2MsZ2xCbGVuZEVxdWF0aW9uOnVjLGdsQmxlbmRGdW5jOmNjLGdsQmxlbmRGdW5jU2VwYXJhdGU6bGMsZ2xCbGl0RnJhbWVidWZmZXI6ZmMsZ2xCdWZmZXJEYXRhOmRjLGdsQnVmZmVyU3ViRGF0YTptYyxnbENsZWFyQnVmZmVyZnY6cGMsZ2xDb2xvck1hc2s6aGMsZ2xDb21waWxlU2hhZGVyOmdjLGdsQ29tcHJlc3NlZFRleEltYWdlMkQ6eWMsZ2xDb21wcmVzc2VkVGV4SW1hZ2UzRDp2YyxnbENvcHlUZXhTdWJJbWFnZTJEOmJjLGdsQ3JlYXRlUHJvZ3JhbTpfYyxnbENyZWF0ZVNoYWRlcjpFYyxnbERlbGV0ZUJ1ZmZlcnM6d2MsZ2xEZWxldGVGcmFtZWJ1ZmZlcnM6eGMsZ2xEZWxldGVQcm9ncmFtOlNjLGdsRGVsZXRlUmVuZGVyYnVmZmVyczpUYyxnbERlbGV0ZVNoYWRlcjpDYyxnbERlbGV0ZVRleHR1cmVzOmtjLGdsRGVsZXRlVmVydGV4QXJyYXlzOlBjLGdsRGVwdGhGdW5jOkRjLGdsRGVwdGhNYXNrOkZjLGdsRGlzYWJsZTpNYyxnbERyYXdBcnJheXM6TGMsZ2xEcmF3QXJyYXlzSW5zdGFuY2VkOlJjLGdsRHJhd0J1ZmZlcnM6QWMsZ2xEcmF3RWxlbWVudHM6amMsZ2xEcmF3RWxlbWVudHNJbnN0YW5jZWQ6SWMsZ2xFbmFibGU6TmMsZ2xFbmFibGVWZXJ0ZXhBdHRyaWJBcnJheTpPYyxnbEZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyOkJjLGdsRnJhbWVidWZmZXJUZXh0dXJlMkQ6emMsZ2xGcm9udEZhY2U6VmMsZ2xHZW5CdWZmZXJzOldjLGdsR2VuRnJhbWVidWZmZXJzOlVjLGdsR2VuUmVuZGVyYnVmZmVyczpHYyxnbEdlblRleHR1cmVzOktjLGdsR2VuVmVydGV4QXJyYXlzOlhjLGdsR2VuZXJhdGVNaXBtYXA6WWMsZ2xHZXRFcnJvcjpaYyxnbEdldEludGVnZXJ2OlFjLGdsR2V0UHJvZ3JhbUluZm9Mb2c6SmMsZ2xHZXRQcm9ncmFtaXY6cWMsZ2xHZXRTaGFkZXJJbmZvTG9nOmVsLGdsR2V0U2hhZGVyaXY6dGwsZ2xHZXRVbmlmb3JtTG9jYXRpb246bmwsZ2xJbnZhbGlkYXRlRnJhbWVidWZmZXI6YWwsZ2xMaW5rUHJvZ3JhbTppbCxnbFBpeGVsU3RvcmVpOm9sLGdsUmVhZFBpeGVsczpjbCxnbFJlbmRlcmJ1ZmZlclN0b3JhZ2U6bGwsZ2xSZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU6ZmwsZ2xTaGFkZXJTb3VyY2U6ZGwsZ2xUZXhJbWFnZTJEOm1sLGdsVGV4SW1hZ2UzRDpwbCxnbFRleFBhcmFtZXRlcmk6aGwsZ2xUZXhTdG9yYWdlMkQ6Z2wsZ2xUZXhTdG9yYWdlM0Q6eWwsZ2xUZXhTdWJJbWFnZTJEOnZsLGdsVGV4U3ViSW1hZ2UzRDpibCxnbFVuaWZvcm0xZjpfbCxnbFVuaWZvcm0xaTpFbCxnbFVuaWZvcm0xdWk6d2wsZ2xVbmlmb3JtMmY6eGwsZ2xVbmlmb3JtMmZ2OlNsLGdsVW5pZm9ybTRmdjpUbCxnbFVzZVByb2dyYW06Q2wsZ2xWZXJ0ZXhBdHRyaWJJUG9pbnRlcjprbCxnbFZlcnRleEF0dHJpYlBvaW50ZXI6UGwsZ2xWaWV3cG9ydDpEbCxpc19lbGVjdHJvbjokaSxzdHJmdGltZTpKbixzdHJmdGltZV9sOlJsfTtaaSgpLGkuX19fd2FzbV9jYWxsX2N0b3JzPWZ1bmN0aW9uKCl7cmV0dXJuKGkuX19fd2FzbV9jYWxsX2N0b3JzPWkuYXNtLl9fd2FzbV9jYWxsX2N0b3JzKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3ZhciBGZT1pLl9tYWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4oRmU9aS5fbWFsbG9jPWkuYXNtLm1hbGxvYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0YT1pLl9fX2Vycm5vX2xvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuKHRhPWkuX19fZXJybm9fbG9jYXRpb249aS5hc20uX19lcnJub19sb2NhdGlvbikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTZT1pLl9mcmVlPWZ1bmN0aW9uKCl7cmV0dXJuKFNlPWkuX2ZyZWU9aS5hc20uZnJlZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxyYT1pLl9fX2dldFR5cGVOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuKHJhPWkuX19fZ2V0VHlwZU5hbWU9aS5hc20uX19nZXRUeXBlTmFtZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTtpLl9fZW1iaW5kX2luaXRpYWxpemVfYmluZGluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4oaS5fX2VtYmluZF9pbml0aWFsaXplX2JpbmRpbmdzPWkuYXNtLl9lbWJpbmRfaW5pdGlhbGl6ZV9iaW5kaW5ncykuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgS3Q9aS5faHRvbmw9ZnVuY3Rpb24oKXtyZXR1cm4oS3Q9aS5faHRvbmw9aS5hc20uaHRvbmwpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWHQ9aS5faHRvbnM9ZnVuY3Rpb24oKXtyZXR1cm4oWHQ9aS5faHRvbnM9aS5hc20uaHRvbnMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbmE9aS5fZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduPWZ1bmN0aW9uKCl7cmV0dXJuKG5hPWkuX2Vtc2NyaXB0ZW5fYnVpbHRpbl9tZW1hbGlnbj1pLmFzbS5lbXNjcmlwdGVuX2J1aWx0aW5fbWVtYWxpZ24pLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYWE9aS5fbnRvaHM9ZnVuY3Rpb24oKXtyZXR1cm4oYWE9aS5fbnRvaHM9aS5hc20ubnRvaHMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saWE9aS5fX19jeGFfaXNfcG9pbnRlcl90eXBlPWZ1bmN0aW9uKCl7cmV0dXJuKGlhPWkuX19fY3hhX2lzX3BvaW50ZXJfdHlwZT1pLmFzbS5fX2N4YV9pc19wb2ludGVyX3R5cGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX07aS5keW5DYWxsX2ppaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfamlpPWkuYXNtLmR5bkNhbGxfamlpKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9qaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9qaWlpPWkuYXNtLmR5bkNhbGxfamlpaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfdmlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3ZpaWlqPWkuYXNtLmR5bkNhbGxfdmlpaWopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWpqaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWlqamlpaT1pLmFzbS5keW5DYWxsX3ZpaWpqaWlpKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlpamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpaWlqaT1pLmFzbS5keW5DYWxsX2lpaWlqaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfaWlpaWppaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfaWlpaWppaT1pLmFzbS5keW5DYWxsX2lpaWlqaWkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpampqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWpqaj1pLmFzbS5keW5DYWxsX2lpampqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF92aWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWlqPWkuYXNtLmR5bkNhbGxfdmlpaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2ppPWkuYXNtLmR5bkNhbGxfamkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpZmZqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWZmaj1pLmFzbS5keW5DYWxsX2lpZmZqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF92aWpqaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWpqaWlpPWkuYXNtLmR5bkNhbGxfdmlqamlpaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfdmlpaWppPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWlpamk9aS5hc20uZHluQ2FsbF92aWlpamkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWlqaWk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3ZpaWlqaWk9aS5hc20uZHluQ2FsbF92aWlpamlpKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF92aWo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3Zpaj1pLmFzbS5keW5DYWxsX3ZpaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfaWlpaWlpaj1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfaWlpaWlpaj1pLmFzbS5keW5DYWxsX2lpaWlpaWopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWpqaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfdmlpamppPWkuYXNtLmR5bkNhbGxfdmlpamppKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF92aWlpaWo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3ZpaWlpaj1pLmFzbS5keW5DYWxsX3ZpaWlpaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfdmlqaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfdmlqaT1pLmFzbS5keW5DYWxsX3ZpamkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWlpamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3ZpaWlpamk9aS5hc20uZHluQ2FsbF92aWlpaWppKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlqaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfaWlpamk9aS5hc20uZHluQ2FsbF9paWlqaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfamlqamlpaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfamlqamlpaT1pLmFzbS5keW5DYWxsX2ppamppaWkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2ppamlpaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfamlqaWlpPWkuYXNtLmR5bkNhbGxfamlqaWlpKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9qaWppaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9qaWppaWlpPWkuYXNtLmR5bkNhbGxfamlqaWlpaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfamlqaWk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2ppamlpPWkuYXNtLmR5bkNhbGxfamlqaWkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2ppamlpaWlpaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfamlqaWlpaWlpPWkuYXNtLmR5bkNhbGxfamlqaWlpaWlpKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9qaWpqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9qaWpqPWkuYXNtLmR5bkNhbGxfamlqaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfaWlqaWpqamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpamlqamppPWkuYXNtLmR5bkNhbGxfaWlqaWpqamkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpaWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWlpaj1pLmFzbS5keW5DYWxsX2lpaWlqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWppPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWppPWkuYXNtLmR5bkNhbGxfaWlqaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfamlqaWo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2ppamlqPWkuYXNtLmR5bkNhbGxfamlqaWopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpamlqamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpamlqamk9aS5hc20uZHluQ2FsbF9paWppamppKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9qaWo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2ppaj1pLmFzbS5keW5DYWxsX2ppaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfamlqaT1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfamlqaT1pLmFzbS5keW5DYWxsX2ppamkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWlqaj1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfdmlpaWpqPWkuYXNtLmR5bkNhbGxfdmlpaWpqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWlqPWkuYXNtLmR5bkNhbGxfaWlpaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfaWlqaWk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpamlpPWkuYXNtLmR5bkNhbGxfaWlqaWkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpaWppamk9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpaWppamk9aS5hc20uZHluQ2FsbF9paWlqaWppKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlqaWlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWlqaWlpPWkuYXNtLmR5bkNhbGxfaWlpamlpaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfdmlpamlpPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWlqaWk9aS5hc20uZHluQ2FsbF92aWlqaWkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2lpaWlpaj1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfaWlpaWlqPWkuYXNtLmR5bkNhbGxfaWlpaWlqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlpaWpqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF9paWlpaWpqPWkuYXNtLmR5bkNhbGxfaWlpaWlqaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfaWlpaWlpamo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpaWlpaWpqPWkuYXNtLmR5bkNhbGxfaWlpaWlpamopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX2pqaj1mdW5jdGlvbigpe3JldHVybihpLmR5bkNhbGxfampqPWkuYXNtLmR5bkNhbGxfampqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuZHluQ2FsbF9paWlpamo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX2lpaWlqaj1pLmFzbS5keW5DYWxsX2lpaWlqaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpLmR5bkNhbGxfdmlpamo9ZnVuY3Rpb24oKXtyZXR1cm4oaS5keW5DYWxsX3ZpaWpqPWkuYXNtLmR5bkNhbGxfdmlpamopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saS5keW5DYWxsX3ZpaWlqampqPWZ1bmN0aW9uKCl7cmV0dXJuKGkuZHluQ2FsbF92aWlpampqaj1pLmFzbS5keW5DYWxsX3ZpaWlqampqKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGkuX19fc3RhcnRfZW1fanM9MTIzMzE2NCxpLl9fX3N0b3BfZW1fanM9MTIzNDc4MyxpLmFkZFJ1bkRlcGVuZGVuY3k9VHQsaS5yZW1vdmVSdW5EZXBlbmRlbmN5PXV0LGkuRlNfY3JlYXRlUGF0aD1zLmNyZWF0ZVBhdGgsaS5GU19jcmVhdGVEYXRhRmlsZT1zLmNyZWF0ZURhdGFGaWxlLGkuRlNfY3JlYXRlUHJlbG9hZGVkRmlsZT1zLmNyZWF0ZVByZWxvYWRlZEZpbGUsaS5GU19jcmVhdGVMYXp5RmlsZT1zLmNyZWF0ZUxhenlGaWxlLGkuRlNfY3JlYXRlRGV2aWNlPXMuY3JlYXRlRGV2aWNlLGkuRlNfdW5saW5rPXMudW5saW5rLGkuRlM9cyxpLkdMPUM7dmFyIFl0O3N0PWZ1bmN0aW9uIGUoKXtZdHx8b2EoKSxZdHx8KHN0PWUpfTtmdW5jdGlvbiBvYShlKXtpZihCZT4wfHwoemkoKSxCZT4wKSlyZXR1cm47ZnVuY3Rpb24gdCgpe1l0fHwoWXQ9ITAsaS5jYWxsZWRSdW49ITAsIWxlJiYoVmkoKSxtKGkpLGkub25SdW50aW1lSW5pdGlhbGl6ZWQmJmkub25SdW50aW1lSW5pdGlhbGl6ZWQoKSxXaSgpKSl9aS5zZXRTdGF0dXM/KGkuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnNldFN0YXR1cygiIil9LDEpLHQoKX0sMSkpOnQoKX1pZihpLnByZUluaXQpZm9yKHR5cGVvZiBpLnByZUluaXQ9PSJmdW5jdGlvbiImJihpLnByZUluaXQ9W2kucHJlSW5pdF0pO2kucHJlSW5pdC5sZW5ndGg+MDspaS5wcmVJbml0LnBvcCgpKCk7cmV0dXJuIG9hKCksWG49ZnVuY3Rpb24oKXt9LGkucmVhZHl9fSkoKSxlaT1xYTtjb25zdCB0aT0oKT0+e2NvbnN0IGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGQuc3R5bGUubWF4V2lkdGg9IjEwMCUiLGQuc3R5bGUub2JqZWN0Rml0PSJjb3ZlciIsZH0scmk9YXN5bmMoKT0+V2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNSwxLDk2LDAsMSwxMjMsMywyLDEsMCwxMCwxMCwxLDgsMCw2NSwwLDI1MywxNSwyNTMsOTgsMTFdKSksbmk9ZD0+KGQhPT0iIiYmIWQuZW5kc1dpdGgoIi8iKSYmKGQrPSIvIiksZj0+ZCtmKSxhaT1kPT5mPT5kW2ZdLGlpPWFzeW5jKGQsZj17fSk9Pnt2YXIgbSx2LFMsUDtpZihhd2FpdCByaSgpKShtPWYuaW5mbyk9PW51bGx8fG0uY2FsbChmLCdUaGUgcGxhdGZvcm0gc3VwcG9ydHMgU0lNRC4gR29pbmcgdG8gdXNlICJCYW51YmFTREsuc2ltZC53YXNtIicpO2Vsc2UgcmV0dXJuKHY9Zi5pbmZvKT09bnVsbHx8di5jYWxsKGYsJ1RoZSBwbGF0Zm9ybSBkb2VzIG5vdCBzdXBwb3J0IFNJTUQuIFVzaW5nICJCYW51YmFTREsud2FzbSInKSxkO2NvbnN0IGk9ZCgiQmFudWJhU0RLLnNpbWQud2FzbSIpO3JldHVybiBpP2F3YWl0IGZldGNoKGkse21ldGhvZDoiSEVBRCJ9KS50aGVuKGs9Pmsub2spP2s9Pntjb25zdFtMLE1dPWsuc3BsaXQoIi4iKTtpZihNIT09Indhc20iKXJldHVybiBkKGspO2NvbnN0IE89W0wsInNpbWQiLE1dLmpvaW4oIi4iKTtyZXR1cm4gZChPKX06KChTPWYud2Fybik9PW51bGx8fFMuY2FsbChmLGBVbmFibGUgdG8gZmV0Y2ggIkJhbnViYVNESy5zaW1kLndhc20iIGZyb20gdGhlICIke2l9Ii4gVXNpbmcgIkJhbnViYVNESy53YXNtIiBhcyBhIGZhbGxiYWNrYCksZCk6KChQPWYud2Fybik9PW51bGx8fFAuY2FsbChmLCciQmFudWJhU0RLLnNpbWQud2FzbSIgaXMgbWlzc2luZyBpbiB0aGUgImxvY2F0ZUZpbGUiIG9wdGlvbi4gVXNpbmcgIkJhbnViYVNESy53YXNtIiBhcyBhIGZhbGxiYWNrJyksZCl9LG9pPSgoKT0+e3RyeXtyZXR1cm4gbmV3IFVSTCgiLiIsZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmN8fG5ldyBVUkwoImFzc2V0cy9vZmZzY3JlZW4tcGxheWVyLndvcmtlci5jOTZiNWZkZi5qcyIsZG9jdW1lbnQuYmFzZVVSSSkuaHJlZikudG9TdHJpbmcoKX1jYXRjaHtyZXR1cm4iIn19KSgpLHNpPWFzeW5jKGQsZik9Pih0eXBlb2YgZD4idSImJihkPW9pKSx0eXBlb2YgZD09InN0cmluZyImJihkPW5pKGQpKSx0eXBlb2YgZD09Im9iamVjdCImJihkPWFpKGQpKSxkPWF3YWl0IGlpKGQsZiksZCk7dmFyIHR0PShkPT4oZC5FUlJPUj0iZXJyb3IiLGQuV0FSTklORz0id2FybiIsZC5JTkZPPSJpbmZvIixkLkRFQlVHPSJkZWJ1ZyIsZCkpKHR0fHx7fSk7ZnVuY3Rpb24gdWkoZCl7dmFyIG07Y29uc3QgZj0obT1PYmplY3Qua2V5cyh0dCkucmV2ZXJzZSgpLmZpbmQodj0+dHlwZW9mIGRbdHRbdl1dPT0iZnVuY3Rpb24iKSkhPW51bGw/bToiRVJST1IiLGk9dj0+e2Zvcihjb25zdCBQIGluIHR0KWlmKHYuaW5jbHVkZXMoUCkpe2NvbnN0IGs9ZFt0dFtQXV07aWYodHlwZW9mIGs9PSJmdW5jdGlvbiIpe2suY2FsbChkLHYpO3JldHVybn19Y29uc3QgUz1kLmRlYnVnO3R5cGVvZiBTPT0iZnVuY3Rpb24iJiZTLmNhbGwoZCx2KX07cmV0dXJue2xvZ0xldmVsOmYscHJpbnQ6aSxwcmludEVycjppfX1jb25zdCBjaT1bImlzQWxpYXNPZiIsImNsb25lIiwiZGVsZXRlIiwiaXNEZWxldGVkIiwiZGVsZXRlTGF0ZXIiXSxsaT1bInNpemUiLCJnZXQiLCJzZXQiLCJwdXNoX2JhY2siXSxvbj1kPT57aWYoZD09bnVsbHx8dHlwZW9mIGQhPSJmdW5jdGlvbiIpcmV0dXJuITE7Y29uc3R7cHJvdG90eXBlOmZ9PWQ7cmV0dXJuIGY/Y2kuZXZlcnkoaT0+aSBpbiBmKTohMX0sc249ZD0+ZD09bnVsbHx8dHlwZW9mIGQhPSJvYmplY3QiPyExOm9uKGQuY29uc3RydWN0b3IpLHVuPWQ9PnNuKGQpJiZsaS5ldmVyeShmPT5mIGluIGQpLGZpPShkLGYpPT5uZXcgUHJveHkoZCx7Z2V0KGksbSl7Y29uc3Qgdj1pW21dO3JldHVybiB0eXBlb2Ygdj09ImZ1bmN0aW9uIj9jbih2LGYpOnZ9fSksY249KGQsZik9Pm5ldyBQcm94eShkLHthcHBseShpLG0sdil7dHJ5e2NvbnN0IFM9aS5hcHBseShtLHYpO3JldHVybiBzbihTKT9maShTLGYpOlN9Y2F0Y2goUyl7dGhyb3cgdHlwZW9mIFM9PSJudW1iZXIiJiYoUz1uZXcgRXJyb3IoZihTKSkpLFN9fX0pLGRpPShkLGYpPT5uZXcgUHJveHkoZCx7Y29uc3RydWN0KGksbSl7dHJ5e3JldHVybiBuZXcgaSguLi5tKX1jYXRjaCh2KXt0aHJvdyB0eXBlb2Ygdj09Im51bWJlciImJih2PW5ldyBFcnJvcihmKHYpKSksdn19LGdldChpLG0pe2NvbnN0IHY9aVttXTtyZXR1cm4gdHlwZW9mIHY9PSJmdW5jdGlvbiI/Y24odixmKTp2fX0pLG1pPShkLGYpPT57Zm9yKGNvbnN0W2ksbV1vZiBPYmplY3QuZW50cmllcyhkKSlvbihtKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsaSx7dmFsdWU6ZGkobSxmKX0pfSxwaT0icmVjb2duaXplcl9mZWF0dXJlc191cGRhdGUiO2FzeW5jIGZ1bmN0aW9uIGhpKHtjbGllbnRUb2tlbjpkLGxvY2F0ZUZpbGU6ZixjYW52YXM6aT10aSgpLGxvZ2dlcjptPXt3YXJuOmNvbnNvbGUud2FybixlcnJvcjpjb25zb2xlLmVycm9yfSwuLi52fSl7dmFyIE87Y29uc3QgUz1hd2FpdCBzaShmLG0pLHtsb2dMZXZlbDpQLHByaW50OmsscHJpbnRFcnI6TH09dWkobSksTT1hd2FpdCBuZXcgUHJvbWlzZSgoVyxaKT0+ZWkoe2xvY2F0ZUZpbGU6UyxwcmludDprLHByaW50RXJyOkwsb25BYm9ydDphZT0+e2FlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuQ29tcGlsZUVycm9yJiZaKG5ldyBFcnJvcihgRmFpbGVkIHRvIGNvbXBpbGUgIkJhbnViYVNESy53YXNtIjogdGhlIGZpbGUgIiR7UygiQmFudWJhU0RLLndhc20iKX0iIGlzIGludmFsaWQuIFRoaXMgZXJyb3IgaXMgdXN1YWxseSBjYXVzZWQgYnkgbWlzY29uZmlndXJlZCAibG9jYXRlRmlsZSIgb3B0aW9uLCBzZWUgaHR0cHM6Ly9kb2NzLmJhbnViYS5jb20vZmFjZS1hci1zZGstdjEvZ2VuZXJhdGVkL3R5cGVkb2MvbW9kdWxlcy5odG1sI1NES09wdGlvbnMuIE9yaWdpbmFsIEVycm9yOiBgK2FlKSl9LC4uLnZ9KS50aGVuKFcsWikpO3JldHVybiBtaShNLFc9Pk0uZ2V0RXhjZXB0aW9uTWVzc2FnZShXKSksTS5VdGlsaXR5TWFuYWdlci5pbml0aWFsaXplKG5ldyBNLlZlY3RvclN0cmluZyxkKSxNLlV0aWxpdHlNYW5hZ2VyLnNldExvZ0xldmVsKE0uU2V2ZXJpdHlMZXZlbFtQXSksTS5zZXRDYW52YXNTaXplPShXLFopPT57T2JqZWN0LmFzc2lnbihpLHt3aWR0aDpXLGhlaWdodDpafSl9LE0uY3JlYXRlQ29udGV4dChpLCEwLCEwLHthbHBoYTohMCxhbnRpYWxpYXM6ITEsZGVwdGg6ITEscHJlbXVsdGlwbGllZEFscGhhOiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMCxzdGVuY2lsOiExfSksTS5jYW52YXM9aSx0eXBlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dD4idSImJihbIldFQkdMX2RlcHRoX3RleHR1cmUiLCJBTkdMRV9kZXB0aF90ZXh0dXJlIiwiR0xfQU5HTEVfZGVwdGhfdGV4dHVyZSIsIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiXS5ldmVyeShXPT57dmFyIFo7cmV0dXJuKFo9TS5jYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKSk9PW51bGw/dm9pZCAwOlouZ2V0RXh0ZW5zaW9uKFcpfSl8fCgoTz1tLndhcm4pPT1udWxsfHxPLmNhbGwobSwiRGVwdGggdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gdGhlIGN1cnJlbnQgZGV2aWNlLiIpKSksTX1jb25zdCBsbj0oZCxmPWk9PmNvbnNvbGUud2FybihpKSk9PmZ1bmN0aW9uKGksbSx2KXtjb25zdCBTPXYudmFsdWU7aWYodHlwZW9mIFMhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiT25seSBmdW5jdGlvbnMgY2FuIGJlIG1hcmtlZCBhcyBkZXByZWNhdGVkIik7cmV0dXJuey4uLnYsdmFsdWU6ZnVuY3Rpb24oLi4uUCl7cmV0dXJuIGYuY2FsbCh0aGlzLGBERVBSRUNBVElPTjogJHtpLmNvbnN0cnVjdG9yLm5hbWV9LiR7bX0oKSBpcyBkZXByZWNhdGVkLiAke2R9YCksUy5jYWxsKHRoaXMsLi4uUCl9fX0sZm49bmV3IE1hcCxnaT0oZCxmLGkpPT5kKigxLWkpK2YqaSxzcj1kPT5gd2ViYXI6OiR7ZH06c3RhcnRgLHVyPWQ9PmB3ZWJhcjo6JHtkfTplbmRgLGNyPWQ9PntwZXJmb3JtYW5jZS5tYXJrKHNyKGQpKX0sbHI9ZD0+e3BlcmZvcm1hbmNlLm1hcmsodXIoZCkpO2xldCBmPXBlcmZvcm1hbmNlLm1lYXN1cmUoZCxzcihkKSx1cihkKSk7Znx8KGY9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShkKVswXSkscGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhzcihkKSkscGVyZm9ybWFuY2UuY2xlYXJNYXJrcyh1cihkKSkscGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhkKTtjb25zdHtkdXJhdGlvbjppfT1mO2xldHthdmVyYWdlZER1cmF0aW9uOm09MH09Zm4uZ2V0KGQpfHx7fTtyZXR1cm4gbT1naShtLGksLjA1KSxmbi5zZXQoZCx7YXZlcmFnZWREdXJhdGlvbjptfSkse2luc3RhbnREdXJhdGlvbjppLGF2ZXJhZ2VkRHVyYXRpb246bX19LEFlPWNsYXNzIGV4dGVuZHMgWGV7Y29uc3RydWN0b3Ioe2FsbG9jYXRvcjppLHJlbGVhc2VyOm19KXtzdXBlcigpO0EodGhpcywiX2NvbnZleWVyIixuZXcgZmUpO0EodGhpcywiX2FsbG9jYXRvciIpO0EodGhpcywiX3JlbGVhc2VyIik7QSh0aGlzLCJfZnJhbWVzIixhc3luYyBmdW5jdGlvbiooKXt9KCkpO0EodGhpcywiX3N0YXRlIiwicGF1c2VkIik7QSh0aGlzLCJfZnBzIiwzMCk7dGhpcy5fYWxsb2NhdG9yPWksdGhpcy5fcmVsZWFzZXI9bSx0aGlzLl9jb252ZXllci5hZGRFdmVudExpc3RlbmVyKGZlLkRJU0NBUkRFRF9FVkVOVCwoe2RldGFpbDp2fSk9PnRoaXMuX3JlbGVhc2VyKHYuZGF0YSkpfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy5fc3RhdGUhPT0icGF1c2VkIn1wdXQoaSxtKXt0aGlzLl9mcmFtZXM9aVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oe2FsbG9jYXRlOnRoaXMuX2FsbG9jYXRvciwuLi5tfSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChBZS5TT1VSQ0VfQ0hBTkdFRF9FVkVOVCkpfXJ1bih7ZnBzOmk9dGhpcy5fZnBzfT17fSl7dGhpcy5fZnBzPWksdGhpcy5fc3RhdGUhPT0icnVubmluZyImJih0aGlzLl9zdGF0ZT0icnVubmluZyIsKGFzeW5jKCk9Pntmb3IoOzspe2NvbnN0IG09dGhpcy5fZnJhbWVzO2NyKEFlLkZSQU1FX1JFQ0VJVkVEX0VWRU5UKTtjb25zdHtkb25lOnYsdmFsdWU6U309YXdhaXQgdGhpcy5fZnJhbWVzLm5leHQodGhpcy5fZnBzKSxQPWxyKEFlLkZSQU1FX1JFQ0VJVkVEX0VWRU5UKTtpZih2KXJldHVybiB0aGlzLl9zdGF0ZT0icGF1c2VkIix0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KEFlLkVOREVEX0VWRU5UKSk7aWYodGhpcy5fc3RhdGU9PT0icGF1c2VkIilyZXR1cm4gdGhpcy5fcmVsZWFzZXIoUy5kYXRhKTtpZihtIT09dGhpcy5fZnJhbWVzKXt0aGlzLl9yZWxlYXNlcihTLmRhdGEpO2NvbnRpbnVlfXRoaXMuX2NvbnZleWVyLnB1dChTKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KEFlLkZSQU1FX1JFQ0VJVkVEX0VWRU5ULHtkZXRhaWw6UH0pKX19KSgpKX1wYXVzZSgpe3RoaXMuX3N0YXRlPSJwYXVzZWQifXRha2UoKXtyZXR1cm4gdGhpcy5fY29udmV5ZXIudGFrZSgpfX07bGV0IGRlPUFlO0EoZGUsIkZSQU1FX1JFQ0VJVkVEX0VWRU5UIiwiZnJhbWVyZWNlaXZlZCIpLEEoZGUsIlNPVVJDRV9DSEFOR0VEX0VWRU5UIiwic291cmNlY2hhbmdlZCIpLEEoZGUsIkVOREVEX0VWRU5UIiwiZW5kZWQiKTtjb25zdCBudD1jbGFzcyBleHRlbmRzIFhle2NvbnN0cnVjdG9yKGkpe3N1cGVyKCk7QSh0aGlzLCJfZG9Qcm9jZXNzIik7QSh0aGlzLCJfY29udmV5ZXIiLG5ldyBmZSk7dGhpcy5fZG9Qcm9jZXNzPWksdGhpcy5fY29udmV5ZXIuYWRkRXZlbnRMaXN0ZW5lcihmZS5ESVNDQVJERURfRVZFTlQsKHtkZXRhaWw6bX0pPT5tLmRhdGEuZGVsZXRlKCkpfXB1dChpKXtjcihudC5GUkFNRV9QUk9DRVNTRURfRVZFTlQpO2NvbnN0IG09dGhpcy5fZG9Qcm9jZXNzKGkpLHY9bHIobnQuRlJBTUVfUFJPQ0VTU0VEX0VWRU5UKTt0aGlzLl9jb252ZXllci5wdXQobSksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChudC5GUkFNRV9QUk9DRVNTRURfRVZFTlQse2RldGFpbDp2fSkpfXRha2UoKXtyZXR1cm4gdGhpcy5fY29udmV5ZXIudGFrZSgpfX07bGV0IFJlPW50O0EoUmUsIkZSQU1FX1BST0NFU1NFRF9FVkVOVCIsImZyYW1lcHJvY2Vzc2VkIik7Y29uc3QgYXQ9Y2xhc3MgZXh0ZW5kcyBYZXtjb25zdHJ1Y3RvcihpKXtzdXBlcigpO0EodGhpcywiX2RvRHJhdyIpO0EodGhpcywiX2NvbnZleWVyIixuZXcgZmUpO0EodGhpcywiX3N0YXRlIiwicGF1c2VkIik7QSh0aGlzLCJfZnBzIiwzMCk7dGhpcy5fZG9EcmF3PWksdGhpcy5fY29udmV5ZXIuYWRkRXZlbnRMaXN0ZW5lcihmZS5ESVNDQVJERURfRVZFTlQsKHtkZXRhaWw6bX0pPT5tLmRhdGEuZGVsZXRlKCkpfWdldCBpc1J1bm5pbmcoKXtyZXR1cm4gdGhpcy5fc3RhdGUhPT0icGF1c2VkIn1nZXQgaXNQYXVzaW5nKCl7cmV0dXJuIHRoaXMuX3N0YXRlPT09InBhdXNpbmcifWdldCBpc1BhdXNlZCgpe3JldHVybiB0aGlzLl9zdGF0ZT09PSJwYXVzZWQifXB1dChpKXt0aGlzLl9jb252ZXllci5wdXQoaSl9dGFrZSgpe3JldHVybiB0aGlzLl9jb252ZXllci50YWtlKCl9cnVuKHtmcHM6aT10aGlzLl9mcHN9PXt9KXtpZih0aGlzLl9mcHM9aSx0aGlzLl9zdGF0ZT09PSJwYXVzaW5nIil0aGlzLl9zdGF0ZT0icnVubmluZyI7ZWxzZXtpZih0aGlzLl9zdGF0ZT09PSJydW5uaW5nIilyZXR1cm47dGhpcy5fc3RhdGU9InJ1bm5pbmcifShhc3luYygpPT57bGV0IG09MDtjb25zdCB2PVM9Pntjb25zdCBQPTFlMy90aGlzLl9mcHMsaz0uMSpQO2lmKFMtbTxQLWspe3FlKHYpO3JldHVybn1lbHNlIG09Uzt0aGlzLmRyYXcoKSx0aGlzLl9zdGF0ZT09PSJwYXVzaW5nIiYmKHRoaXMuX3N0YXRlPSJwYXVzZWQiKSx0aGlzLl9zdGF0ZSE9PSJwYXVzZWQiJiZxZSh2KX07cWUodil9KSgpfWFzeW5jIHBhdXNlKCl7Zm9yKHRoaXMuX3N0YXRlPSJwYXVzaW5nIjt0aGlzLl9zdGF0ZT09PSJwYXVzaW5nIjspYXdhaXQgbmV3IFByb21pc2UoaT0+cWUoaSkpO2lmKHRoaXMuX3N0YXRlIT09InBhdXNlZCIpdGhyb3cgbmV3IEVycm9yKCJUaGUgcGF1c2UgcmVxdWVzdCB3YXMgY2FuY2VsZWQiKX1kcmF3KCl7Y29uc3QgaT10aGlzLl9jb252ZXllci50YWtlKCk7aWYoIWkpcmV0dXJuO2NyKGF0LkZSQU1FX1JFTkRFUkVEX0VWRU5UKSx0aGlzLl9kb0RyYXcoaSk7Y29uc3QgbT1scihhdC5GUkFNRV9SRU5ERVJFRF9FVkVOVCk7dGhpcy5fY29udmV5ZXIucHV0KGkpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoYXQuRlJBTUVfUkVOREVSRURfRVZFTlQse2RldGFpbDptfSkpfX07bGV0IHJ0PWF0O0EocnQsIkZSQU1FX1JFTkRFUkVEX0VWRU5UIiwiZnJhbWVyZW5kZXJlZCIpO2NsYXNzIHlpe2NvbnN0cnVjdG9yKGYpe0EodGhpcywiX2J1ZmZlciIpO3RoaXMuX2J1ZmZlcj1uZXcgQXJyYXlCdWZmZXIoZil9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9Z2V0IGJ5dGVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGh9Z2V0IGJ5dGVPZmZzZXQoKXtyZXR1cm4gMH1zZXQoKXt9fWNsYXNzIHZpe2NvbnN0cnVjdG9yKGYpe0EodGhpcywicHRyIiwtMSk7QSh0aGlzLCJsZW5ndGgiKTtBKHRoaXMsImRhdGEiKTt0aGlzLmxlbmd0aD1mLHRoaXMuZGF0YT1uZXcgeWkoZil9fWNsYXNzIGJpe2NvbnN0cnVjdG9yKGYsaSxtKXt0aGlzLl9tb2R1bGU9Zix0aGlzLl9ieXRlT2Zmc2V0PWksdGhpcy5fYnl0ZUxlbmd0aD1tfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fbW9kdWxlLkhFQVBVOC5idWZmZXJ9Z2V0IGJ5dGVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fYnl0ZUxlbmd0aH1nZXQgYnl0ZU9mZnNldCgpe3JldHVybiB0aGlzLl9ieXRlT2Zmc2V0fXNldChmKXtyZXR1cm4gdGhpcy5fbW9kdWxlLkhFQVBVOC5zZXQoZix0aGlzLl9ieXRlT2Zmc2V0KX19Y2xhc3MgX2l7Y29uc3RydWN0b3IoZixpPTEpe0EodGhpcywiX21vZHVsZSIpO0EodGhpcywiX2ZyZWUiKTtBKHRoaXMsIl9pbnVzZSIsW10pO3RoaXMuX21vZHVsZT1mLHRoaXMuX2ZyZWU9bmV3IEFycmF5KGkpLmZpbGwobnVsbCkubWFwKCgpPT4oe3B0cjpOYU4sbGVuZ3RoOjB9KSl9YWxsb2NhdGUoZil7Y29uc3QgaT10aGlzLl9mcmVlLnNoaWZ0KCk7aWYoaSl0aGlzLl9pbnVzZS5wdXNoKGkpO2Vsc2UgcmV0dXJuIG51bGw7cmV0dXJuIGkubGVuZ3RoIT09ZiYmKGlzTmFOKGkucHRyKXx8dGhpcy5fbW9kdWxlLl9mcmVlKGkucHRyKSxpLnB0cj10aGlzLl9tb2R1bGUuX21hbGxvYyhmKSxpLmxlbmd0aD1mLGkuZGF0YT1uZXcgYmkodGhpcy5fbW9kdWxlLGkucHRyLGkubGVuZ3RoKSksaX1yZWxlYXNlKGYpe2xldCBpO2RvKGk9dGhpcy5faW51c2Uuc2hpZnQoKSkmJnRoaXMuX2ZyZWUucHVzaChpKTt3aGlsZShpJiZpLnB0ciE9PWYpfXJlc2V0KCl7dGhpcy5fZnJlZS5wdXNoKC4uLnRoaXMuX2ludXNlLnNwbGljZSgwLHRoaXMuX2ludXNlLmxlbmd0aCkpLHRoaXMuX2ZyZWUuZm9yRWFjaChmPT57aXNOYU4oZi5wdHIpfHx0aGlzLl9tb2R1bGUuX2ZyZWUoZi5wdHIpLGYucHRyPU5hTixmLmxlbmd0aD0wfSl9fWNvbnN0IEVpPSh7RlM6ZH0pPT57Y29uc3QgZj1pPT57dHJ5e3JldHVybiBkLmxzdGF0KGkpLCEwfWNhdGNoKG0pe2lmKG0uZXJybm89PT00NHx8bS5jb2RlPT09IkVOT0VOVCIpcmV0dXJuITE7dGhyb3cgbX19O3JldHVybnt3cml0ZUZpbGU6KGksbSk9Pntjb25zdCB2PWkuc3BsaXQoIi8iKTt2WzBdPT09IiImJnYuc2hpZnQoKSx2Lmxlbmd0aD4xJiZ2LnJlZHVjZSgoUyxQKT0+KGYoUyl8fGQubWtkaXIoUyksYCR7U30vJHtQfWApKSxkLndyaXRlRmlsZShpLG0pfX19O2NsYXNzIHdpe2NvbnN0cnVjdG9yKGYpe0EodGhpcywiX2ZkIik7QSh0aGlzLCJfY2FjaGUiLG5ldyBNYXApO3RoaXMuX2ZkPWZ9Z2V0KGYpe2lmKEFycmF5LmlzQXJyYXkoZikpcmV0dXJuIGYubWFwKFA9PnRoaXMuZ2V0KFApKTtjb25zdCBpPWYuc3BsaXQoIi4iKSxtPWkubGVuZ3RoO2xldCB2PW0sUz10aGlzLl9mZDtmb3IobGV0IFA9ITE7IVAmJnY+MDstLXYpe2NvbnN0IGs9aS5zbGljZSgwLHYpLmpvaW4oIi4iKTt0aGlzLl9jYWNoZS5oYXMoaykmJihQPSEwLFM9dGhpcy5fY2FjaGUuZ2V0KGspLCsrdil9Zm9yKDtTIT1udWxsJiZ2PG07Kyt2KXtjb25zdCBQPWlbdl07bGV0IGs9U1tQXTtpZih0eXBlb2Ygaz4idSIpe2NvbnN0IE09ImdldCIrUFswXS50b1VwcGVyQ2FzZSgpK1Auc2xpY2UoMSk7az1TW01dfWlmKHR5cGVvZiBrPiJ1IiYmdW4oUykpe2NvbnN0IE09cGFyc2VJbnQoUCk7aXNOYU4oTSl8fChrPVMuZ2V0KE0pKX1pZih0eXBlb2Ygaz09ImZ1bmN0aW9uIil0cnl7az1rLmFwcGx5KFMpfWNhdGNoe2s9dm9pZCAwfWNvbnN0IEw9aS5zbGljZSgwLHYrMSkuam9pbigiLiIpO2lmKGY9PT1MJiZ1bihrKSl7Y29uc3QgTT1rO2s9bmV3IEFycmF5KE0uc2l6ZSgpKTtmb3IobGV0IE89MCxXPU0uc2l6ZSgpO088VzsrK08pa1tPXT1NLmdldChPKX10aGlzLl9jYWNoZS5zZXQoTCxTPWspfXJldHVybiB2PT09bT9TOnZvaWQgMH19dmFyIHhpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFRpPShkLGYsaSxtKT0+e2Zvcih2YXIgdj1tPjE/dm9pZCAwOm0/U2koZixpKTpmLFM9ZC5sZW5ndGgtMSxQO1M+PTA7Uy0tKShQPWRbU10pJiYodj0obT9QKGYsaSx2KTpQKHYpKXx8dik7cmV0dXJuIG0mJnYmJnhpKGYsaSx2KSx2fTtjb25zdCBDaT17ZGV2aWNlUGl4ZWxSYXRpbzp0eXBlb2YgZGV2aWNlUGl4ZWxSYXRpbzwidSI/ZGV2aWNlUGl4ZWxSYXRpbzoxLGNhbWVyYU9yaWVudGF0aW9uOjAsbWF4RmFjZXM6MSxsb2dnZXI6Y29uc29sZX0sY2U9KGplPWNsYXNzIGV4dGVuZHMgWGV7Y29uc3RydWN0b3IoZixpPXt9KXtzdXBlcigpO0EodGhpcywiX3NkayIpO0EodGhpcywiX2ZzIik7QSh0aGlzLCJfcHJlZmVyZW5jZXMiKTtBKHRoaXMsIl9mcmFtZVNpemUiKTtBKHRoaXMsIl9tZW1vcnkiKTtBKHRoaXMsIl9yZWxlYXNlciIpO0EodGhpcywiX2VmZmVjdFBsYXllciIpO0EodGhpcywiX2VmZmVjdE1hbmFnZXIiKTtBKHRoaXMsIl9jYW1lcmEiKTtBKHRoaXMsIl9yZW5kZXJlciIpO3RoaXMuX3Nkaz1mLHRoaXMuX2ZzPUVpKHRoaXMuX3NkayksdGhpcy5fcHJlZmVyZW5jZXM9ey4uLkNpLGZwczozMCxwYXVzZU9uRW1wdHk6ITAsLi4uaX0sdGhpcy5fZnJhbWVTaXplPXt3aWR0aDpmLmNhbnZhcy53aWR0aCxoZWlnaHQ6Zi5jYW52YXMuaGVpZ2h0fSx0aGlzLl9tZW1vcnk9bmV3IF9pKHRoaXMuX3Nkayw0KSx0aGlzLl9yZWxlYXNlcj1rPT50aGlzLl9tZW1vcnkucmVsZWFzZShrKSx0aGlzLl9lZmZlY3RQbGF5ZXI9dGhpcy5fc2RrLkVmZmVjdFBsYXllci5jcmVhdGUodGhpcy5fc2RrLkVmZmVjdFBsYXllckNvbmZpZ3VyYXRpb24uY3JlYXRlKHRoaXMuX2ZyYW1lU2l6ZS53aWR0aCx0aGlzLl9mcmFtZVNpemUuaGVpZ2h0KSksdGhpcy5fZWZmZWN0UGxheWVyLnN1cmZhY2VDcmVhdGVkKHRoaXMuX2ZyYW1lU2l6ZS53aWR0aCx0aGlzLl9mcmFtZVNpemUuaGVpZ2h0KSx0aGlzLl9lZmZlY3RQbGF5ZXIuc2V0TWF4RmFjZXModGhpcy5fcHJlZmVyZW5jZXMubWF4RmFjZXMpLHRoaXMuX2VmZmVjdFBsYXllci5hZGRGcmFtZURhdGFMaXN0ZW5lcihrPT57dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChjZS5GUkFNRV9EQVRBX0VWRU5ULHtkZXRhaWw6bmV3IHdpKGspfSkpfSksdGhpcy5fZWZmZWN0TWFuYWdlcj10aGlzLl9lZmZlY3RQbGF5ZXIuZWZmZWN0TWFuYWdlcigpLHRoaXMuX2VmZmVjdE1hbmFnZXIuYWRkRWZmZWN0QWN0aXZhdGVkTGlzdGVuZXIoKCk9Pntjb25zdCBrPXRoaXMuX2VmZmVjdE1hbmFnZXIuY3VycmVudCgpO3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoY2UuRUZGRUNUX0FDVElWQVRFRF9FVkVOVCx7ZGV0YWlsOmt9KSl9KTtjb25zdCBtPXRoaXMuX2NhbWVyYT1uZXcgZGUoe2FsbG9jYXRvcjprPT4odGhpcy5fbWVtb3J5LmFsbG9jYXRlKGspfHxuZXcgdmkoaykpLmRhdGEscmVsZWFzZXI6az0+dGhpcy5fcmVsZWFzZXIoay5ieXRlT2Zmc2V0KX0pO2xldCB2PSExO2NvbnN0IFM9bmV3IFJlKGs9Pntjb25zdHt3aWR0aDpMLGhlaWdodDpNLGRhdGE6Tyxmb3JtYXQ6VyxpbnB1dDpaPSJzdGF0aWMifT1rLGFlPVo9PT0ic3RhdGljIixRPVo9PT0ic3RhdGljIj8zOjEsSD1PIGluc3RhbmNlb2YgdGhpcy5fc2RrLkZyYW1lRGF0YT9POnRoaXMuX3Nkay5GcmFtZURhdGEubWFrZUZyb21CcGM4KE8uYnl0ZU9mZnNldCx0aGlzLl9yZWxlYXNlcixMLE0sdGhpcy5fc2RrLkNhbWVyYU9yaWVudGF0aW9uW2BERUdfJHt0aGlzLl9wcmVmZXJlbmNlcy5jYW1lcmFPcmllbnRhdGlvbn1gXSx0aGlzLl9zZGsuUGl4ZWxGb3JtYXRbV10sITEsMCk7dnx8KHRoaXMuX2VmZmVjdFBsYXllci5zdGFydFZpZGVvUHJvY2Vzc2luZyhMLE0sdGhpcy5fc2RrLkNhbWVyYU9yaWVudGF0aW9uW2BERUdfJHt0aGlzLl9wcmVmZXJlbmNlcy5jYW1lcmFPcmllbnRhdGlvbn1gXSwhMSxhZSksdj0hMCk7Y29uc3QgWWU9dGhpcy5fZWZmZWN0UGxheWVyLnByb2Nlc3NWaWRlb0ZyYW1lRGF0YShILFEpO3JldHVybiBIIT09TyYmSC5kZWxldGUoKSx7d2lkdGg6TCxoZWlnaHQ6TSxkYXRhOlllfX0pLFA9dGhpcy5fcmVuZGVyZXI9bmV3IHJ0KCh7d2lkdGg6ayxoZWlnaHQ6TCxkYXRhOk19KT0+e3ZhciBPLFcsWixhZTtpZih0aGlzLl9mcmFtZVNpemUud2lkdGghPT1rfHx0aGlzLl9mcmFtZVNpemUuaGVpZ2h0IT09TCl7T2JqZWN0LmFzc2lnbih0aGlzLl9mcmFtZVNpemUse3dpZHRoOmssaGVpZ2h0Okx9KTtjb25zdHt3aWR0aDpRLGhlaWdodDpIfT1raShrLEwsdGhpcy5fcHJlZmVyZW5jZXMuZGV2aWNlUGl4ZWxSYXRpbyk7dGhpcy5fc2RrLnNldENhbnZhc1NpemUoUSxIKSx0aGlzLl9lZmZlY3RNYW5hZ2VyLnNldEVmZmVjdFNpemUoUSxIKSx0aGlzLl9lZmZlY3RQbGF5ZXIuc3VyZmFjZUNoYW5nZWQoUSxIKX10cnl7dGhpcy5fZWZmZWN0UGxheWVyLmRyYXdXaXRoRXh0ZXJuYWxGcmFtZURhdGEoTSk7Y29uc3QgUT10aGlzLl9zZGsuY3R4O1EgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHR8fFEuYmluZEZyYW1lYnVmZmVyKFEuUkVBRF9GUkFNRUJVRkZFUixudWxsKX1jYXRjaChRKXtRIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yJiZ0aGlzLnBhdXNlKCksdGhpcy5jbGVhckVmZmVjdCgpLChXPShPPXRoaXMuX3ByZWZlcmVuY2VzLmxvZ2dlcikud2Fybik9PW51bGx8fFcuY2FsbChPLCJUaGUgZWZmZWN0IHdhcyBmb3JjZSBjbGVhcmVkIGR1ZSB0byB0aGUgZXhjZXB0aW9uOiIpLChhZT0oWj10aGlzLl9wcmVmZXJlbmNlcy5sb2dnZXIpLmVycm9yKT09bnVsbHx8YWUuY2FsbChaLFEpfX0pO20uYWRkRXZlbnRMaXN0ZW5lcihkZS5GUkFNRV9SRUNFSVZFRF9FVkVOVCwoe2RldGFpbDprfSk9PnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoY2UuRlJBTUVfUkVDRUlWRURfRVZFTlQse2RldGFpbDprfSkpKSxtLmFkZEV2ZW50TGlzdGVuZXIoZGUuRlJBTUVfUkVDRUlWRURfRVZFTlQsZnVuY3Rpb24gaygpe2NvbnN0IEw9bS50YWtlKCk7TCYmWnIoKCk9PlMucHV0KEwpKSxtLmFkZEV2ZW50TGlzdGVuZXIoZGUuRlJBTUVfUkVDRUlWRURfRVZFTlQsayx7b25jZTohMH0pfSx7b25jZTohMH0pLG0uYWRkRXZlbnRMaXN0ZW5lcihkZS5TT1VSQ0VfQ0hBTkdFRF9FVkVOVCwoKT0+eyF2fHwodGhpcy5fZWZmZWN0UGxheWVyLnN0b3BWaWRlb1Byb2Nlc3NpbmcoITEpLHY9ITEpfSksbS5hZGRFdmVudExpc3RlbmVyKGRlLkVOREVEX0VWRU5ULCgpPT57dGhpcy5fcHJlZmVyZW5jZXMucGF1c2VPbkVtcHR5JiZ0aGlzLnBhdXNlKCl9KSxTLmFkZEV2ZW50TGlzdGVuZXIoUmUuRlJBTUVfUFJPQ0VTU0VEX0VWRU5ULCh7ZGV0YWlsOmt9KT0+dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChjZS5GUkFNRV9QUk9DRVNTRURfRVZFTlQse2RldGFpbDprfSkpKSxTLmFkZEV2ZW50TGlzdGVuZXIoUmUuRlJBTUVfUFJPQ0VTU0VEX0VWRU5ULGZ1bmN0aW9uIGsoKXtjb25zdCBMPVMudGFrZSgpO0wmJlAucHV0KEwpLFMuYWRkRXZlbnRMaXN0ZW5lcihSZS5GUkFNRV9QUk9DRVNTRURfRVZFTlQsayx7b25jZTohMH0pfSx7b25jZTohMH0pLFAuYWRkRXZlbnRMaXN0ZW5lcihydC5GUkFNRV9SRU5ERVJFRF9FVkVOVCwoe2RldGFpbDprfSk9PnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoY2UuRlJBTUVfUkVOREVSRURfRVZFTlQse2RldGFpbDprfSkpKSx0aGlzLl9lZmZlY3RNYW5hZ2VyLmFkZEVmZmVjdEV2ZW50TGlzdGVuZXIoYXN5bmMgaz0+e2lmKGs9PT1waSl7aWYoYXdhaXQgbmV3IFByb21pc2UoTD0+WnIoTCkpLCFtLmlzUnVubmluZyl7Y29uc3QgTD1TLnRha2UoKXx8UC50YWtlKCk7TCYmUy5wdXQoTCl9UC5pc1J1bm5pbmd8fHRoaXMuX3JlbmRlcmVyLmRyYXcoKX19KSx0aGlzLnNldFZvbHVtZSgwKX1zdGF0aWMgYXN5bmMgY3JlYXRlKGYpe2NvbnN0IGk9YXdhaXQgaGkoZik7cmV0dXJuIG5ldyB0aGlzKGksZil9Z2V0IEZTKCl7cmV0dXJuIHRoaXMuX2ZzfWdldCBjYW52YXMoKXtyZXR1cm4gdGhpcy5fc2RrLmNhbnZhc31nZXQgZnJhbWVTaXplKCl7cmV0dXJuIHRoaXMuX2ZyYW1lU2l6ZX1nZXQgcHJlZmVyZW5jZXMoKXtyZXR1cm4gdGhpcy5fcHJlZmVyZW5jZXN9Z2V0IGlzUGxheWluZygpe3JldHVybiB0aGlzLl9yZW5kZXJlci5pc1J1bm5pbmd9dXNlKGYsaSl7dGhpcy5fY2FtZXJhLnB1dChmLGkpLHRoaXMuX3JlbmRlcmVyLmlzUnVubmluZyYmIXRoaXMuX3JlbmRlcmVyLmlzUGF1c2luZyYmdGhpcy5fY2FtZXJhLnJ1bigpfWFzeW5jIGFkZE1vZHVsZSguLi5mKXthd2FpdCBQcm9taXNlLmFsbChmLm1hcChpPT5pLl9iaW5kKHtGUzp0aGlzLkZTfSkpKX1hc3luYyBhcHBseUVmZmVjdChmKXtjb25zdCBpPXRoaXMsbT1mLm5hbWU7cmV0dXJuIGF3YWl0IGYuX2JpbmQoe0ZTOnRoaXMuRlMsZXZhbEpzOnRoaXMuX2V2YWxKcy5iaW5kKHRoaXMpLGNhbGxKc01ldGhvZDp0aGlzLl9jYWxsSnNNZXRob2QuYmluZCh0aGlzKX0pLG5ldyBQcm9taXNlKHY9Pnt2YXIgayxMLE0sTzt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoY2UuRUZGRUNUX0FDVElWQVRFRF9FVkVOVCxTLHtvbmNlOiEwfSksdGhpcy5hZGRFdmVudExpc3RlbmVyKGNlLkVGRkVDVF9BQ1RJVkFURURfRVZFTlQsUCk7dHJ5e3RoaXMuX2VmZmVjdE1hbmFnZXIubG9hZChtKX1jYXRjaChXKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoY2UuRUZGRUNUX0FDVElWQVRFRF9FVkVOVCxTKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoY2UuRUZGRUNUX0FDVElWQVRFRF9FVkVOVCxQKSxmLl91bmJpbmQoKSx0aGlzLmNsZWFyRWZmZWN0KCksKEw9KGs9dGhpcy5fcHJlZmVyZW5jZXMubG9nZ2VyKS53YXJuKT09bnVsbHx8TC5jYWxsKGssIlRoZSBlZmZlY3Qgd2FzIGZvcmNlIGNsZWFyZWQgZHVlIHRvIHRoZSBleGNlcHRpb246IiksKE89KE09dGhpcy5fcHJlZmVyZW5jZXMubG9nZ2VyKS5lcnJvcik9PW51bGx8fE8uY2FsbChNLFcpfWZ1bmN0aW9uIFMoe2RldGFpbDpXfSl7dihXKX1mdW5jdGlvbiBQKHtkZXRhaWw6V30pe1cudXJsKCkhPT1gLyR7bX1gJiYoaS5yZW1vdmVFdmVudExpc3RlbmVyKGNlLkVGRkVDVF9BQ1RJVkFURURfRVZFTlQsUCksZi5fdW5iaW5kKCkpfX0pfWFzeW5jIGNsZWFyRWZmZWN0KCl7cmV0dXJuIG5ldyBQcm9taXNlKGY9Pnt0aGlzLmFkZEV2ZW50TGlzdGVuZXIoY2UuRUZGRUNUX0FDVElWQVRFRF9FVkVOVCwoKT0+ZigpLHtvbmNlOiEwfSksdGhpcy5fZWZmZWN0TWFuYWdlci5sb2FkKCIiKX0pfWNhbGxKc01ldGhvZChmLGk9IiIpe3JldHVybiB0aGlzLl9jYWxsSnNNZXRob2QoZixpKX1zZXRWb2x1bWUoZil7dGhpcy5fZWZmZWN0TWFuYWdlci5zZXRFZmZlY3RWb2x1bWUoZiksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgidm9sdW1lY2hhbmdlIix7ZGV0YWlsOmZ9KSl9cGxheSh7ZnBzOmY9dGhpcy5fcHJlZmVyZW5jZXMuZnBzLHBhdXNlT25FbXB0eTppPSEwfT17fSl7T2JqZWN0LmFzc2lnbih0aGlzLl9wcmVmZXJlbmNlcyx7ZnBzOmYscGF1c2VPbkVtcHR5Oml9KSx0aGlzLl9jYW1lcmEucnVuKHtmcHM6Zn0pLHRoaXMuX3JlbmRlcmVyLnJ1bih7ZnBzOmZ9KX1hc3luYyBwYXVzZSgpe3RoaXMuX2NhbWVyYS5wYXVzZSgpO3RyeXthd2FpdCB0aGlzLl9yZW5kZXJlci5wYXVzZSgpfWNhdGNoKGYpe3Rocm93IHRoaXMuX2NhbWVyYS5ydW4oKSxmfX1hc3luYyBkZXN0cm95KCl7YXdhaXQgdGhpcy5wYXVzZSgpLHRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKSxhd2FpdCB0aGlzLmNsZWFyRWZmZWN0KCksdGhpcy5fZWZmZWN0UGxheWVyLnN1cmZhY2VEZXN0cm95ZWQoKSx0aGlzLl9tZW1vcnkucmVzZXQoKTtmb3IoY29uc3QgZiBpbiB0aGlzKWYuc3RhcnRzV2l0aCgiXyIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxmLHtnZXQoKXt0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF5ZXIgaXMgZGVzdHJveWVkLiIpfSxzZXQoKXt0aHJvdyBuZXcgRXJyb3IoIlRoZSBwbGF5ZXIgaXMgZGVzdHJveWVkLiIpfX0pfWFzeW5jIF9ldmFsSnMoZil7cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIGk9Pntjb25zdCBtPXRoaXMuX2VmZmVjdE1hbmFnZXIuY3VycmVudCgpLmV2YWxKc1N5bmMoZik7aShtKSx0aGlzLl9yZW5kZXJlci5pc1J1bm5pbmd8fHRoaXMuX3JlbmRlcmVyLmRyYXcoKX0pfWFzeW5jIF9jYWxsSnNNZXRob2QoZixpPSIiKXt0aGlzLl9lZmZlY3RNYW5hZ2VyLmN1cnJlbnQoKS5jYWxsSnNNZXRob2QoZixpKSx0aGlzLl9yZW5kZXJlci5pc1J1bm5pbmd8fHRoaXMuX3JlbmRlcmVyLmRyYXcoKX19LEEoamUsIkZSQU1FX1JFQ0VJVkVEX0VWRU5UIiwiZnJhbWVyZWNlaXZlZCIpLEEoamUsIkZSQU1FX1BST0NFU1NFRF9FVkVOVCIsImZyYW1lcHJvY2Vzc2VkIiksQShqZSwiRlJBTUVfUkVOREVSRURfRVZFTlQiLCJmcmFtZXJlbmRlcmVkIiksQShqZSwiRlJBTUVfREFUQV9FVkVOVCIsImZyYW1lZGF0YSIpLEEoamUsIkVGRkVDVF9BQ1RJVkFURURfRVZFTlQiLCJlZmZlY3RhY3RpdmF0ZWQiKSxqZSk7bGV0IGZyPWNlO1RpKFtsbigiUGxlYXNlLCB1c2UgRWZmZWN0LmV2YWxKcygpIGluc3RlYWQuIildLGZyLnByb3RvdHlwZSwiY2FsbEpzTWV0aG9kIiwxKTtmdW5jdGlvbiBraShkLGYsaSl7Y29uc3QgbT1NYXRoLnJvdW5kKHNlbGYuZGV2aWNlUGl4ZWxSYXRpbyksW3YsU109W3NjcmVlbi53aWR0aCptLHNjcmVlbi5oZWlnaHQqbV0sUD1NYXRoLm1heCgxLHYvZCksaz1NYXRoLm1heCgxLFMvZiksTD1NYXRoLm1heChQLGspO2k9TWF0aC5taW4oaSxMKTtjb25zdCBNPWQqaSxPPWYqaTtyZXR1cm57d2lkdGg6TSxoZWlnaHQ6T319dmFyIFBpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxEaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEZpPShkLGYsaSxtKT0+e2Zvcih2YXIgdj1tPjE/dm9pZCAwOm0/RGkoZixpKTpmLFM9ZC5sZW5ndGgtMSxQO1M+PTA7Uy0tKShQPWRbU10pJiYodj0obT9QKGYsaSx2KTpQKHYpKXx8dik7cmV0dXJuIG0mJnYmJlBpKGYsaSx2KSx2fTtjbGFzcyBkbntjb25zdHJ1Y3RvcihmKXtBKHRoaXMsIm5hbWUiLGBlZmZlY3RzLyR7ZW4oKX1gKTtBKHRoaXMsIl9wbGF5ZXIiLG51bGwpO0EodGhpcywiX3Jlc291cmNlIik7dGhpcy5fcmVzb3VyY2U9bmV3IE1pKGYpfXN0YXRpYyBhc3luYyBwcmVsb2FkKGYsaSl7aWYoQXJyYXkuaXNBcnJheShmKSl7Y29uc3Qgdj1pPT1udWxsP3ZvaWQgMDppLm9uUHJvZ3Jlc3M7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKGYubWFwKChTLFApPT57Y29uc3Qgaz12P3tvblByb2dyZXNzOiguLi5MKT0+dihQLC4uLkwpfTp7fTtyZXR1cm4gdGhpcy5wcmVsb2FkKFMsayl9KSl9Y29uc3QgbT1uZXcgdGhpcyhmKTtyZXR1cm4gYXdhaXQgbS5fbG9hZChpKSxtfWFzeW5jIF9sb2FkKGYpe2F3YWl0IHRoaXMuX3Jlc291cmNlLmxvYWQoZil9YXN5bmMgX2JpbmQoZil7YXdhaXQgdGhpcy5fcmVzb3VyY2UubG9hZCgpLHRoaXMuX3BsYXllcj1mLHRoaXMuX3Jlc291cmNlLm1vdW50KHRoaXMuX3BsYXllci5GUyx0aGlzLm5hbWUpfV91bmJpbmQoKXt0aGlzLl9yZXNvdXJjZS51bm1vdW50KCksdGhpcy5fcGxheWVyPW51bGx9YXN5bmMgd3JpdGVGaWxlKGYsaSl7cmV0dXJuIHRoaXMuX3Jlc291cmNlLndyaXRlRmlsZShmLGkpfWNhbGxKc01ldGhvZChmLGk9IiIpe2lmKCF0aGlzLl9wbGF5ZXIpe2NvbnNvbGUud2FybigiVGhlIG1ldGhvZCB3b24ndCBldmFsdWF0ZTogdGhlIGVmZmVjdCBpcyBub3QgYXBwbGllZCB0byBhIHBsYXllci4iKTtyZXR1cm59cmV0dXJuIHRoaXMuX3BsYXllci5jYWxsSnNNZXRob2QoZixpKX1hc3luYyBldmFsSnMoZil7aWYoIXRoaXMuX3BsYXllcil7Y29uc29sZS53YXJuKCJUaGUgc2NyaXB0IHdvbid0IGV2YWx1YXRlOiB0aGUgZWZmZWN0IGlzIG5vdCBhcHBsaWVkIHRvIGEgcGxheWVyLiIpO3JldHVybn1yZXR1cm4gYXdhaXQgdGhpcy5fcGxheWVyLmV2YWxKcyhmKX19RmkoW2xuKCJQbGVhc2UsIHVzZSBFZmZlY3QuZXZhbEpzKCkgaW5zdGVhZC4iKV0sZG4ucHJvdG90eXBlLCJjYWxsSnNNZXRob2QiLDEpO2NsYXNzIE1pIGV4dGVuZHMgbm57YXN5bmMgX3VuemlwKGYpe2xldCBpPWF3YWl0IHN1cGVyLl91bnppcChmKTtjb25zdCBtPU9iamVjdC5rZXlzKGkpLm1hcChTPT5TLnNwbGl0KCIvIikuZmluZChCb29sZWFuKSksdj1tWzBdO3JldHVybiBtLmV2ZXJ5KFM9PlM9PT12KSYmKGk9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGkpLm1hcCgoW1MsUF0pPT5bUy5yZXBsYWNlKGAke3Z9L2AsIiIpLFBdKSkpLGl9fWNvbnN0IExpPWQ9PmQgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCxSaT1kPT57ZC5zZXQoIkN1c3RvbUV2ZW50Iix7Y2FuSGFuZGxlOmY9PmYgaW5zdGFuY2VvZiBDdXN0b21FdmVudCxzZXJpYWxpemU6KHt0eXBlOmYsZGV0YWlsOml9KT0+W3t0eXBlOmYsZGV0YWlsOml9LE9iamVjdC52YWx1ZXMoaXx8e30pLmZpbHRlcihMaSldLGRlc2VyaWFsaXplOmY9PmZ9KX0sQWk9ZD0+e09iamVjdC5hc3NpZ24oc2VsZixkKX0samk9YXN5bmMgZD0+e2Q9ey4uLmQsY2FudmFzOm5ldyBPZmZzY3JlZW5DYW52YXMoMzAwLDE1MCl9O2NvbnN0IGY9YXdhaXQgSWkuY3JlYXRlKGQpO3JldHVybiBucihmKX07Y2xhc3MgSWkgZXh0ZW5kcyBmcnt1c2VOZXdCaXRtYXBTdHJlYW0oKXtjb25zdCBmPW5ldyBxcjtyZXR1cm4gdGhpcy51c2UoZiksbnIoZil9ZGlzcGF0Y2hFdmVudChmKXtyZXR1cm4gZi50eXBlPT09ZnIuRlJBTUVfUkVOREVSRURfRVZFTlQ/KGNyZWF0ZUltYWdlQml0bWFwKHRoaXMuX3Nkay5jYW52YXMpLnRoZW4oaT0+e2YuZGV0YWlsLmJpdG1hcD1pLGYuZGV0YWlsLmZyYW1lU2l6ZT10aGlzLmZyYW1lU2l6ZSxzdXBlci5kaXNwYXRjaEV2ZW50KGYpfSksITApOnN1cGVyLmRpc3BhdGNoRXZlbnQoZil9YXN5bmMgYXBwbHlFZmZlY3QoZil7Y29uc3R7bmFtZTppLGRhdGE6bX09Zix2PW5ldyBkbihtKTtPYmplY3QuYXNzaWduKHYse25hbWU6aX0pLGF3YWl0IHN1cGVyLmFwcGx5RWZmZWN0KHYpfWFzeW5jIGFkZE1vZHVsZSguLi5mKXtjb25zdCBpPWYubWFwKCh7ZGF0YTptfSk9Pm5ldyBKYShtKSk7YXdhaXQgc3VwZXIuYWRkTW9kdWxlKC4uLmkpfX1SaShlciksdHIoe2VudjpBaSxjcmVhdGU6aml9KTtjb25zdCBtbj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoL15ibG9iOi8sIiIpLE5pPXNlbGYuZmV0Y2gsT2k9c2VsZi5YTUxIdHRwUmVxdWVzdDtzZWxmLlhNTEh0dHBSZXF1ZXN0PWNsYXNzIGV4dGVuZHMgT2l7b3BlbihkLGYsLi4uaSl7cmV0dXJuIGY9bmV3IFVSTChmLG1uKS50b1N0cmluZygpLHN1cGVyLm9wZW4oZCxmLC4uLmkpfX0sc2VsZi5mZXRjaD0oLi4uZCk9PntsZXRbZiwuLi5pXT1kO3JldHVybiBmIGluc3RhbmNlb2YgUmVxdWVzdHx8KGY9bmV3IFVSTChmLG1uKS50b1N0cmluZygpKSxOaShmLC4uLmkpfX0pKCk7Cg==",ri=typeof window<"u"&&window.Blob&&new Blob([atob(Hi)],{type:"text/javascript;charset=utf-8"});function bu(){const e=ri&&(window.URL||window.webkitURL).createObjectURL(ri);try{return e?new Worker(e):new Worker("data:application/javascript;base64,"+Hi)}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}const Gu=()=>typeof OffscreenCanvas<"u",Xt=class extends et{constructor(e){super(),K(this,"_player"),K(this,"_input"),K(this,"_isPlaying",!1),K(this,"canvas",fi()),K(this,"frameSize"),K(this,"preferences",{fps:30,pauseOnEmpty:!0}),this._player=e;const t=this.canvas,l=t.getContext("bitmaprenderer"),n=({type:e,detail:t})=>this.dispatchEvent(new CustomEvent(e,{detail:t}));this._player.addEventListener(Xt.FRAME_RECEIVED_EVENT,$t(n)),this._player.addEventListener(Xt.FRAME_PROCESSED_EVENT,$t(n)),this._player.addEventListener(Xt.FRAME_RENDERED_EVENT,$t((({type:e,detail:i})=>{const{bitmap:c,frameSize:d,...a}=i;this.frameSize=d,t.width!==c.width&&(t.width=c.width),t.height!==c.height&&(t.height=c.height),l.transferFromImageBitmap(c),n({type:e,detail:a})}))),this.frameSize={width:t.width,height:t.height}}static async create(e){e={locateFile:Fi,...e},zl.set("CustomEvent",{canHandle:e=>e instanceof CustomEvent,serialize:({type:e,detail:t})=>[{type:e,detail:t},Object.values(t||{}).filter(uu)],deserialize:e=>e});const t=ki(new bu);await t.env({screen:{width:screen.width,height:screen.height},devicePixelRatio:devicePixelRatio});return new this(await t.create(e))}get isPlaying(){return this._isPlaying}use(e,t={}){this._input=e,this._player.useNewBitmapStream().then((async l=>{const n=e[Symbol.asyncIterator](t);for(;;){const{done:t,value:i}=await n.next(this.preferences.fps);if(this._input!==e||(t&&this.preferences.pauseOnEmpty&&(this._isPlaying=!1),t))break;await l.push(qt(i,[i.data]))}await l.stop(),l[Tl]()}))}async applyEffect(e){await e._bind({FS:null,evalJs:async e=>await this._player._evalJs(e),callJsMethod:(e,t)=>this._player._callJsMethod(e,t)});const t=e.name,l=e._resource._data;return await this._player.applyEffect(qt({name:t,data:l},[])),null}async clearEffect(){await this._player.clearEffect()}async addModule(...e){await Promise.all(e.map((async e=>{await e._load();const t=e._resource._data;await this._player.addModule(qt({data:t},[]))})))}play(e={}){Object.assign(this.preferences,{pauseOnEmpty:!0},e),this._player.play(this.preferences)}async pause(){await this._player.pause(),this._isPlaying=!1}async destroy(){await this._player.destroy(),this._player[Tl]()}setVolume(...e){this._player.setVolume(...e)}async callJsMethod(...e){await this._player._callJsMethod(...e)}};let Me=Xt;K(Me,"FRAME_RECEIVED_EVENT","framereceived"),K(Me,"FRAME_PROCESSED_EVENT","frameprocessed"),K(Me,"FRAME_RENDERED_EVENT","framerendered"),K(Me,"FRAME_DATA_EVENT","framedata"),K(Me,"EFFECT_ACTIVATED_EVENT","effectactivated");const Yu=()=>/Edge?\/(79|[89]\d|\d{3,})(\.\d+|)(\.\d+|)|Firefox\/(6[5-9]|[7-9]\d|\d{3,})\.\d+(\.\d+|)|Chrom(ium|e)\/(5[7-9]|[6-9]\d|\d{3,})\.\d+(\.\d+|)([\d.]+$|.*Safari\/(?![\d.]+ Edge\/[\d.]+$))|Maci.* Version\/(1[5-9]|[2-9]\d|\d{3,})\.\d+([,.]\d+|)( Mobile\/\w+|) Safari\/|Chrome.+OPR\/(4[4-9]|[5-9]\d|\d{3,})\.\d+\.\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(1[5-9]|[2-9]\d|\d{3,})[._]\d+([._]\d+|)|Mobile Safari.+OPR\/(7[2-9]|[89]\d|\d{3,})\.\d+\.\d+|Android.+Chrom(ium|e)\/(10[7-9]|1[1-9]\d|[2-9]\d{2}|\d{4,})\.\d+(\.\d+|)|Android.+(UC? ?Browser|UCWEB|U3)[ /]?(1[3-9]|[2-9]\d|\d{3,})\.\d+\.\d+|SamsungBrowser\/([7-9]|\d{2,})\.\d+|Android.+MQ{2}Browser\/(1[3-9]|[2-9]\d|\d{3,})(\.\d+|)(\.\d+|)|baidubrowser[\s/](1[3-9]|[2-9]\d|\d{3,})(\.\d+|)(\.\d+|)/.test(navigator.userAgent),Ru="1.6.0-1-g847cbf7e62";export{Xu as Dom,Gm as Effect,Pm as FrameData,cm as Image,yu as ImageCapture,$e as MediaStream,gl as MediaStreamCapture,hu as Module,Me as OffscreenPlayer,_m as Player,Ru as VERSION,Yi as Video,Vu as VideoRecorder,Wu as Webcam,Hm as createSDK,Om as defaultPlayerOptions,Jl as defaultVideoConstraints,sm as defaultVideoOptions,Yu as isBrowserSupported,Gu as isOffscreenPlayerSupported,Sm as isSimdSupported,Ps as timers,bm as utils};
//# sourceMappingURL=/sm/d5f2ddd389b0abf5f1610a3bb0e68397144bc214c5eb2266da216b4415cfd8c9.map